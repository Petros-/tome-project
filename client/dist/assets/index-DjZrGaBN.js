(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var rL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hm={exports:{}},qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function jA(){if(Nv)return qf;Nv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return qf.Fragment=e,qf.jsx=t,qf.jsxs=t,qf}var xv;function VA(){return xv||(xv=1,hm.exports=jA()),hm.exports}var ye=VA(),fm={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function FA(){if(Rv)return Gt;Rv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function T(X){return X===null||typeof X!="object"?null:(X=A&&X[A]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function V(X,Te,F){this.props=X,this.context=Te,this.refs=D,this.updater=F||w}V.prototype.isReactComponent={},V.prototype.setState=function(X,Te){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,Te,"setState")},V.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function k(){}k.prototype=V.prototype;function z(X,Te,F){this.props=X,this.context=Te,this.refs=D,this.updater=F||w}var Z=z.prototype=new k;Z.constructor=z,P(Z,V.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,de={H:null,A:null,T:null,S:null},De=Object.prototype.hasOwnProperty;function H(X,Te,F,Y,J,ie){return F=ie.ref,{$$typeof:n,type:X,key:Te,ref:F!==void 0?F:null,props:ie}}function C(X,Te){return H(X.type,Te,void 0,void 0,void 0,X.props)}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function W(X){var Te={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(F){return Te[F]})}var R=/\/+/g;function L(X,Te){return typeof X=="object"&&X!==null&&X.key!=null?W(""+X.key):Te.toString(36)}function U(){}function se(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(U,U):(X.status="pending",X.then(function(Te){X.status==="pending"&&(X.status="fulfilled",X.value=Te)},function(Te){X.status==="pending"&&(X.status="rejected",X.reason=Te)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ke(X,Te,F,Y,J){var ie=typeof X;(ie==="undefined"||ie==="boolean")&&(X=null);var ae=!1;if(X===null)ae=!0;else switch(ie){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(X.$$typeof){case n:case e:ae=!0;break;case b:return ae=X._init,ke(ae(X._payload),Te,F,Y,J)}}if(ae)return J=J(X),ae=Y===""?"."+L(X,0):Y,he(J)?(F="",ae!=null&&(F=ae.replace(R,"$&/")+"/"),ke(J,Te,F,"",function(Ne){return Ne})):J!=null&&(O(J)&&(J=C(J,F+(J.key==null||X&&X.key===J.key?"":(""+J.key).replace(R,"$&/")+"/")+ae)),Te.push(J)),1;ae=0;var Ee=Y===""?".":Y+":";if(he(X))for(var we=0;we<X.length;we++)Y=X[we],ie=Ee+L(Y,we),ae+=ke(Y,Te,F,ie,J);else if(we=T(X),typeof we=="function")for(X=we.call(X),we=0;!(Y=X.next()).done;)Y=Y.value,ie=Ee+L(Y,we++),ae+=ke(Y,Te,F,ie,J);else if(ie==="object"){if(typeof X.then=="function")return ke(se(X),Te,F,Y,J);throw Te=String(X),Error("Objects are not valid as a React child (found: "+(Te==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":Te)+"). If you meant to render a collection of children, use an array instead.")}return ae}function le(X,Te,F){if(X==null)return X;var Y=[],J=0;return ke(X,Y,"","",function(ie){return Te.call(F,ie,J++)}),Y}function Ae(X){if(X._status===-1){var Te=X._result;Te=Te(),Te.then(function(F){(X._status===0||X._status===-1)&&(X._status=1,X._result=F)},function(F){(X._status===0||X._status===-1)&&(X._status=2,X._result=F)}),X._status===-1&&(X._status=0,X._result=Te)}if(X._status===1)return X._result.default;throw X._result}var ce=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(Te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function Le(){}return Gt.Children={map:le,forEach:function(X,Te,F){le(X,function(){Te.apply(this,arguments)},F)},count:function(X){var Te=0;return le(X,function(){Te++}),Te},toArray:function(X){return le(X,function(Te){return Te})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Gt.Component=V,Gt.Fragment=t,Gt.Profiler=a,Gt.PureComponent=z,Gt.StrictMode=r,Gt.Suspense=f,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Gt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Gt.cache=function(X){return function(){return X.apply(null,arguments)}},Gt.cloneElement=function(X,Te,F){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Y=P({},X.props),J=X.key,ie=void 0;if(Te!=null)for(ae in Te.ref!==void 0&&(ie=void 0),Te.key!==void 0&&(J=""+Te.key),Te)!De.call(Te,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Te.ref===void 0||(Y[ae]=Te[ae]);var ae=arguments.length-2;if(ae===1)Y.children=F;else if(1<ae){for(var Ee=Array(ae),we=0;we<ae;we++)Ee[we]=arguments[we+2];Y.children=Ee}return H(X.type,J,void 0,void 0,ie,Y)},Gt.createContext=function(X){return X={$$typeof:u,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Gt.createElement=function(X,Te,F){var Y,J={},ie=null;if(Te!=null)for(Y in Te.key!==void 0&&(ie=""+Te.key),Te)De.call(Te,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(J[Y]=Te[Y]);var ae=arguments.length-2;if(ae===1)J.children=F;else if(1<ae){for(var Ee=Array(ae),we=0;we<ae;we++)Ee[we]=arguments[we+2];J.children=Ee}if(X&&X.defaultProps)for(Y in ae=X.defaultProps,ae)J[Y]===void 0&&(J[Y]=ae[Y]);return H(X,ie,void 0,void 0,null,J)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(X){return{$$typeof:h,render:X}},Gt.isValidElement=O,Gt.lazy=function(X){return{$$typeof:b,_payload:{_status:-1,_result:X},_init:Ae}},Gt.memo=function(X,Te){return{$$typeof:m,type:X,compare:Te===void 0?null:Te}},Gt.startTransition=function(X){var Te=de.T,F={};de.T=F;try{var Y=X(),J=de.S;J!==null&&J(F,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Le,ce)}catch(ie){ce(ie)}finally{de.T=Te}},Gt.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Gt.use=function(X){return de.H.use(X)},Gt.useActionState=function(X,Te,F){return de.H.useActionState(X,Te,F)},Gt.useCallback=function(X,Te){return de.H.useCallback(X,Te)},Gt.useContext=function(X){return de.H.useContext(X)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(X,Te){return de.H.useDeferredValue(X,Te)},Gt.useEffect=function(X,Te){return de.H.useEffect(X,Te)},Gt.useId=function(){return de.H.useId()},Gt.useImperativeHandle=function(X,Te,F){return de.H.useImperativeHandle(X,Te,F)},Gt.useInsertionEffect=function(X,Te){return de.H.useInsertionEffect(X,Te)},Gt.useLayoutEffect=function(X,Te){return de.H.useLayoutEffect(X,Te)},Gt.useMemo=function(X,Te){return de.H.useMemo(X,Te)},Gt.useOptimistic=function(X,Te){return de.H.useOptimistic(X,Te)},Gt.useReducer=function(X,Te,F){return de.H.useReducer(X,Te,F)},Gt.useRef=function(X){return de.H.useRef(X)},Gt.useState=function(X){return de.H.useState(X)},Gt.useSyncExternalStore=function(X,Te,F){return de.H.useSyncExternalStore(X,Te,F)},Gt.useTransition=function(){return de.H.useTransition()},Gt.version="19.0.0",Gt}var Cv;function k1(){return Cv||(Cv=1,fm.exports=FA()),fm.exports}var Me=k1(),dm={exports:{}},zf={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function BA(){return Iv||(Iv=1,function(n){function e(le,Ae){var ce=le.length;le.push(Ae);e:for(;0<ce;){var Le=ce-1>>>1,X=le[Le];if(0<a(X,Ae))le[Le]=Ae,le[ce]=X,ce=Le;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var Ae=le[0],ce=le.pop();if(ce!==Ae){le[0]=ce;e:for(var Le=0,X=le.length,Te=X>>>1;Le<Te;){var F=2*(Le+1)-1,Y=le[F],J=F+1,ie=le[J];if(0>a(Y,ce))J<X&&0>a(ie,Y)?(le[Le]=ie,le[J]=ce,Le=J):(le[Le]=Y,le[F]=ce,Le=F);else if(J<X&&0>a(ie,ce))le[Le]=ie,le[J]=ce,Le=J;else break e}}return Ae}function a(le,Ae){var ce=le.sortIndex-Ae.sortIndex;return ce!==0?ce:le.id-Ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],b=1,A=null,T=3,w=!1,P=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z(le){for(var Ae=t(m);Ae!==null;){if(Ae.callback===null)r(m);else if(Ae.startTime<=le)r(m),Ae.sortIndex=Ae.expirationTime,e(f,Ae);else break;Ae=t(m)}}function he(le){if(D=!1,Z(le),!P)if(t(f)!==null)P=!0,se();else{var Ae=t(m);Ae!==null&&ke(he,Ae.startTime-le)}}var de=!1,De=-1,H=5,C=-1;function O(){return!(n.unstable_now()-C<H)}function W(){if(de){var le=n.unstable_now();C=le;var Ae=!0;try{e:{P=!1,D&&(D=!1,k(De),De=-1),w=!0;var ce=T;try{t:{for(Z(le),A=t(f);A!==null&&!(A.expirationTime>le&&O());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,T=A.priorityLevel;var X=Le(A.expirationTime<=le);if(le=n.unstable_now(),typeof X=="function"){A.callback=X,Z(le),Ae=!0;break t}A===t(f)&&r(f),Z(le)}else r(f);A=t(f)}if(A!==null)Ae=!0;else{var Te=t(m);Te!==null&&ke(he,Te.startTime-le),Ae=!1}}break e}finally{A=null,T=ce,w=!1}Ae=void 0}}finally{Ae?R():de=!1}}}var R;if(typeof z=="function")R=function(){z(W)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=W,R=function(){U.postMessage(null)}}else R=function(){V(W,0)};function se(){de||(de=!0,R())}function ke(le,Ae){De=V(function(){le(n.unstable_now())},Ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){P||w||(P=!0,se())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(T){case 1:case 2:case 3:var Ae=3;break;default:Ae=T}var ce=T;T=Ae;try{return le()}finally{T=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ce=T;T=le;try{return Ae()}finally{T=ce}},n.unstable_scheduleCallback=function(le,Ae,ce){var Le=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Le+ce:Le):ce=Le,le){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,le={id:b++,callback:Ae,priorityLevel:le,startTime:ce,expirationTime:X,sortIndex:-1},ce>Le?(le.sortIndex=ce,e(m,le),t(f)===null&&le===t(m)&&(D?(k(De),De=-1):D=!0,ke(he,ce-Le))):(le.sortIndex=X,e(f,le),P||w||(P=!0,se())),le},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(le){var Ae=T;return function(){var ce=T;T=Ae;try{return le.apply(this,arguments)}finally{T=ce}}}}(mm)),mm}var Lv;function qA(){return Lv||(Lv=1,pm.exports=BA()),pm.exports}var gm={exports:{}},Ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function zA(){if(Pv)return Ui;Pv=1;var n=k1();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:m,implementation:b}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ui.createPortal=function(f,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,b)},Ui.flushSync=function(f){var m=u.T,b=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=b,r.d.f()}},Ui.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Ui.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ui.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:w}):b==="script"&&r.d.X(f,{crossOrigin:A,integrity:T,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ui.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Ui.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin);r.d.L(f,b,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ui.preloadModule=function(f,m){if(typeof f=="string")if(m){var b=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Ui.requestFormReset=function(f){r.d.r(f)},Ui.unstable_batchedUpdates=function(f,m){return f(m)},Ui.useFormState=function(f,m,b){return u.H.useFormState(f,m,b)},Ui.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ui.version="19.0.0",Ui}var kv;function HA(){if(kv)return gm.exports;kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=zA(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function GA(){if(Ov)return zf;Ov=1;var n=qA(),e=k1(),t=HA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),w=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function De(i){return i===null||typeof i!="object"?null:(i=de&&i[de]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case h:return"Portal";case b:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:C(i.type)||"Memo";case z:s=i._payload,i=i._init;try{return C(i(s))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,R,L;function U(i){if(R===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||"",L=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+i+L}var se=!1;function ke(i,s){if(!i||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Fe){var Ue=Fe}Reflect.construct(i,[],Je)}else{try{Je.call()}catch(Fe){Ue=Fe}i.call(Je.prototype)}}else{try{throw Error()}catch(Fe){Ue=Fe}(Je=i())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Fe){if(Fe&&Ue&&typeof Fe.stack=="string")return[Fe.stack,Ue.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),I=y[0],$=y[1];if(I&&$){var re=I.split(`
`),_e=$.split(`
`);for(g=c=0;c<re.length&&!re[c].includes("DetermineComponentFrameRoot");)c++;for(;g<_e.length&&!_e[g].includes("DetermineComponentFrameRoot");)g++;if(c===re.length||g===_e.length)for(c=re.length-1,g=_e.length-1;1<=c&&0<=g&&re[c]!==_e[g];)g--;for(;1<=c&&0<=g;c--,g--)if(re[c]!==_e[g]){if(c!==1||g!==1)do if(c--,g--,0>g||re[c]!==_e[g]){var qe=`
`+re[c].replace(" at new "," at ");return i.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",i.displayName)),qe}while(1<=c&&0<=g);break}}}finally{se=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?U(l):""}function le(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Ae(i){try{var s="";do s+=le(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ce(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Le(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function X(i){if(ce(i)!==i)throw Error(r(188))}function Te(i){var s=i.alternate;if(!s){if(s=ce(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return X(g),i;if(y===c)return X(g),s;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var I=!1,$=g.child;$;){if($===l){I=!0,l=g,c=y;break}if($===c){I=!0,c=g,l=y;break}$=$.sibling}if(!I){for($=y.child;$;){if($===l){I=!0,l=y,c=g;break}if($===c){I=!0,c=y,l=g;break}$=$.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function F(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=F(i),s!==null)return s;i=i.sibling}return null}var Y=Array.isArray,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ae=[],Ee=-1;function we(i){return{current:i}}function Ne(i){0>Ee||(i.current=ae[Ee],ae[Ee]=null,Ee--)}function He(i,s){Ee++,ae[Ee]=i.current,i.current=s}var Ye=we(null),it=we(null),tt=we(null),_t=we(null);function je(i,s){switch(He(tt,s),He(it,i),He(Ye,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?tv(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=tv(i),s=nv(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ne(Ye),He(Ye,s)}function ne(){Ne(Ye),Ne(it),Ne(tt)}function Lt(i){i.memoizedState!==null&&He(_t,i);var s=Ye.current,l=nv(s,i.type);s!==l&&(He(it,i),He(Ye,l))}function ft(i){it.current===i&&(Ne(Ye),Ne(it)),_t.current===i&&(Ne(_t),Uf._currentValue=ie)}var Ze=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,ot=n.unstable_shouldYield,gt=n.unstable_requestPaint,vt=n.unstable_now,Dt=n.unstable_getCurrentPriorityLevel,bt=n.unstable_ImmediatePriority,Nt=n.unstable_UserBlockingPriority,Yt=n.unstable_NormalPriority,xt=n.unstable_LowPriority,qt=n.unstable_IdlePriority,lt=n.log,Yn=n.unstable_setDisableYieldValue,zt=null,Cn=null;function mn(i){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(zt,i,void 0,(i.current.flags&128)===128)}catch{}}function an(i){if(typeof lt=="function"&&Yn(i),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(zt,i)}catch{}}var jn=Math.clz32?Math.clz32:On,en=Math.log,Ws=Math.LN2;function On(i){return i>>>=0,i===0?32:31-(en(i)/Ws|0)|0}var hr=128,Wr=4194304;function hn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wt(i,s){var l=i.pendingLanes;if(l===0)return 0;var c=0,g=i.suspendedLanes,y=i.pingedLanes,I=i.warmLanes;i=i.finishedLanes!==0;var $=l&134217727;return $!==0?(l=$&~g,l!==0?c=hn(l):(y&=$,y!==0?c=hn(y):i||(I=$&~I,I!==0&&(c=hn(I))))):($=l&~g,$!==0?c=hn($):y!==0?c=hn(y):i||(I=l&~I,I!==0&&(c=hn(I)))),c===0?0:s!==0&&s!==c&&(s&g)===0&&(g=c&-c,I=s&-s,g>=I||g===32&&(I&4194176)!==0)?s:c}function Kt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ss(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var i=hr;return hr<<=1,(hr&4194176)===0&&(hr=128),i}function Or(){var i=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),i}function ui(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ct(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Si(i,s,l,c,g,y){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,re=i.expirationTimes,_e=i.hiddenUpdates;for(l=I&~l;0<l;){var qe=31-jn(l),Je=1<<qe;$[qe]=0,re[qe]=-1;var Ue=_e[qe];if(Ue!==null)for(_e[qe]=null,qe=0;qe<Ue.length;qe++){var Fe=Ue[qe];Fe!==null&&(Fe.lane&=-536870913)}l&=~Je}c!==0&&Dr(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(I&~s))}function Dr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-jn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function rr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-jn(l),g=1<<c;g&s|i[c]&s&&(i[c]|=s),l&=~g}}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qn(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:bv(i.type))}function fr(i,s){var l=J.p;try{return J.p=i,s()}finally{J.p=l}}var ci=Math.random().toString(36).slice(2),In="__reactFiber$"+ci,wn="__reactProps$"+ci,br="__reactContainer$"+ci,Mr="__reactEvents$"+ci,hi="__reactListeners$"+ci,ir="__reactHandles$"+ci,Ti="__reactResources$"+ci,Ni="__reactMarker$"+ci;function as(i){delete i[In],delete i[wn],delete i[Mr],delete i[hi],delete i[ir]}function $r(i){var s=i[In];if(s)return s;for(var l=i.parentNode;l;){if(s=l[br]||l[In]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=sv(i);i!==null;){if(l=i[In])return l;i=sv(i)}return s}i=l,l=i.parentNode}return null}function xi(i){if(i=i[In]||i[br]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Wi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function As(i){var s=i[Ti];return s||(s=i[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dn(i){i[Ni]=!0}var Ho=new Set,Es={};function Yr(i,s){Qr(i,s),Qr(i+"Capture",s)}function Qr(i,s){for(Es[i]=s,i=0;i<s.length;i++)Ho.add(s[i])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},Go={};function ga(i){return Ze.call(Go,i)?!0:Ze.call(no,i)?!1:zu.test(i)?Go[i]=!0:(no[i]=!0,!1)}function $s(i,s,l){if(ga(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function An(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function fi(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Cr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ko(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wo(i){var s=Ko(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(I){c=""+I,y.call(this,I)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function va(i){i._valueTracker||(i._valueTracker=Wo(i))}function di(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Ko(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Ss(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xn=/[\n"\\]/g;function Ln(i){return i.replace(Xn,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ts(i,s,l,c,g,y,I,$){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),s!=null?I==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Cr(s)):i.value!==""+Cr(s)&&(i.value=""+Cr(s)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),s!=null?_a(i,I,Cr(s)):l!=null?_a(i,I,Cr(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Cr($):i.removeAttribute("name")}function ya(i,s,l,c,g,y,I,$){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Cr(l):"",s=s!=null?""+Cr(s):l,$||s===i.value||(i.value=s),i.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=$?i.checked:!!c,i.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I)}function _a(i,s,l){s==="number"&&Ss(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function tn(i,s,l,c){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Cr(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Ys(i,s,l){if(s!=null&&(s=""+Cr(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Cr(l):""}function Qs(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Y(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Cr(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Xr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Hu.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Ml(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&l[g]!==c&&$o(i,g,c)}else for(var y in s)s.hasOwnProperty(y)&&$o(i,y,s[y])}function $i(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(i){return io.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Tn=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var os=null,Et=null;function Ns(i){var s=xi(i);if(s&&(i=s.stateNode)){var l=i[wn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ts(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ln(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var g=c[wn]||null;if(!g)throw Error(r(90));Ts(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&di(c)}break e;case"textarea":Ys(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&tn(i,!!l.multiple,s,!1)}}}var Yo=!1;function Qi(i,s,l){if(Yo)return i(s,l);Yo=!0;try{var c=i(s);return c}finally{if(Yo=!1,(os!==null||Et!==null)&&(lp(),os&&(s=os,i=Et,Et=os=null,Ns(s),i)))for(s=0;s<i.length;s++)Ns(i[s])}}function Xs(i,s){var l=i.stateNode;if(l===null)return null;var c=l[wn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var pi=!1;if(Ur)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){pi=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{pi=!1}var Ri=null,Js=null,xs=null;function Qo(){if(xs)return xs;var i,s=Js,l=s.length,c,g="value"in Ri?Ri.value:Ri.textContent,y=g.length;for(i=0;i<l&&s[i]===g[i];i++);var I=l-i;for(c=1;c<=I&&s[l-c]===g[y-c];c++);return xs=g.slice(i,1<c?1-c:void 0)}function Ci(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Jr(){return!0}function us(){return!1}function dr(i){function s(l,c,g,y,I){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(y):y[$]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Jr:us,this.isPropagationStopped=us,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),s}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=dr(Qt),cs=W({},Qt,{view:0,detail:0}),Xo=dr(cs),ba,wa,Xi,Zr=W({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(ba=i.screenX-Xi.screenX,wa=i.screenY-Xi.screenY):wa=ba=0,Xi=i),ba)},movementY:function(i){return"movementY"in i?i.movementY:wa}}),pr=dr(Zr),Ul=W({},Zr,{dataTransfer:0}),ea=dr(Ul),jr=W({},cs,{relatedTarget:0}),ta=dr(jr),Rs=W({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=dr(Rs),Aa=W({},Qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oo=dr(Aa),Jo=W({},Qt,{data:0}),Ea=dr(Jo),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ta(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lo[i])?!!s[i]:!1}function ra(){return Ta}var jl=W({},cs,{key:function(i){if(i.key){var s=na[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sa[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cs=dr(jl),ia=W({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=dr(ia),ei=W({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),uo=dr(ei),_=W({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=dr(_),te=W({},Zr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=dr(te),be=W({},Qt,{newState:0,oldState:0}),Ve=dr(be),Qe=[9,13,27,32],st=Ur&&"CompositionEvent"in window,p=null;Ur&&"documentMode"in document&&(p=document.documentMode);var S=Ur&&"TextEvent"in window&&!p,x=Ur&&(!st||p&&8<p&&11>=p),G=" ",ge=!1;function Ie(i,s){switch(i){case"keyup":return Qe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rt=!1;function Xt(i,s){switch(i){case"compositionend":return Xe(s);case"keypress":return s.which!==32?null:(ge=!0,G);case"textInput":return i=s.data,i===G&&ge?null:i;default:return null}}function Mt(i,s){if(Rt)return i==="compositionend"||!st&&Ie(i,s)?(i=Qo(),xs=Js=Ri=null,Rt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!yn[i.type]:s==="textarea"}function hs(i,s,l,c){os?Et?Et.push(c):Et=[c]:os=c,s=dp(s,"onChange"),0<s.length&&(l=new Zs("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var sr=null,Ii=null;function sa(i){Q5(i,0)}function co(i){var s=Wi(i);if(di(s))return i}function Vl(i,s){if(i==="change")return s}var Zo=!1;if(Ur){var wr;if(Ur){var ho="oninput"in document;if(!ho){var el=document.createElement("div");el.setAttribute("oninput","return;"),ho=typeof el.oninput=="function"}wr=ho}else wr=!1;Zo=wr&&(!document.documentMode||9<document.documentMode)}function tl(){sr&&(sr.detachEvent("onpropertychange",Fl),Ii=sr=null)}function Fl(i){if(i.propertyName==="value"&&co(Ii)){var s=[];hs(s,Ii,i,so(i)),Qi(sa,s)}}function Li(i,s,l){i==="focusin"?(tl(),sr=s,Ii=l,sr.attachEvent("onpropertychange",Fl)):i==="focusout"&&tl()}function sf(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return co(Ii)}function Gu(i,s){if(i==="click")return co(s)}function qc(i,s){if(i==="input"||i==="change")return co(s)}function fs(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ir=typeof Object.is=="function"?Object.is:fs;function fo(i,s){if(Ir(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ze.call(s,g)||!Ir(i[g],s[g]))return!1}return!0}function Ku(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xa(i,s){var l=Ku(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ku(l)}}function po(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?po(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mi(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ss(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ss(i.document)}return s}function Vr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function mo(i,s){var l=mi(s);s=i.focusedElem;var c=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&po(s.ownerDocument.documentElement,s)){if(c!==null&&Vr(s)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var g=s.textContent.length,y=Math.min(c.start,g);c=c.end===void 0?y:Math.min(c.end,g),!l.extend&&y>c&&(g=c,c=y,y=g),g=xa(s,y);var I=xa(s,c);g&&I&&(l.rangeCount!==1||l.anchorNode!==g.node||l.anchorOffset!==g.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),l.removeAllRanges(),y>c?(l.addRange(i),l.extend(I.node,I.offset)):(i.setEnd(I.node,I.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Ra=Ur&&"documentMode"in document&&11>=document.documentMode,Pi=null,go=null,Ji=null,zn=!1;function Bl(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zn||Pi==null||Pi!==Ss(c)||(c=Pi,"selectionStart"in c&&Vr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ji&&fo(Ji,c)||(Ji=c,c=dp(go,"onSelect"),0<c.length&&(s=new Zs("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Pi)))}function ar(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Fr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},vo={},Wu={};Ur&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Is(i){if(vo[i])return vo[i];if(!Fr[i])return i;var s=Fr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Wu)return vo[i]=s[l];return i}var yo=Is("animationend"),_o=Is("animationiteration"),Ca=Is("animationstart"),nl=Is("transitionrun"),ql=Is("transitionstart"),rl=Is("transitioncancel"),Ia=Is("transitionend"),zl=new Map,Zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jn(i,s){zl.set(i,s),Yr(s,[i])}var Wt=[],gn=0,Hn=0;function Zn(){for(var i=gn,s=Hn=gn=0;s<i;){var l=Wt[s];Wt[s++]=null;var c=Wt[s];Wt[s++]=null;var g=Wt[s];Wt[s++]=null;var y=Wt[s];if(Wt[s++]=null,c!==null&&g!==null){var I=c.pending;I===null?g.next=g:(g.next=I.next,I.next=g),c.pending=g}y!==0&&$u(l,g,y)}}function ds(i,s,l,c){Wt[gn++]=i,Wt[gn++]=s,Wt[gn++]=l,Wt[gn++]=c,Hn|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function il(i,s,l,c){return ds(i,s,l,c),Hl(i)}function es(i,s){return ds(i,null,null,s),Hl(i)}function $u(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;g&&s!==null&&i.tag===3&&(y=i.stateNode,g=31-jn(l),y=y.hiddenUpdates,i=y[g],i===null?y[g]=[s]:i.push(s),s.lane=l|536870912)}function Hl(i){if(50<If)throw If=0,D2=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var La={},ki=new WeakMap;function Gn(i,s){if(typeof i=="object"&&i!==null){var l=ki.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Ae(s)},ki.set(i,s),s)}return{value:i,source:s,stack:Ae(s)}}var Pa=[],ka=0,Yu=null,sl=0,gi=[],Oi=0,bo=null,Ls=1,Ps="";function aa(i,s){Pa[ka++]=sl,Pa[ka++]=Yu,Yu=i,sl=s}function zc(i,s,l){gi[Oi++]=Ls,gi[Oi++]=Ps,gi[Oi++]=bo,bo=i;var c=Ls;i=Ps;var g=32-jn(c)-1;c&=~(1<<g),l+=1;var y=32-jn(s)+g;if(30<y){var I=g-g%5;y=(c&(1<<I)-1).toString(32),c>>=I,g-=I,Ls=1<<32-jn(s)+g|l<<g|c,Ps=y+i}else Ls=1<<y|l<<g|c,Ps=i}function af(i){i.return!==null&&(aa(i,1),zc(i,1,0))}function of(i){for(;i===Yu;)Yu=Pa[--ka],Pa[ka]=null,sl=Pa[--ka],Pa[ka]=null;for(;i===bo;)bo=gi[--Oi],gi[Oi]=null,Ps=gi[--Oi],gi[Oi]=null,Ls=gi[--Oi],gi[Oi]=null}var ti=null,Br=null,fn=!1,ks=null,oa=!1,lf=Error(r(519));function Oa(i){var s=Error(r(418,""));throw Kl(Gn(s,i)),lf}function Hc(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[In]=i,s[wn]=c,l){case"dialog":un("cancel",s),un("close",s);break;case"iframe":case"object":case"embed":un("load",s);break;case"video":case"audio":for(l=0;l<Pf.length;l++)un(Pf[l],s);break;case"source":un("error",s);break;case"img":case"image":case"link":un("error",s),un("load",s);break;case"details":un("toggle",s);break;case"input":un("invalid",s),ya(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),va(s);break;case"select":un("invalid",s);break;case"textarea":un("invalid",s),Qs(s,c.value,c.defaultValue,c.children),va(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||ev(s.textContent,l)?(c.popover!=null&&(un("beforetoggle",s),un("toggle",s)),c.onScroll!=null&&un("scroll",s),c.onScrollEnd!=null&&un("scrollend",s),c.onClick!=null&&(s.onclick=pp),s=!0):s=!1,s||Oa(i)}function Gl(i){for(ti=i.return;ti;)switch(ti.tag){case 3:case 27:oa=!0;return;case 5:case 13:oa=!1;return;default:ti=ti.return}}function Qu(i){if(i!==ti)return!1;if(!fn)return Gl(i),fn=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||J2(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&Br&&Oa(i),Gl(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Br=za(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Br=null}}else Br=ti?za(i.stateNode.nextSibling):null;return!0}function Xu(){Br=ti=null,fn=!1}function Kl(i){ks===null?ks=[i]:ks.push(i)}var Ju=Error(r(460)),Md=Error(r(474)),uf={then:function(){}};function Ud(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Os(){}function ps(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Os,Os),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Ju?Error(r(483)):i;default:if(typeof s.status=="string")s.then(Os,Os);else{if(i=Fn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Ju?Error(r(483)):i}throw ts=s,Ju}}var ts=null;function jd(){if(ts===null)throw Error(r(459));var i=ts;return ts=null,i}var al=null,ms=0;function vi(i){var s=ms;return ms+=1,al===null&&(al=[]),ps(al,i,s)}function Zu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Gc(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function cf(i){var s=i._init;return s(i._payload)}function hf(i){function s(Se,me){if(i){var Pe=Se.deletions;Pe===null?(Se.deletions=[me],Se.flags|=16):Pe.push(me)}}function l(Se,me){if(!i)return null;for(;me!==null;)s(Se,me),me=me.sibling;return null}function c(Se){for(var me=new Map;Se!==null;)Se.key!==null?me.set(Se.key,Se):me.set(Se.index,Se),Se=Se.sibling;return me}function g(Se,me){return Se=ou(Se,me),Se.index=0,Se.sibling=null,Se}function y(Se,me,Pe){return Se.index=Pe,i?(Pe=Se.alternate,Pe!==null?(Pe=Pe.index,Pe<me?(Se.flags|=33554434,me):Pe):(Se.flags|=33554434,me)):(Se.flags|=1048576,me)}function I(Se){return i&&Se.alternate===null&&(Se.flags|=33554434),Se}function $(Se,me,Pe,Ke){return me===null||me.tag!==6?(me=x2(Pe,Se.mode,Ke),me.return=Se,me):(me=g(me,Pe),me.return=Se,me)}function re(Se,me,Pe,Ke){var pt=Pe.type;return pt===f?qe(Se,me,Pe.props.children,Ke,Pe.key):me!==null&&(me.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===z&&cf(pt)===me.type)?(me=g(me,Pe.props),Zu(me,Pe),me.return=Se,me):(me=rp(Pe.type,Pe.key,Pe.props,null,Se.mode,Ke),Zu(me,Pe),me.return=Se,me)}function _e(Se,me,Pe,Ke){return me===null||me.tag!==4||me.stateNode.containerInfo!==Pe.containerInfo||me.stateNode.implementation!==Pe.implementation?(me=R2(Pe,Se.mode,Ke),me.return=Se,me):(me=g(me,Pe.children||[]),me.return=Se,me)}function qe(Se,me,Pe,Ke,pt){return me===null||me.tag!==7?(me=pc(Pe,Se.mode,Ke,pt),me.return=Se,me):(me=g(me,Pe),me.return=Se,me)}function Je(Se,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=x2(""+me,Se.mode,Pe),me.return=Se,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case u:return Pe=rp(me.type,me.key,me.props,null,Se.mode,Pe),Zu(Pe,me),Pe.return=Se,Pe;case h:return me=R2(me,Se.mode,Pe),me.return=Se,me;case z:var Ke=me._init;return me=Ke(me._payload),Je(Se,me,Pe)}if(Y(me)||De(me))return me=pc(me,Se.mode,Pe,null),me.return=Se,me;if(typeof me.then=="function")return Je(Se,vi(me),Pe);if(me.$$typeof===w)return Je(Se,ep(Se,me),Pe);Gc(Se,me)}return null}function Ue(Se,me,Pe,Ke){var pt=me!==null?me.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return pt!==null?null:$(Se,me,""+Pe,Ke);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:return Pe.key===pt?re(Se,me,Pe,Ke):null;case h:return Pe.key===pt?_e(Se,me,Pe,Ke):null;case z:return pt=Pe._init,Pe=pt(Pe._payload),Ue(Se,me,Pe,Ke)}if(Y(Pe)||De(Pe))return pt!==null?null:qe(Se,me,Pe,Ke,null);if(typeof Pe.then=="function")return Ue(Se,me,vi(Pe),Ke);if(Pe.$$typeof===w)return Ue(Se,me,ep(Se,Pe),Ke);Gc(Se,Pe)}return null}function Fe(Se,me,Pe,Ke,pt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Se=Se.get(Pe)||null,$(me,Se,""+Ke,pt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case u:return Se=Se.get(Ke.key===null?Pe:Ke.key)||null,re(me,Se,Ke,pt);case h:return Se=Se.get(Ke.key===null?Pe:Ke.key)||null,_e(me,Se,Ke,pt);case z:var Jt=Ke._init;return Ke=Jt(Ke._payload),Fe(Se,me,Pe,Ke,pt)}if(Y(Ke)||De(Ke))return Se=Se.get(Pe)||null,qe(me,Se,Ke,pt,null);if(typeof Ke.then=="function")return Fe(Se,me,Pe,vi(Ke),pt);if(Ke.$$typeof===w)return Fe(Se,me,Pe,ep(me,Ke),pt);Gc(me,Ke)}return null}function yt(Se,me,Pe,Ke){for(var pt=null,Jt=null,At=me,Ct=me=0,si=null;At!==null&&Ct<Pe.length;Ct++){At.index>Ct?(si=At,At=null):si=At.sibling;var bn=Ue(Se,At,Pe[Ct],Ke);if(bn===null){At===null&&(At=si);break}i&&At&&bn.alternate===null&&s(Se,At),me=y(bn,me,Ct),Jt===null?pt=bn:Jt.sibling=bn,Jt=bn,At=si}if(Ct===Pe.length)return l(Se,At),fn&&aa(Se,Ct),pt;if(At===null){for(;Ct<Pe.length;Ct++)At=Je(Se,Pe[Ct],Ke),At!==null&&(me=y(At,me,Ct),Jt===null?pt=At:Jt.sibling=At,Jt=At);return fn&&aa(Se,Ct),pt}for(At=c(At);Ct<Pe.length;Ct++)si=Fe(At,Se,Ct,Pe[Ct],Ke),si!==null&&(i&&si.alternate!==null&&At.delete(si.key===null?Ct:si.key),me=y(si,me,Ct),Jt===null?pt=si:Jt.sibling=si,Jt=si);return i&&At.forEach(function(pu){return s(Se,pu)}),fn&&aa(Se,Ct),pt}function Vt(Se,me,Pe,Ke){if(Pe==null)throw Error(r(151));for(var pt=null,Jt=null,At=me,Ct=me=0,si=null,bn=Pe.next();At!==null&&!bn.done;Ct++,bn=Pe.next()){At.index>Ct?(si=At,At=null):si=At.sibling;var pu=Ue(Se,At,bn.value,Ke);if(pu===null){At===null&&(At=si);break}i&&At&&pu.alternate===null&&s(Se,At),me=y(pu,me,Ct),Jt===null?pt=pu:Jt.sibling=pu,Jt=pu,At=si}if(bn.done)return l(Se,At),fn&&aa(Se,Ct),pt;if(At===null){for(;!bn.done;Ct++,bn=Pe.next())bn=Je(Se,bn.value,Ke),bn!==null&&(me=y(bn,me,Ct),Jt===null?pt=bn:Jt.sibling=bn,Jt=bn);return fn&&aa(Se,Ct),pt}for(At=c(At);!bn.done;Ct++,bn=Pe.next())bn=Fe(At,Se,Ct,bn.value,Ke),bn!==null&&(i&&bn.alternate!==null&&At.delete(bn.key===null?Ct:bn.key),me=y(bn,me,Ct),Jt===null?pt=bn:Jt.sibling=bn,Jt=bn);return i&&At.forEach(function(UA){return s(Se,UA)}),fn&&aa(Se,Ct),pt}function yr(Se,me,Pe,Ke){if(typeof Pe=="object"&&Pe!==null&&Pe.type===f&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:e:{for(var pt=Pe.key;me!==null;){if(me.key===pt){if(pt=Pe.type,pt===f){if(me.tag===7){l(Se,me.sibling),Ke=g(me,Pe.props.children),Ke.return=Se,Se=Ke;break e}}else if(me.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===z&&cf(pt)===me.type){l(Se,me.sibling),Ke=g(me,Pe.props),Zu(Ke,Pe),Ke.return=Se,Se=Ke;break e}l(Se,me);break}else s(Se,me);me=me.sibling}Pe.type===f?(Ke=pc(Pe.props.children,Se.mode,Ke,Pe.key),Ke.return=Se,Se=Ke):(Ke=rp(Pe.type,Pe.key,Pe.props,null,Se.mode,Ke),Zu(Ke,Pe),Ke.return=Se,Se=Ke)}return I(Se);case h:e:{for(pt=Pe.key;me!==null;){if(me.key===pt)if(me.tag===4&&me.stateNode.containerInfo===Pe.containerInfo&&me.stateNode.implementation===Pe.implementation){l(Se,me.sibling),Ke=g(me,Pe.children||[]),Ke.return=Se,Se=Ke;break e}else{l(Se,me);break}else s(Se,me);me=me.sibling}Ke=R2(Pe,Se.mode,Ke),Ke.return=Se,Se=Ke}return I(Se);case z:return pt=Pe._init,Pe=pt(Pe._payload),yr(Se,me,Pe,Ke)}if(Y(Pe))return yt(Se,me,Pe,Ke);if(De(Pe)){if(pt=De(Pe),typeof pt!="function")throw Error(r(150));return Pe=pt.call(Pe),Vt(Se,me,Pe,Ke)}if(typeof Pe.then=="function")return yr(Se,me,vi(Pe),Ke);if(Pe.$$typeof===w)return yr(Se,me,ep(Se,Pe),Ke);Gc(Se,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,me!==null&&me.tag===6?(l(Se,me.sibling),Ke=g(me,Pe),Ke.return=Se,Se=Ke):(l(Se,me),Ke=x2(Pe,Se.mode,Ke),Ke.return=Se,Se=Ke),I(Se)):l(Se,me)}return function(Se,me,Pe,Ke){try{ms=0;var pt=yr(Se,me,Pe,Ke);return al=null,pt}catch(At){if(At===Ju)throw At;var Jt=fa(29,At,null,Se.mode);return Jt.lanes=Ke,Jt.return=Se,Jt}finally{}}}var wo=hf(!0),ff=hf(!1),Wl=we(null),ol=we(0);function ec(i,s){i=wl,He(ol,i),He(Wl,s),wl=i|s.baseLanes}function ll(){He(ol,wl),He(Wl,Wl.current)}function tc(){wl=ol.current,Ne(Wl),Ne(ol)}var gs=we(null),Ds=null;function Ao(i){var s=i.alternate;He(Ar,Ar.current&1),He(gs,i),Ds===null&&(s===null||Wl.current!==null||s.memoizedState!==null)&&(Ds=i)}function Vd(i){if(i.tag===22){if(He(Ar,Ar.current),He(gs,i),Ds===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ds=i)}}else Eo()}function Eo(){He(Ar,Ar.current),He(gs,gs.current)}function Da(i){Ne(gs),Ds===i&&(Ds=null),Ne(Ar)}var Ar=we(0);function Kc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fd=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Wc=n.unstable_scheduleCallback,n2=n.unstable_NormalPriority,Er={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new Fd,data:new Map,refCount:0}}function d(i){i.refCount--,i.refCount===0&&Wc(n2,function(){i.controller.abort()})}var v=null,E=0,N=0,M=null;function B(i,s){if(v===null){var l=v=[];E=0,N=z2(),M={status:"pending",value:void 0,then:function(c){l.push(c)}}}return E++,s.then(q,q),s}function q(){if(--E===0&&v!==null){M!==null&&(M.status="fulfilled");var i=v;v=null,N=0,M=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function K(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var Q=O.S;O.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&B(i,s),Q!==null&&Q(i,s)};var ee=we(null);function fe(){var i=ee.current;return i!==null?i:Fn.pooledCache}function xe(i,s){s===null?He(ee,ee.current):He(ee,s.pool)}function Ce(){var i=fe();return i===null?null:{parent:Er._currentValue,pool:i}}var ve=0,Oe=null,Re=null,oe=null,pe=!1,Be=!1,Ge=!1,ze=0,ut=0,rt=null,St=0;function et(){throw Error(r(321))}function on(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ir(i[l],s[l]))return!1;return!0}function vn(i,s,l,c,g,y){return ve=y,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=i===null||i.memoizedState===null?fl:ys,Ge=!1,y=l(c,g),Ge=!1,Be&&(y=$t(s,l,c,g)),nn(i),y}function nn(i){O.H=Us;var s=Re!==null&&Re.next!==null;if(ve=0,oe=Re=Oe=null,pe=!1,ut=0,rt=null,s)throw Error(r(300));i===null||ri||(i=i.dependencies,i!==null&&Zd(i)&&(ri=!0))}function $t(i,s,l,c){Oe=i;var g=0;do{if(Be&&(rt=null),ut=0,Be=!1,25<=g)throw Error(r(301));if(g+=1,oe=Re=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=Va,y=s(l,c)}while(Be);return y}function Nn(){var i=O.H,s=i.useState()[0];return s=typeof s.then=="function"?ln(s):s,i=i.useState()[0],(Re!==null?Re.memoizedState:null)!==i&&(Oe.flags|=1024),s}function _n(){var i=ze!==0;return ze=0,i}function Ut(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function er(i){if(pe){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}pe=!1}ve=0,oe=Re=Oe=null,Be=!1,ut=ze=0,rt=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Oe.memoizedState=oe=i:oe=oe.next=i,oe}function Ht(){if(Re===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=Re.next;var s=oe===null?Oe.memoizedState:oe.next;if(s!==null)oe=s,Re=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Re=i,i={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},oe===null?Oe.memoizedState=oe=i:oe=oe.next=i}return oe}var qr;qr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ln(i){var s=ut;return ut+=1,rt===null&&(rt=[]),i=ps(rt,i,s),s=Oe,(oe===null?s.memoizedState:oe.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?fl:ys),i}function ni(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ln(i);if(i.$$typeof===w)return Mi(i)}throw Error(r(438,String(i)))}function yi(i){var s=null,l=Oe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=qr(),Oe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=he;return s.index++,l}function Pn(i,s){return typeof s=="function"?s(i):s}function mr(i){var s=Ht();return zr(s,Re,i)}function zr(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var I=g.next;g.next=y.next,y.next=I}s.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var $=I=null,re=null,_e=s,qe=!1;do{var Je=_e.lane&-536870913;if(Je!==_e.lane?(dn&Je)===Je:(ve&Je)===Je){var Ue=_e.revertLane;if(Ue===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Je===N&&(qe=!0);else if((ve&Ue)===Ue){_e=_e.next,Ue===N&&(qe=!0);continue}else Je={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?($=re=Je,I=y):re=re.next=Je,Oe.lanes|=Ue,lu|=Ue;Je=_e.action,Ge&&l(y,Je),y=_e.hasEagerState?_e.eagerState:l(y,Je)}else Ue={lane:Je,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?($=re=Ue,I=y):re=re.next=Ue,Oe.lanes|=Je,lu|=Je;_e=_e.next}while(_e!==null&&_e!==s);if(re===null?I=y:re.next=$,!Ir(y,i.memoizedState)&&(ri=!0,qe&&(l=M,l!==null)))throw l;i.memoizedState=y,i.baseState=I,i.baseQueue=re,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Di(i){var s=Ht(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do y=i(y,I.action),I=I.next;while(I!==g);Ir(y,s.memoizedState)||(ri=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function Ms(i,s,l){var c=Oe,g=Ht(),y=fn;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var I=!Ir((Re||g).memoizedState,l);if(I&&(g.memoizedState=l,ri=!0),g=g.queue,ac(So.bind(null,c,g,i),[i]),g.getSnapshot!==s||I||oe!==null&&oe.memoizedState.tag&1){if(c.flags|=2048,To(9,la.bind(null,c,g,l,s),{destroy:void 0},null),Fn===null)throw Error(r(349));y||(ve&60)!==0||Sr(c,s,l)}return l}function Sr(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Oe.updateQueue,s===null?(s=qr(),Oe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function la(i,s,l,c){s.value=l,s.getSnapshot=c,ul(s)&&Ma(i)}function So(i,s,l){return l(function(){ul(s)&&Ma(i)})}function ul(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ir(i,l)}catch{return!0}}function Ma(i){var s=es(i,2);s!==null&&ns(s,i,2)}function Vn(i){var s=xn();if(typeof i=="function"){var l=i;if(i=l(),Ge){an(!0);try{l()}finally{an(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:i},s}function Yc(i,s,l,c){return i.baseState=l,zr(i,Re,typeof c=="function"?c:Pn)}function Bd(i,s,l,c,g){if(rh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};O.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,df(s,y)):(y.next=l.next,s.pending=l.next=y)}}function df(i,s){var l=s.action,c=s.payload,g=i.state;if(s.isTransition){var y=O.T,I={};O.T=I;try{var $=l(g,c),re=O.S;re!==null&&re(I,$),nc(i,s,$)}catch(_e){Yl(i,s,_e)}finally{O.T=y}}else try{y=l(g,c),nc(i,s,y)}catch(_e){Yl(i,s,_e)}}function nc(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){$l(i,s,c)},function(c){return Yl(i,s,c)}):$l(i,s,l)}function $l(i,s,l){s.status="fulfilled",s.value=l,vs(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,df(i,l)))}function Yl(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,vs(s),s=s.next;while(s!==c)}i.action=null}function vs(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function cl(i,s){return s}function hl(i,s){if(fn){var l=Fn.formState;if(l!==null){e:{var c=Oe;if(fn){if(Br){t:{for(var g=Br,y=oa;g.nodeType!==8;){if(!y){g=null;break t}if(g=za(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Br=za(g.nextSibling),c=g.data==="F!";break e}}Oa(c)}c=!1}c&&(s=l[0])}}return l=xn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:s},l.queue=c,l=Qd.bind(null,Oe,c),c.dispatch=l,c=Vn(!1),y=xo.bind(null,Oe,!1,c.queue),c=xn(),g={state:s,dispatch:null,action:i,pending:null},c.queue=g,l=Bd.bind(null,Oe,g,y,l),g.dispatch=l,c.memoizedState=i,[s,l,!1]}function pf(i){var s=Ht();return rc(s,Re,i)}function rc(i,s,l){s=zr(i,s,cl)[0],i=mr(Pn)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ln(s):s;var c=Ht(),g=c.queue,y=g.dispatch;return l!==c.memoizedState&&(Oe.flags|=2048,To(9,qd.bind(null,g,l),{destroy:void 0},null)),[s,y,i]}function qd(i,s){i.action=s}function ic(i){var s=Ht(),l=Re;if(l!==null)return rc(s,l,i);Ht(),s=s.memoizedState,l=Ht();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function To(i,s,l,c){return i={tag:i,create:s,inst:l,deps:c,next:null},s=Oe.updateQueue,s===null&&(s=qr(),Oe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function sc(){return Ht().memoizedState}function No(i,s,l,c){var g=xn();Oe.flags|=i,g.memoizedState=To(1|s,l,{destroy:void 0},c===void 0?null:c)}function Qc(i,s,l,c){var g=Ht();c=c===void 0?null:c;var y=g.memoizedState.inst;Re!==null&&c!==null&&on(c,Re.memoizedState.deps)?g.memoizedState=To(s,l,y,c):(Oe.flags|=i,g.memoizedState=To(1|s,l,y,c))}function zd(i,s){No(8390656,8,i,s)}function ac(i,s){Qc(2048,8,i,s)}function Ua(i,s){return Qc(4,2,i,s)}function Hd(i,s){return Qc(4,4,i,s)}function Gd(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Kd(i,s,l){l=l!=null?l.concat([i]):null,Qc(4,4,Gd.bind(null,s,i),l)}function Xc(){}function oc(i,s){var l=Ht();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&on(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function mf(i,s){var l=Ht();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&on(s,c[1]))return c[0];if(c=i(),Ge){an(!0);try{i()}finally{an(!1)}}return l.memoizedState=[c,s],c}function Jc(i,s,l){return l===void 0||(ve&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=P5(),Oe.lanes|=i,lu|=i,l)}function lc(i,s,l,c){return Ir(l,s)?l:Wl.current!==null?(i=Jc(i,l,c),Ir(i,s)||(ri=!0),i):(ve&42)===0?(ri=!0,i.memoizedState=l):(i=P5(),Oe.lanes|=i,lu|=i,s)}function Zc(i,s,l,c,g){var y=J.p;J.p=y!==0&&8>y?y:8;var I=O.T,$={};O.T=$,xo(i,!1,s,l);try{var re=g(),_e=O.S;if(_e!==null&&_e($,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var qe=K(re,c);Ql(i,s,qe,qs(i))}else Ql(i,s,c,qs(i))}catch(Je){Ql(i,s,{then:function(){},status:"rejected",reason:Je},qs())}finally{J.p=y,O.T=I}}function uc(){}function eh(i,s,l,c){if(i.tag!==5)throw Error(r(476));var g=Wd(i).queue;Zc(i,g,s,ie,l===null?uc:function(){return cc(i),l(c)})}function Wd(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:ie},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function cc(i){var s=Wd(i).next.queue;Ql(i,s,{},qs())}function th(){return Mi(Uf)}function nh(){return Ht().memoizedState}function ja(){return Ht().memoizedState}function $d(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=qs();i=nu(l);var c=ru(s,i,l);c!==null&&(ns(c,s,l),bf(c,s,l)),s={cache:$c()},i.payload=s;return}s=s.return}}function Yd(i,s,l){var c=qs();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rh(i)?gf(s,l):(l=il(i,s,l,c),l!==null&&(ns(l,i,c),Xd(l,s,c)))}function Qd(i,s,l){var c=qs();Ql(i,s,l,c)}function Ql(i,s,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rh(i))gf(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var I=s.lastRenderedState,$=y(I,l);if(g.hasEagerState=!0,g.eagerState=$,Ir($,I))return ds(i,s,g,0),Fn===null&&Zn(),!1}catch{}finally{}if(l=il(i,s,g,c),l!==null)return ns(l,i,c),Xd(l,s,c),!0}return!1}function xo(i,s,l,c){if(c={lane:2,revertLane:z2(),action:c,hasEagerState:!1,eagerState:null,next:null},rh(i)){if(s)throw Error(r(479))}else s=il(i,l,c,2),s!==null&&ns(s,i,2)}function rh(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function gf(i,s){Be=pe=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Xd(i,s,l){if((l&4194176)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rr(i,l)}}var Us={readContext:Mi,use:ni,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et};Us.useCacheRefresh=et,Us.useMemoCache=et,Us.useHostTransitionStatus=et,Us.useFormState=et,Us.useActionState=et,Us.useOptimistic=et;var fl={readContext:Mi,use:ni,useCallback:function(i,s){return xn().memoizedState=[i,s===void 0?null:s],i},useContext:Mi,useEffect:zd,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,No(4194308,4,Gd.bind(null,s,i),l)},useLayoutEffect:function(i,s){return No(4194308,4,i,s)},useInsertionEffect:function(i,s){No(4,2,i,s)},useMemo:function(i,s){var l=xn();s=s===void 0?null:s;var c=i();if(Ge){an(!0);try{i()}finally{an(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=xn();if(l!==void 0){var g=l(s);if(Ge){an(!0);try{l(s)}finally{an(!1)}}}else g=s;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=Yd.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var s=xn();return i={current:i},s.memoizedState=i},useState:function(i){i=Vn(i);var s=i.queue,l=Qd.bind(null,Oe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Xc,useDeferredValue:function(i,s){var l=xn();return Jc(l,i,s)},useTransition:function(){var i=Vn(!1);return i=Zc.bind(null,Oe,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Oe,g=xn();if(fn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Fn===null)throw Error(r(349));(dn&60)!==0||Sr(c,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,zd(So.bind(null,c,y,i),[i]),c.flags|=2048,To(9,la.bind(null,c,y,l,s),{destroy:void 0},null),l},useId:function(){var i=xn(),s=Fn.identifierPrefix;if(fn){var l=Ps,c=Ls;l=(c&~(1<<32-jn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=ze++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=St++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return xn().memoizedState=$d.bind(null,Oe)}};fl.useMemoCache=yi,fl.useHostTransitionStatus=th,fl.useFormState=hl,fl.useActionState=hl,fl.useOptimistic=function(i){var s=xn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=xo.bind(null,Oe,!0,l),l.dispatch=s,[i,s]};var ys={readContext:Mi,use:ni,useCallback:oc,useContext:Mi,useEffect:ac,useImperativeHandle:Kd,useInsertionEffect:Ua,useLayoutEffect:Hd,useMemo:mf,useReducer:mr,useRef:sc,useState:function(){return mr(Pn)},useDebugValue:Xc,useDeferredValue:function(i,s){var l=Ht();return lc(l,Re.memoizedState,i,s)},useTransition:function(){var i=mr(Pn)[0],s=Ht().memoizedState;return[typeof i=="boolean"?i:ln(i),s]},useSyncExternalStore:Ms,useId:nh};ys.useCacheRefresh=ja,ys.useMemoCache=yi,ys.useHostTransitionStatus=th,ys.useFormState=pf,ys.useActionState=pf,ys.useOptimistic=function(i,s){var l=Ht();return Yc(l,Re,i,s)};var Va={readContext:Mi,use:ni,useCallback:oc,useContext:Mi,useEffect:ac,useImperativeHandle:Kd,useInsertionEffect:Ua,useLayoutEffect:Hd,useMemo:mf,useReducer:Di,useRef:sc,useState:function(){return Di(Pn)},useDebugValue:Xc,useDeferredValue:function(i,s){var l=Ht();return Re===null?Jc(l,i,s):lc(l,Re.memoizedState,i,s)},useTransition:function(){var i=Di(Pn)[0],s=Ht().memoizedState;return[typeof i=="boolean"?i:ln(i),s]},useSyncExternalStore:Ms,useId:nh};Va.useCacheRefresh=ja,Va.useMemoCache=yi,Va.useHostTransitionStatus=th,Va.useFormState=ic,Va.useActionState=ic,Va.useOptimistic=function(i,s){var l=Ht();return Re!==null?Yc(l,Re,i,s):(l.baseState=i,[i,l.queue.dispatch])};function Xl(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:W({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var js={isMounted:function(i){return(i=i._reactInternals)?ce(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var c=qs(),g=nu(c);g.payload=s,l!=null&&(g.callback=l),s=ru(i,g,c),s!==null&&(ns(s,i,c),bf(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=qs(),g=nu(c);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ru(i,g,c),s!==null&&(ns(s,i,c),bf(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=qs(),c=nu(l);c.tag=2,s!=null&&(c.callback=s),s=ru(i,c,l),s!==null&&(ns(s,i,l),bf(s,i,l))}};function Fa(i,s,l,c,g,y,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,I):s.prototype&&s.prototype.isPureReactComponent?!fo(l,c)||!fo(g,y):!0}function Ba(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&js.enqueueReplaceState(s,s.state,null)}function ua(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=W({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Jl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function vf(i){Jl(i)}function Jd(i){console.error(i)}function ih(i){Jl(i)}function Zl(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Gg(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function r2(i,s,l){return l=nu(l),l.tag=3,l.payload={element:null},l.callback=function(){Zl(i,s)},l}function Kg(i){return i=nu(i),i.tag=3,i}function Wg(i,s,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){Gg(s,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Gg(s,l,c),typeof g!="function"&&(uu===null?uu=new Set([this]):uu.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})})}function M3(i,s,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&_f(s,l,g,!0),l=gs.current,l!==null){switch(l.tag){case 13:return Ds===null?j2():l.alternate===null&&vr===0&&(vr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===uf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),F2(i,c,g)),!1;case 22:return l.flags|=65536,c===uf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),F2(i,c,g)),!1}throw Error(r(435,l.tag))}return F2(i,c,g),j2(),!1}if(fn)return s=gs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==lf&&(i=Error(r(422),{cause:c}),Kl(Gn(i,l)))):(c!==lf&&(s=Error(r(423),{cause:c}),Kl(Gn(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Gn(c,l),g=r2(i.stateNode,c,g),y2(i,g),vr!==4&&(vr=2)),!1;var y=Error(r(520),{cause:c});if(y=Gn(y,l),Rf===null?Rf=[y]:Rf.push(y),vr!==4&&(vr=2),s===null)return!0;c=Gn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=r2(l.stateNode,c,i),y2(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(uu===null||!uu.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Kg(g),Wg(g,i,l,c),y2(l,g),!1}l=l.return}while(l!==null);return!1}var $g=Error(r(461)),ri=!1;function _i(i,s,l,c){s.child=i===null?ff(s,null,l,c):wo(s,i.child,l,c)}function Yg(i,s,l,c,g){l=l.render;var y=s.ref;if("ref"in c){var I={};for(var $ in c)$!=="ref"&&(I[$]=c[$])}else I=c;return fc(s),c=vn(i,s,l,I,y,g),$=_n(),i!==null&&!ri?(Ut(i,s,g),dl(i,s,g)):(fn&&$&&af(s),s.flags|=1,_i(i,s,c,g),s.child)}function Qg(i,s,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!N2(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,Xg(i,s,y,c,g)):(i=rp(l.type,null,c,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!f2(i,g)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:fo,l(I,c)&&i.ref===s.ref)return dl(i,s,g)}return s.flags|=1,i=ou(y,c),i.ref=s.ref,i.return=s,s.child=i}function Xg(i,s,l,c,g){if(i!==null){var y=i.memoizedProps;if(fo(y,c)&&i.ref===s.ref)if(ri=!1,s.pendingProps=c=y,f2(i,g))(i.flags&131072)!==0&&(ri=!0);else return s.lanes=i.lanes,dl(i,s,g)}return i2(i,s,l,c,g)}function Jg(i,s,l){var c=s.pendingProps,g=c.children,y=(s.stateNode._pendingVisibility&2)!==0,I=i!==null?i.memoizedState:null;if(yf(i,s),c.mode==="hidden"||y){if((s.flags&128)!==0){if(c=I!==null?I.baseLanes|l:l,i!==null){for(g=s.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return Zg(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&xe(s,I!==null?I.cachePool:null),I!==null?ec(s,I):ll(),Vd(s);else return s.lanes=s.childLanes=536870912,Zg(i,s,I!==null?I.baseLanes|l:l,l)}else I!==null?(xe(s,I.cachePool),ec(s,I),Eo(),s.memoizedState=null):(i!==null&&xe(s,null),ll(),Eo());return _i(i,s,g,l),s.child}function Zg(i,s,l,c){var g=fe();return g=g===null?null:{parent:Er._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&xe(s,null),ll(),Vd(s),i!==null&&_f(i,s,c,!0),null}function yf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function i2(i,s,l,c,g){return fc(s),l=vn(i,s,l,c,void 0,g),c=_n(),i!==null&&!ri?(Ut(i,s,g),dl(i,s,g)):(fn&&c&&af(s),s.flags|=1,_i(i,s,l,g),s.child)}function e5(i,s,l,c,g,y){return fc(s),s.updateQueue=null,l=$t(s,c,l,g),nn(i),c=_n(),i!==null&&!ri?(Ut(i,s,y),dl(i,s,y)):(fn&&c&&af(s),s.flags|=1,_i(i,s,l,y),s.child)}function t5(i,s,l,c,g){if(fc(s),s.stateNode===null){var y=La,I=l.contextType;typeof I=="object"&&I!==null&&(y=Mi(I)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=js,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},g2(s),I=l.contextType,y.context=typeof I=="object"&&I!==null?Mi(I):La,y.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Xl(s,l,I,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&js.enqueueReplaceState(y,y.state,null),Af(s,c,y,g),wf(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var $=s.memoizedProps,re=ua(l,$);y.props=re;var _e=y.context,qe=l.contextType;I=La,typeof qe=="object"&&qe!==null&&(I=Mi(qe));var Je=l.getDerivedStateFromProps;qe=typeof Je=="function"||typeof y.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,qe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||($||_e!==I)&&Ba(s,y,c,I),tu=!1;var Ue=s.memoizedState;y.state=Ue,Af(s,c,y,g),wf(),_e=s.memoizedState,$||Ue!==_e||tu?(typeof Je=="function"&&(Xl(s,l,Je,c),_e=s.memoizedState),(re=tu||Fa(s,l,re,c,Ue,_e,I))?(qe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=_e),y.props=c,y.state=_e,y.context=I,c=re):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,v2(i,s),I=s.memoizedProps,qe=ua(l,I),y.props=qe,Je=s.pendingProps,Ue=y.context,_e=l.contextType,re=La,typeof _e=="object"&&_e!==null&&(re=Mi(_e)),$=l.getDerivedStateFromProps,(_e=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==Je||Ue!==re)&&Ba(s,y,c,re),tu=!1,Ue=s.memoizedState,y.state=Ue,Af(s,c,y,g),wf();var Fe=s.memoizedState;I!==Je||Ue!==Fe||tu||i!==null&&i.dependencies!==null&&Zd(i.dependencies)?(typeof $=="function"&&(Xl(s,l,$,c),Fe=s.memoizedState),(qe=tu||Fa(s,l,qe,c,Ue,Fe,re)||i!==null&&i.dependencies!==null&&Zd(i.dependencies))?(_e||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Fe,re),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Fe,re)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Fe),y.props=c,y.state=Fe,y.context=re,c=qe):(typeof y.componentDidUpdate!="function"||I===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,yf(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=wo(s,i.child,null,g),s.child=wo(s,null,l,g)):_i(i,s,l,g),s.memoizedState=y.state,i=s.child):i=dl(i,s,g),i}function n5(i,s,l,c){return Xu(),s.flags|=256,_i(i,s,l,c),s.child}var s2={dehydrated:null,treeContext:null,retryLane:0};function a2(i){return{baseLanes:i,cachePool:Ce()}}function o2(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=da),i}function r5(i,s,l){var c=s.pendingProps,g=!1,y=(s.flags&128)!==0,I;if((I=y)||(I=i!==null&&i.memoizedState===null?!1:(Ar.current&2)!==0),I&&(g=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,i===null){if(fn){if(g?Ao(s):Eo(),fn){var $=Br,re;if(re=$){e:{for(re=$,$=oa;re.nodeType!==8;){if(!$){$=null;break e}if(re=za(re.nextSibling),re===null){$=null;break e}}$=re}$!==null?(s.memoizedState={dehydrated:$,treeContext:bo!==null?{id:Ls,overflow:Ps}:null,retryLane:536870912},re=fa(18,null,null,0),re.stateNode=$,re.return=s,s.child=re,ti=s,Br=null,re=!0):re=!1}re||Oa(s)}if($=s.memoizedState,$!==null&&($=$.dehydrated,$!==null))return $.data==="$!"?s.lanes=16:s.lanes=536870912,null;Da(s)}return $=c.children,c=c.fallback,g?(Eo(),g=s.mode,$=u2({mode:"hidden",children:$},g),c=pc(c,g,l,null),$.return=s,c.return=s,$.sibling=c,s.child=$,g=s.child,g.memoizedState=a2(l),g.childLanes=o2(i,I,l),s.memoizedState=s2,c):(Ao(s),l2(s,$))}if(re=i.memoizedState,re!==null&&($=re.dehydrated,$!==null)){if(y)s.flags&256?(Ao(s),s.flags&=-257,s=c2(i,s,l)):s.memoizedState!==null?(Eo(),s.child=i.child,s.flags|=128,s=null):(Eo(),g=c.fallback,$=s.mode,c=u2({mode:"visible",children:c.children},$),g=pc(g,$,l,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,wo(s,i.child,null,l),c=s.child,c.memoizedState=a2(l),c.childLanes=o2(i,I,l),s.memoizedState=s2,s=g);else if(Ao(s),$.data==="$!"){if(I=$.nextSibling&&$.nextSibling.dataset,I)var _e=I.dgst;I=_e,c=Error(r(419)),c.stack="",c.digest=I,Kl({value:c,source:null,stack:null}),s=c2(i,s,l)}else if(ri||_f(i,s,l,!1),I=(l&i.childLanes)!==0,ri||I){if(I=Fn,I!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==re.retryLane)throw re.retryLane=c,es(i,c),ns(I,i,c),$g}$.data==="$?"||j2(),s=c2(i,s,l)}else $.data==="$?"?(s.flags|=128,s.child=i.child,s=X3.bind(null,i),$._reactRetry=s,s=null):(i=re.treeContext,Br=za($.nextSibling),ti=s,fn=!0,ks=null,oa=!1,i!==null&&(gi[Oi++]=Ls,gi[Oi++]=Ps,gi[Oi++]=bo,Ls=i.id,Ps=i.overflow,bo=s),s=l2(s,c.children),s.flags|=4096);return s}return g?(Eo(),g=c.fallback,$=s.mode,re=i.child,_e=re.sibling,c=ou(re,{mode:"hidden",children:c.children}),c.subtreeFlags=re.subtreeFlags&31457280,_e!==null?g=ou(_e,g):(g=pc(g,$,l,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,$=i.child.memoizedState,$===null?$=a2(l):(re=$.cachePool,re!==null?(_e=Er._currentValue,re=re.parent!==_e?{parent:_e,pool:_e}:re):re=Ce(),$={baseLanes:$.baseLanes|l,cachePool:re}),g.memoizedState=$,g.childLanes=o2(i,I,l),s.memoizedState=s2,c):(Ao(s),l=i.child,i=l.sibling,l=ou(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(I=s.deletions,I===null?(s.deletions=[i],s.flags|=16):I.push(i)),s.child=l,s.memoizedState=null,l)}function l2(i,s){return s=u2({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function u2(i,s){return C5(i,s,0,null)}function c2(i,s,l){return wo(s,i.child,null,l),i=l2(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function i5(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),p2(i.return,s,l)}function h2(i,s,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function s5(i,s,l){var c=s.pendingProps,g=c.revealOrder,y=c.tail;if(_i(i,s,c.children,l),c=Ar.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i5(i,l,s);else if(i.tag===19)i5(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(He(Ar,c),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Kc(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),h2(s,!1,g,l,y);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Kc(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}h2(s,!0,l,null,y);break;case"together":h2(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function dl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),lu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(_f(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ou(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ou(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function f2(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Zd(i)))}function U3(i,s,l){switch(s.tag){case 3:je(s,s.stateNode.containerInfo),eu(s,Er,i.memoizedState.cache),Xu();break;case 27:case 5:Lt(s);break;case 4:je(s,s.stateNode.containerInfo);break;case 10:eu(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ao(s),s.flags|=128,null):(l&s.child.childLanes)!==0?r5(i,s,l):(Ao(s),i=dl(i,s,l),i!==null?i.sibling:null);Ao(s);break;case 19:var g=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(_f(i,s,l,!1),c=(l&s.childLanes)!==0),g){if(c)return s5(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),He(Ar,Ar.current),c)break;return null;case 22:case 23:return s.lanes=0,Jg(i,s,l);case 24:eu(s,Er,i.memoizedState.cache)}return dl(i,s,l)}function a5(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ri=!0;else{if(!f2(i,l)&&(s.flags&128)===0)return ri=!1,U3(i,s,l);ri=(i.flags&131072)!==0}else ri=!1,fn&&(s.flags&1048576)!==0&&zc(s,sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,g=c._init;if(c=g(c._payload),s.type=c,typeof c=="function")N2(c)?(i=ua(c,i),s.tag=1,s=t5(null,s,c,i,l)):(s.tag=0,s=i2(null,s,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===P){s.tag=11,s=Yg(null,s,c,i,l);break e}else if(g===k){s.tag=14,s=Qg(null,s,c,i,l);break e}}throw s=C(c)||c,Error(r(306,s,""))}}return s;case 0:return i2(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,g=ua(c,s.pendingProps),t5(i,s,c,g,l);case 3:e:{if(je(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var y=s.pendingProps;g=s.memoizedState,c=g.element,v2(i,s),Af(s,y,null,l);var I=s.memoizedState;if(y=I.cache,eu(s,Er,y),y!==g.cache&&m2(s,[Er],l,!0),wf(),y=I.element,g.isDehydrated)if(g={element:y,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=n5(i,s,y,l);break e}else if(y!==c){c=Gn(Error(r(424)),s),Kl(c),s=n5(i,s,y,l);break e}else for(Br=za(s.stateNode.containerInfo.firstChild),ti=s,fn=!0,ks=null,oa=!0,l=ff(s,null,y,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xu(),y===c){s=dl(i,s,l);break e}_i(i,s,y,l)}s=s.child}return s;case 26:return yf(i,s),i===null?(l=uv(s.type,null,s.pendingProps,null))?s.memoizedState=l:fn||(l=s.type,i=s.pendingProps,c=mp(tt.current).createElement(l),c[In]=s,c[wn]=i,bi(c,l,i),Dn(c),s.stateNode=c):s.memoizedState=uv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Lt(s),i===null&&fn&&(c=s.stateNode=av(s.type,s.pendingProps,tt.current),ti=s,oa=!0,Br=za(c.firstChild)),c=s.pendingProps.children,i!==null||fn?_i(i,s,c,l):s.child=wo(s,null,c,l),yf(i,s),s.child;case 5:return i===null&&fn&&((g=c=Br)&&(c=dA(c,s.type,s.pendingProps,oa),c!==null?(s.stateNode=c,ti=s,Br=za(c.firstChild),oa=!1,g=!0):g=!1),g||Oa(s)),Lt(s),g=s.type,y=s.pendingProps,I=i!==null?i.memoizedProps:null,c=y.children,J2(g,y)?c=null:I!==null&&J2(g,I)&&(s.flags|=32),s.memoizedState!==null&&(g=vn(i,s,Nn,null,null,l),Uf._currentValue=g),yf(i,s),_i(i,s,c,l),s.child;case 6:return i===null&&fn&&((i=l=Br)&&(l=pA(l,s.pendingProps,oa),l!==null?(s.stateNode=l,ti=s,Br=null,i=!0):i=!1),i||Oa(s)),null;case 13:return r5(i,s,l);case 4:return je(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=wo(s,null,c,l):_i(i,s,c,l),s.child;case 11:return Yg(i,s,s.type,s.pendingProps,l);case 7:return _i(i,s,s.pendingProps,l),s.child;case 8:return _i(i,s,s.pendingProps.children,l),s.child;case 12:return _i(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,eu(s,s.type,c.value),_i(i,s,c.children,l),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,fc(s),g=Mi(g),c=c(g),s.flags|=1,_i(i,s,c,l),s.child;case 14:return Qg(i,s,s.type,s.pendingProps,l);case 15:return Xg(i,s,s.type,s.pendingProps,l);case 19:return s5(i,s,l);case 22:return Jg(i,s,l);case 24:return fc(s),c=Mi(Er),i===null?(g=fe(),g===null&&(g=Fn,y=$c(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:c,cache:g},g2(s),eu(s,Er,g)):((i.lanes&l)!==0&&(v2(i,s),Af(s,null,null,l),wf()),g=i.memoizedState,y=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),eu(s,Er,c)):(c=y.cache,eu(s,Er,c),c!==g.cache&&m2(s,[Er],l,!0))),_i(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var d2=we(null),hc=null,pl=null;function eu(i,s,l){He(d2,s._currentValue),s._currentValue=l}function ml(i){i._currentValue=d2.current,Ne(d2)}function p2(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function m2(i,s,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var I=g.child;y=y.firstContext;e:for(;y!==null;){var $=y;y=g;for(var re=0;re<s.length;re++)if($.context===s[re]){y.lanes|=l,$=y.alternate,$!==null&&($.lanes|=l),p2(y.return,l,i),c||(I=null);break e}y=$.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),p2(I,l,i),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===i){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function _f(i,s,l,c){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var $=g.type;Ir(g.pendingProps.value,I.value)||(i!==null?i.push($):i=[$])}}else if(g===_t.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Uf):i=[Uf])}g=g.return}i!==null&&m2(s,i,l,c),s.flags|=262144}function Zd(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fc(i){hc=i,pl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mi(i){return o5(hc,i)}function ep(i,s){return hc===null&&fc(i),o5(i,s)}function o5(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},pl===null){if(i===null)throw Error(r(308));pl=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else pl=pl.next=s;return l}var tu=!1;function g2(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v2(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nu(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ru(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(lr&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Hl(i),$u(i,null,l),s}return ds(i,c,s,l),Hl(i)}function bf(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rr(i,l)}}function y2(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var _2=!1;function wf(){if(_2){var i=M;if(i!==null)throw i}}function Af(i,s,l,c){_2=!1;var g=i.updateQueue;tu=!1;var y=g.firstBaseUpdate,I=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var re=$,_e=re.next;re.next=null,I===null?y=_e:I.next=_e,I=re;var qe=i.alternate;qe!==null&&(qe=qe.updateQueue,$=qe.lastBaseUpdate,$!==I&&($===null?qe.firstBaseUpdate=_e:$.next=_e,qe.lastBaseUpdate=re))}if(y!==null){var Je=g.baseState;I=0,qe=_e=re=null,$=y;do{var Ue=$.lane&-536870913,Fe=Ue!==$.lane;if(Fe?(dn&Ue)===Ue:(c&Ue)===Ue){Ue!==0&&Ue===N&&(_2=!0),qe!==null&&(qe=qe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var yt=i,Vt=$;Ue=s;var yr=l;switch(Vt.tag){case 1:if(yt=Vt.payload,typeof yt=="function"){Je=yt.call(yr,Je,Ue);break e}Je=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Vt.payload,Ue=typeof yt=="function"?yt.call(yr,Je,Ue):yt,Ue==null)break e;Je=W({},Je,Ue);break e;case 2:tu=!0}}Ue=$.callback,Ue!==null&&(i.flags|=64,Fe&&(i.flags|=8192),Fe=g.callbacks,Fe===null?g.callbacks=[Ue]:Fe.push(Ue))}else Fe={lane:Ue,tag:$.tag,payload:$.payload,callback:$.callback,next:null},qe===null?(_e=qe=Fe,re=Je):qe=qe.next=Fe,I|=Ue;if($=$.next,$===null){if($=g.shared.pending,$===null)break;Fe=$,$=Fe.next,Fe.next=null,g.lastBaseUpdate=Fe,g.shared.pending=null}}while(!0);qe===null&&(re=Je),g.baseState=re,g.firstBaseUpdate=_e,g.lastBaseUpdate=qe,y===null&&(g.shared.lanes=0),lu|=I,i.lanes=I,i.memoizedState=Je}}function l5(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function u5(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)l5(l[i],s)}function Ef(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,I=l.inst;c=y(),I.destroy=c}l=l.next}while(l!==g)}}catch($){Mn(s,s.return,$)}}function iu(i,s,l){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var I=c.inst,$=I.destroy;if($!==void 0){I.destroy=void 0,g=s;var re=l;try{$()}catch(_e){Mn(g,re,_e)}}}c=c.next}while(c!==y)}}catch(_e){Mn(s,s.return,_e)}}function c5(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{u5(s,l)}catch(c){Mn(i,i.return,c)}}}function h5(i,s,l){l.props=ua(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Mn(i,s,c)}}function dc(i,s){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=c;break;default:g=c}typeof l=="function"?i.refCleanup=l(g):l.current=g}}catch(y){Mn(i,s,y)}}function Vs(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Mn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Mn(i,s,g)}else l.current=null}function f5(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Mn(i,i.return,g)}}function d5(i,s,l){try{var c=i.stateNode;lA(c,i.type,l,s),c[wn]=s}catch(g){Mn(i,i.return,g)}}function p5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function b2(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function w2(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pp));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(w2(i,s,l),i=i.sibling;i!==null;)w2(i,s,l),i=i.sibling}function tp(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(tp(i,s,l),i=i.sibling;i!==null;)tp(i,s,l),i=i.sibling}var gl=!1,gr=!1,A2=!1,m5=typeof WeakSet=="function"?WeakSet:Set,ii=null,g5=!1;function j3(i,s){if(i=i.containerInfo,Q2=wp,i=mi(i),Vr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,$=-1,re=-1,_e=0,qe=0,Je=i,Ue=null;t:for(;;){for(var Fe;Je!==l||g!==0&&Je.nodeType!==3||($=I+g),Je!==y||c!==0&&Je.nodeType!==3||(re=I+c),Je.nodeType===3&&(I+=Je.nodeValue.length),(Fe=Je.firstChild)!==null;)Ue=Je,Je=Fe;for(;;){if(Je===i)break t;if(Ue===l&&++_e===g&&($=I),Ue===y&&++qe===c&&(re=I),(Fe=Je.nextSibling)!==null)break;Je=Ue,Ue=Je.parentNode}Je=Fe}l=$===-1||re===-1?null:{start:$,end:re}}else l=null}l=l||{start:0,end:0}}else l=null;for(X2={focusedElem:i,selectionRange:l},wp=!1,ii=s;ii!==null;)if(s=ii,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ii=i;else for(;ii!==null;){switch(s=ii,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var yt=ua(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(yt,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Vt){Mn(l,l.return,Vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)tm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ii=i;break}ii=s.return}return yt=g5,g5=!1,yt}function v5(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:yl(i,l),c&4&&Ef(5,l);break;case 1:if(yl(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch($){Mn(l,l.return,$)}else{var g=ua(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch($){Mn(l,l.return,$)}}c&64&&c5(l),c&512&&dc(l,l.return);break;case 3:if(yl(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{u5(c,i)}catch($){Mn(l,l.return,$)}}break;case 26:yl(i,l),c&512&&dc(l,l.return);break;case 27:case 5:yl(i,l),s===null&&c&4&&f5(l),c&512&&dc(l,l.return);break;case 12:yl(i,l);break;case 13:yl(i,l),c&4&&b5(i,l);break;case 22:if(g=l.memoizedState!==null||gl,!g){s=s!==null&&s.memoizedState!==null||gr;var y=gl,I=gr;gl=g,(gr=s)&&!I?su(i,l,(l.subtreeFlags&8772)!==0):yl(i,l),gl=y,gr=I}c&512&&(l.memoizedProps.mode==="manual"?dc(l,l.return):Vs(l,l.return));break;default:yl(i,l)}}function y5(i){var s=i.alternate;s!==null&&(i.alternate=null,y5(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&as(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lr=null,Fs=!1;function vl(i,s,l){for(l=l.child;l!==null;)_5(i,s,l),l=l.sibling}function _5(i,s,l){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(zt,l)}catch{}switch(l.tag){case 26:gr||Vs(l,s),vl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gr||Vs(l,s);var c=Lr,g=Fs;for(Lr=l.stateNode,vl(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);as(l),Lr=c,Fs=g;break;case 5:gr||Vs(l,s);case 6:g=Lr;var y=Fs;if(Lr=null,vl(i,s,l),Lr=g,Fs=y,Lr!==null)if(Fs)try{i=Lr,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(I){Mn(l,s,I)}else try{Lr.removeChild(l.stateNode)}catch(I){Mn(l,s,I)}break;case 18:Lr!==null&&(Fs?(s=Lr,l=l.stateNode,s.nodeType===8?em(s.parentNode,l):s.nodeType===1&&em(s,l),Bf(s)):em(Lr,l.stateNode));break;case 4:c=Lr,g=Fs,Lr=l.stateNode.containerInfo,Fs=!0,vl(i,s,l),Lr=c,Fs=g;break;case 0:case 11:case 14:case 15:gr||iu(2,l,s),gr||iu(4,l,s),vl(i,s,l);break;case 1:gr||(Vs(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&h5(l,s,c)),vl(i,s,l);break;case 21:vl(i,s,l);break;case 22:gr||Vs(l,s),gr=(c=gr)||l.memoizedState!==null,vl(i,s,l),gr=c;break;default:vl(i,s,l)}}function b5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bf(i)}catch(l){Mn(s,s.return,l)}}function V3(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new m5),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new m5),s;default:throw Error(r(435,i.tag))}}function E2(i,s){var l=V3(i);s.forEach(function(c){var g=J3.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function ca(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,I=s,$=I;e:for(;$!==null;){switch($.tag){case 27:case 5:Lr=$.stateNode,Fs=!1;break e;case 3:Lr=$.stateNode.containerInfo,Fs=!0;break e;case 4:Lr=$.stateNode.containerInfo,Fs=!0;break e}$=$.return}if(Lr===null)throw Error(r(160));_5(y,I,g),Lr=null,Fs=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)w5(s,i),s=s.sibling}var qa=null;function w5(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ca(s,i),ha(i),c&4&&(iu(3,i,i.return),Ef(3,i),iu(5,i,i.return));break;case 1:ca(s,i),ha(i),c&512&&(gr||l===null||Vs(l,l.return)),c&64&&gl&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=qa;if(ca(s,i),ha(i),c&512&&(gr||l===null||Vs(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ni]||y[In]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),bi(y,c,l),y[In]=i,Dn(y),c=y;break e;case"link":var I=fv("link","href",g).get(c+(l.href||""));if(I){for(var $=0;$<I.length;$++)if(y=I[$],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice($,1);break t}}y=g.createElement(c),bi(y,c,l),g.head.appendChild(y);break;case"meta":if(I=fv("meta","content",g).get(c+(l.content||""))){for($=0;$<I.length;$++)if(y=I[$],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice($,1);break t}}y=g.createElement(c),bi(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[In]=i,Dn(y),c=y}i.stateNode=c}else dv(g,i.type,i.stateNode);else i.stateNode=hv(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?dv(g,i.type,i.stateNode):hv(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&d5(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){g=i.stateNode,y=i.memoizedProps;try{for(var re=g.firstChild;re;){var _e=re.nextSibling,qe=re.nodeName;re[Ni]||qe==="HEAD"||qe==="BODY"||qe==="SCRIPT"||qe==="STYLE"||qe==="LINK"&&re.rel.toLowerCase()==="stylesheet"||g.removeChild(re),re=_e}for(var Je=i.type,Ue=g.attributes;Ue.length;)g.removeAttributeNode(Ue[0]);bi(g,Je,y),g[In]=i,g[wn]=y}catch(yt){Mn(i,i.return,yt)}}case 5:if(ca(s,i),ha(i),c&512&&(gr||l===null||Vs(l,l.return)),i.flags&32){g=i.stateNode;try{Xr(g,"")}catch(yt){Mn(i,i.return,yt)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,d5(i,g,l!==null?l.memoizedProps:g)),c&1024&&(A2=!0);break;case 6:if(ca(s,i),ha(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(yt){Mn(i,i.return,yt)}}break;case 3:if(yp=null,g=qa,qa=gp(s.containerInfo),ca(s,i),qa=g,ha(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Bf(s.containerInfo)}catch(yt){Mn(i,i.return,yt)}A2&&(A2=!1,A5(i));break;case 4:c=qa,qa=gp(i.stateNode.containerInfo),ca(s,i),ha(i),qa=c;break;case 12:ca(s,i),ha(i);break;case 13:ca(s,i),ha(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(P2=vt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,E2(i,c)));break;case 22:if(c&512&&(gr||l===null||Vs(l,l.return)),re=i.memoizedState!==null,_e=l!==null&&l.memoizedState!==null,qe=gl,Je=gr,gl=qe||re,gr=Je||_e,ca(s,i),gr=Je,gl=qe,ha(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=re?s._visibility&-2:s._visibility|1,re&&(s=gl||gr,l===null||_e||s||sh(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){_e=l=s;try{if(g=_e.stateNode,re)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{I=_e.stateNode,$=_e.memoizedProps.style;var Fe=$!=null&&$.hasOwnProperty("display")?$.display:null;I.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(yt){Mn(_e,_e.return,yt)}}}else if(s.tag===6){if(l===null){_e=s;try{_e.stateNode.nodeValue=re?"":_e.memoizedProps}catch(yt){Mn(_e,_e.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,E2(i,l))));break;case 19:ca(s,i),ha(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,E2(i,c)));break;case 21:break;default:ca(s,i),ha(i)}}function ha(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(p5(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var g=c.stateNode,y=b2(i);tp(i,y,g);break;case 5:var I=c.stateNode;c.flags&32&&(Xr(I,""),c.flags&=-33);var $=b2(i);tp(i,$,I);break;case 3:case 4:var re=c.stateNode.containerInfo,_e=b2(i);w2(i,_e,re);break;default:throw Error(r(161))}}}catch(qe){Mn(i,i.return,qe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function A5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;A5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function yl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)v5(i,s.alternate,s),s=s.sibling}function sh(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:iu(4,s,s.return),sh(s);break;case 1:Vs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&h5(s,s.return,l),sh(s);break;case 26:case 27:case 5:Vs(s,s.return),sh(s);break;case 22:Vs(s,s.return),s.memoizedState===null&&sh(s);break;default:sh(s)}i=i.sibling}}function su(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=i,y=s,I=y.flags;switch(y.tag){case 0:case 11:case 15:su(g,y,l),Ef(4,y);break;case 1:if(su(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(_e){Mn(c,c.return,_e)}if(c=y,g=c.updateQueue,g!==null){var $=c.stateNode;try{var re=g.shared.hiddenCallbacks;if(re!==null)for(g.shared.hiddenCallbacks=null,g=0;g<re.length;g++)l5(re[g],$)}catch(_e){Mn(c,c.return,_e)}}l&&I&64&&c5(y),dc(y,y.return);break;case 26:case 27:case 5:su(g,y,l),l&&c===null&&I&4&&f5(y),dc(y,y.return);break;case 12:su(g,y,l);break;case 13:su(g,y,l),l&&I&4&&b5(g,y);break;case 22:y.memoizedState===null&&su(g,y,l),dc(y,y.return);break;default:su(g,y,l)}s=s.sibling}}function S2(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&d(l))}function T2(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&d(i))}function au(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E5(i,s,l,c),s=s.sibling}function E5(i,s,l,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:au(i,s,l,c),g&2048&&Ef(9,s);break;case 3:au(i,s,l,c),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&d(i)));break;case 12:if(g&2048){au(i,s,l,c),i=s.stateNode;try{var y=s.memoizedProps,I=y.id,$=y.onPostCommit;typeof $=="function"&&$(I,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(re){Mn(s,s.return,re)}}else au(i,s,l,c);break;case 23:break;case 22:y=s.stateNode,s.memoizedState!==null?y._visibility&4?au(i,s,l,c):Sf(i,s):y._visibility&4?au(i,s,l,c):(y._visibility|=4,ah(i,s,l,c,(s.subtreeFlags&10256)!==0)),g&2048&&S2(s.alternate,s);break;case 24:au(i,s,l,c),g&2048&&T2(s.alternate,s);break;default:au(i,s,l,c)}}function ah(i,s,l,c,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,I=s,$=l,re=c,_e=I.flags;switch(I.tag){case 0:case 11:case 15:ah(y,I,$,re,g),Ef(8,I);break;case 23:break;case 22:var qe=I.stateNode;I.memoizedState!==null?qe._visibility&4?ah(y,I,$,re,g):Sf(y,I):(qe._visibility|=4,ah(y,I,$,re,g)),g&&_e&2048&&S2(I.alternate,I);break;case 24:ah(y,I,$,re,g),g&&_e&2048&&T2(I.alternate,I);break;default:ah(y,I,$,re,g)}s=s.sibling}}function Sf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,g=c.flags;switch(c.tag){case 22:Sf(l,c),g&2048&&S2(c.alternate,c);break;case 24:Sf(l,c),g&2048&&T2(c.alternate,c);break;default:Sf(l,c)}s=s.sibling}}var Tf=8192;function oh(i){if(i.subtreeFlags&Tf)for(i=i.child;i!==null;)S5(i),i=i.sibling}function S5(i){switch(i.tag){case 26:oh(i),i.flags&Tf&&i.memoizedState!==null&&xA(qa,i.memoizedState,i.memoizedProps);break;case 5:oh(i);break;case 3:case 4:var s=qa;qa=gp(i.stateNode.containerInfo),oh(i),qa=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Tf,Tf=16777216,oh(i),Tf=s):oh(i));break;default:oh(i)}}function T5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Nf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];ii=c,x5(c,i)}T5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N5(i),i=i.sibling}function N5(i){switch(i.tag){case 0:case 11:case 15:Nf(i),i.flags&2048&&iu(9,i,i.return);break;case 3:Nf(i);break;case 12:Nf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,np(i)):Nf(i);break;default:Nf(i)}}function np(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];ii=c,x5(c,i)}T5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:iu(8,s,s.return),np(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,np(s));break;default:np(s)}i=i.sibling}}function x5(i,s){for(;ii!==null;){var l=ii;switch(l.tag){case 0:case 11:case 15:iu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:d(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ii=c;else e:for(l=i;ii!==null;){c=ii;var g=c.sibling,y=c.return;if(y5(c),c===l){ii=null;break e}if(g!==null){g.return=y,ii=g;break e}ii=y}}}function F3(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(i,s,l,c){return new F3(i,s,l,c)}function N2(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ou(i,s){var l=i.alternate;return l===null?(l=fa(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function R5(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function rp(i,s,l,c,g,y){var I=0;if(c=i,typeof i=="function")N2(i)&&(I=1);else if(typeof i=="string")I=TA(i,l,Ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return pc(l.children,g,y,s);case m:I=8,g|=24;break;case b:return i=fa(12,l,s,g|2),i.elementType=b,i.lanes=y,i;case D:return i=fa(13,l,s,g),i.elementType=D,i.lanes=y,i;case V:return i=fa(19,l,s,g),i.elementType=V,i.lanes=y,i;case Z:return C5(l,g,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case w:I=10;break e;case T:I=9;break e;case P:I=11;break e;case k:I=14;break e;case z:I=16,c=null;break e}I=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=fa(I,l,s,g),s.elementType=i,s.type=c,s.lanes=y,s}function pc(i,s,l,c){return i=fa(7,i,c,s),i.lanes=l,i}function C5(i,s,l,c){i=fa(22,i,c,s),i.elementType=Z,i.lanes=l;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=g._current;if(y===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var I=es(y,2);I!==null&&(g._pendingVisibility|=2,ns(I,y,2))}},attach:function(){var y=g._current;if(y===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var I=es(y,2);I!==null&&(g._pendingVisibility&=-3,ns(I,y,2))}}};return i.stateNode=g,i}function x2(i,s,l){return i=fa(6,i,null,s),i.lanes=l,i}function R2(i,s,l){return s=fa(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function _l(i){i.flags|=4}function I5(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!pv(s)){if(s=gs.current,s!==null&&((dn&4194176)===dn?Ds!==null:(dn&62914560)!==dn&&(dn&536870912)===0||s!==Ds))throw ts=uf,Md;i.flags|=8192}}function ip(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Or():536870912,i.lanes|=s,uh|=s)}function xf(i,s){if(!fn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function or(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&31457280,c|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function B3(i,s,l){var c=s.pendingProps;switch(of(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(s),null;case 1:return or(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ml(Er),ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Qu(s)?_l(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ks!==null&&(M2(ks),ks=null))),or(s),null;case 26:return l=s.memoizedState,i===null?(_l(s),l!==null?(or(s),I5(s,l)):(or(s),s.flags&=-16777217)):l?l!==i.memoizedState?(_l(s),or(s),I5(s,l)):(or(s),s.flags&=-16777217):(i.memoizedProps!==c&&_l(s),or(s),s.flags&=-16777217),null;case 27:ft(s),l=tt.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&_l(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return or(s),null}i=Ye.current,Qu(s)?Hc(s):(i=av(g,c,l),s.stateNode=i,_l(s))}return or(s),null;case 5:if(ft(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&_l(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return or(s),null}if(i=Ye.current,Qu(s))Hc(s);else{switch(g=mp(tt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[In]=s,i[wn]=c;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(bi(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_l(s)}}return or(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&_l(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=tt.current,Qu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,g=ti,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[In]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||ev(i.nodeValue,l)),i||Oa(s)}else i=mp(i).createTextNode(c),i[In]=s,s.stateNode=i}return or(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Qu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[In]=s}else Xu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;or(s),g=!1}else ks!==null&&(M2(ks),ks=null),g=!0;if(!g)return s.flags&256?(Da(s),s):(Da(s),null)}if(Da(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),ip(s,s.updateQueue),or(s),null;case 4:return ne(),i===null&&W2(s.stateNode.containerInfo),or(s),null;case 10:return ml(s.type),or(s),null;case 19:if(Ne(Ar),g=s.memoizedState,g===null)return or(s),null;if(c=(s.flags&128)!==0,y=g.rendering,y===null)if(c)xf(g,!1);else{if(vr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Kc(i),y!==null){for(s.flags|=128,xf(g,!1),i=y.updateQueue,s.updateQueue=i,ip(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)R5(l,i),l=l.sibling;return He(Ar,Ar.current&1|2),s.child}i=i.sibling}g.tail!==null&&vt()>sp&&(s.flags|=128,c=!0,xf(g,!1),s.lanes=4194304)}else{if(!c)if(i=Kc(y),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,ip(s,i),xf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!fn)return or(s),null}else 2*vt()-g.renderingStartTime>sp&&l!==536870912&&(s.flags|=128,c=!0,xf(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(i=g.last,i!==null?i.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=vt(),s.sibling=null,i=Ar.current,He(Ar,c?i&1|2:i&1),s):(or(s),null);case 22:case 23:return Da(s),tc(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(or(s),s.subtreeFlags&6&&(s.flags|=8192)):or(s),l=s.updateQueue,l!==null&&ip(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&Ne(ee),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ml(Er),or(s),null;case 25:return null}throw Error(r(156,s.tag))}function q3(i,s){switch(of(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ml(Er),ne(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ft(s),null;case 13:if(Da(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ne(Ar),null;case 4:return ne(),null;case 10:return ml(s.type),null;case 22:case 23:return Da(s),tc(),i!==null&&Ne(ee),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ml(Er),null;case 25:return null;default:return null}}function L5(i,s){switch(of(s),s.tag){case 3:ml(Er),ne();break;case 26:case 27:case 5:ft(s);break;case 4:ne();break;case 13:Da(s);break;case 19:Ne(Ar);break;case 10:ml(s.type);break;case 22:case 23:Da(s),tc(),i!==null&&Ne(ee);break;case 24:ml(Er)}}var z3={getCacheForType:function(i){var s=Mi(Er),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},H3=typeof WeakMap=="function"?WeakMap:Map,lr=0,Fn=null,Zt=null,dn=0,Bn=0,Bs=null,bl=!1,lh=!1,C2=!1,wl=0,vr=0,lu=0,mc=0,I2=0,da=0,uh=0,Rf=null,Ro=null,L2=!1,P2=0,sp=1/0,ap=null,uu=null,op=!1,gc=null,Cf=0,k2=0,O2=null,If=0,D2=null;function qs(){if((lr&2)!==0&&dn!==0)return dn&-dn;if(O.T!==null){var i=N;return i!==0?i:z2()}return qn()}function P5(){da===0&&(da=(dn&536870912)===0||fn?nr():536870912);var i=gs.current;return i!==null&&(i.flags|=32),da}function ns(i,s,l){(i===Fn&&Bn===2||i.cancelPendingCommit!==null)&&(ch(i,0),Al(i,dn,da,!1)),ct(i,l),((lr&2)===0||i!==Fn)&&(i===Fn&&((lr&2)===0&&(mc|=l),vr===4&&Al(i,dn,da,!1)),Co(i))}function k5(i,s,l){if((lr&6)!==0)throw Error(r(327));var c=!l&&(s&60)===0&&(s&i.expiredLanes)===0||Kt(i,s),g=c?W3(i,s):V2(i,s,!0),y=c;do{if(g===0){lh&&!c&&Al(i,s,0,!1);break}else if(g===6)Al(i,s,0,!bl);else{if(l=i.current.alternate,y&&!G3(l)){g=V2(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var $=i;g=Rf;var re=$.current.memoizedState.isDehydrated;if(re&&(ch($,I).flags|=256),I=V2($,I,!1),I!==2){if(C2&&!re){$.errorRecoveryDisabledLanes|=y,mc|=y,g=4;break e}y=Ro,Ro=g,y!==null&&M2(y)}g=I}if(y=!1,g!==2)continue}}if(g===1){ch(i,0),Al(i,s,0,!0);break}e:{switch(c=i,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Al(c,s,da,!bl);break e}break;case 2:Ro=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=s,(s&62914560)===s&&(y=P2+300-vt(),10<y)){if(Al(c,s,da,!bl),wt(c,0)!==0)break e;c.timeoutHandle=rv(O5.bind(null,c,l,Ro,ap,L2,s,da,mc,uh,bl,2,-0,0),y);break e}O5(c,l,Ro,ap,L2,s,da,mc,uh,bl,0,-0,0)}}break}while(!0);Co(i)}function M2(i){Ro===null?Ro=i:Ro.push.apply(Ro,i)}function O5(i,s,l,c,g,y,I,$,re,_e,qe,Je,Ue){var Fe=s.subtreeFlags;if((Fe&8192||(Fe&16785408)===16785408)&&(Mf={stylesheets:null,count:0,unsuspend:NA},S5(s),s=RA(),s!==null)){i.cancelPendingCommit=s(B5.bind(null,i,l,c,g,I,$,re,1,Je,Ue)),Al(i,y,I,!_e);return}B5(i,l,c,g,I,$,re,qe,Je,Ue)}function G3(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!Ir(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Al(i,s,l,c){s&=~I2,s&=~mc,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var g=s;0<g;){var y=31-jn(g),I=1<<y;c[y]=-1,g&=~I}l!==0&&Dr(i,l,s)}function lp(){return(lr&6)===0?(Lf(0),!1):!0}function U2(){if(Zt!==null){if(Bn===0)var i=Zt.return;else i=Zt,pl=hc=null,er(i),al=null,ms=0,i=Zt;for(;i!==null;)L5(i.alternate,i),i=i.return;Zt=null}}function ch(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,cA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),U2(),Fn=i,Zt=l=ou(i.current,null),dn=s,Bn=0,Bs=null,bl=!1,lh=Kt(i,s),C2=!1,uh=da=I2=mc=lu=vr=0,Ro=Rf=null,L2=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var g=31-jn(c),y=1<<g;s|=i[g],c&=~y}return wl=s,Zn(),l}function D5(i,s){Oe=null,O.H=Us,s===Ju?(s=jd(),Bn=3):s===Md?(s=jd(),Bn=4):Bn=s===$g?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bs=s,Zt===null&&(vr=1,Zl(i,Gn(s,i.current)))}function M5(){var i=O.H;return O.H=Us,i===null?Us:i}function U5(){var i=O.A;return O.A=z3,i}function j2(){vr=4,bl||(dn&4194176)!==dn&&gs.current!==null||(lh=!0),(lu&134217727)===0&&(mc&134217727)===0||Fn===null||Al(Fn,dn,da,!1)}function V2(i,s,l){var c=lr;lr|=2;var g=M5(),y=U5();(Fn!==i||dn!==s)&&(ap=null,ch(i,s)),s=!1;var I=vr;e:do try{if(Bn!==0&&Zt!==null){var $=Zt,re=Bs;switch(Bn){case 8:U2(),I=6;break e;case 3:case 2:case 6:gs.current===null&&(s=!0);var _e=Bn;if(Bn=0,Bs=null,hh(i,$,re,_e),l&&lh){I=0;break e}break;default:_e=Bn,Bn=0,Bs=null,hh(i,$,re,_e)}}K3(),I=vr;break}catch(qe){D5(i,qe)}while(!0);return s&&i.shellSuspendCounter++,pl=hc=null,lr=c,O.H=g,O.A=y,Zt===null&&(Fn=null,dn=0,Zn()),I}function K3(){for(;Zt!==null;)j5(Zt)}function W3(i,s){var l=lr;lr|=2;var c=M5(),g=U5();Fn!==i||dn!==s?(ap=null,sp=vt()+500,ch(i,s)):lh=Kt(i,s);e:do try{if(Bn!==0&&Zt!==null){s=Zt;var y=Bs;t:switch(Bn){case 1:Bn=0,Bs=null,hh(i,s,y,1);break;case 2:if(Ud(y)){Bn=0,Bs=null,V5(s);break}s=function(){Bn===2&&Fn===i&&(Bn=7),Co(i)},y.then(s,s);break e;case 3:Bn=7;break e;case 4:Bn=5;break e;case 7:Ud(y)?(Bn=0,Bs=null,V5(s)):(Bn=0,Bs=null,hh(i,s,y,7));break;case 5:var I=null;switch(Zt.tag){case 26:I=Zt.memoizedState;case 5:case 27:var $=Zt;if(!I||pv(I)){Bn=0,Bs=null;var re=$.sibling;if(re!==null)Zt=re;else{var _e=$.return;_e!==null?(Zt=_e,up(_e)):Zt=null}break t}}Bn=0,Bs=null,hh(i,s,y,5);break;case 6:Bn=0,Bs=null,hh(i,s,y,6);break;case 8:U2(),vr=6;break e;default:throw Error(r(462))}}$3();break}catch(qe){D5(i,qe)}while(!0);return pl=hc=null,O.H=c,O.A=g,lr=l,Zt!==null?0:(Fn=null,dn=0,Zn(),vr)}function $3(){for(;Zt!==null&&!ot();)j5(Zt)}function j5(i){var s=a5(i.alternate,i,wl);i.memoizedProps=i.pendingProps,s===null?up(i):Zt=s}function V5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=e5(l,s,s.pendingProps,s.type,void 0,dn);break;case 11:s=e5(l,s,s.pendingProps,s.type.render,s.ref,dn);break;case 5:er(s);default:L5(l,s),s=Zt=R5(s,wl),s=a5(l,s,wl)}i.memoizedProps=i.pendingProps,s===null?up(i):Zt=s}function hh(i,s,l,c){pl=hc=null,er(s),al=null,ms=0;var g=s.return;try{if(M3(i,g,s,l,dn)){vr=1,Zl(i,Gn(l,i.current)),Zt=null;return}}catch(y){if(g!==null)throw Zt=g,y;vr=1,Zl(i,Gn(l,i.current)),Zt=null;return}s.flags&32768?(fn||c===1?i=!0:lh||(dn&536870912)!==0?i=!1:(bl=i=!0,(c===2||c===3||c===6)&&(c=gs.current,c!==null&&c.tag===13&&(c.flags|=16384))),F5(s,i)):up(s)}function up(i){var s=i;do{if((s.flags&32768)!==0){F5(s,bl);return}i=s.return;var l=B3(s.alternate,s,wl);if(l!==null){Zt=l;return}if(s=s.sibling,s!==null){Zt=s;return}Zt=s=i}while(s!==null);vr===0&&(vr=5)}function F5(i,s){do{var l=q3(i.alternate,i);if(l!==null){l.flags&=32767,Zt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Zt=i;return}Zt=i=l}while(i!==null);vr=6,Zt=null}function B5(i,s,l,c,g,y,I,$,re,_e){var qe=O.T,Je=J.p;try{J.p=2,O.T=null,Y3(i,s,l,c,Je,g,y,I,$,re,_e)}finally{O.T=qe,J.p=Je}}function Y3(i,s,l,c,g,y,I,$){do fh();while(gc!==null);if((lr&6)!==0)throw Error(r(327));var re=i.finishedWork;if(c=i.finishedLanes,re===null)return null;if(i.finishedWork=null,i.finishedLanes=0,re===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var _e=re.lanes|re.childLanes;if(_e|=Hn,Si(i,c,_e,y,I,$),i===Fn&&(Zt=Fn=null,dn=0),(re.subtreeFlags&10256)===0&&(re.flags&10256)===0||op||(op=!0,k2=_e,O2=l,Z3(Yt,function(){return fh(),null})),l=(re.flags&15990)!==0,(re.subtreeFlags&15990)!==0||l?(l=O.T,O.T=null,y=J.p,J.p=2,I=lr,lr|=4,j3(i,re),w5(re,i),mo(X2,i.containerInfo),wp=!!Q2,X2=Q2=null,i.current=re,v5(i,re.alternate,re),gt(),lr=I,J.p=y,O.T=l):i.current=re,op?(op=!1,gc=i,Cf=c):q5(i,_e),_e=i.pendingLanes,_e===0&&(uu=null),mn(re.stateNode),Co(i),s!==null)for(g=i.onRecoverableError,re=0;re<s.length;re++)_e=s[re],g(_e.value,{componentStack:_e.stack});return(Cf&3)!==0&&fh(),_e=i.pendingLanes,(c&4194218)!==0&&(_e&42)!==0?i===D2?If++:(If=0,D2=i):If=0,Lf(0),null}function q5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,d(s)))}function fh(){if(gc!==null){var i=gc,s=k2;k2=0;var l=Qn(Cf),c=O.T,g=J.p;try{if(J.p=32>l?32:l,O.T=null,gc===null)var y=!1;else{l=O2,O2=null;var I=gc,$=Cf;if(gc=null,Cf=0,(lr&6)!==0)throw Error(r(331));var re=lr;if(lr|=4,N5(I.current),E5(I,I.current,$,l),lr=re,Lf(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(zt,I)}catch{}y=!0}return y}finally{J.p=g,O.T=c,q5(i,s)}}return!1}function z5(i,s,l){s=Gn(l,s),s=r2(i.stateNode,s,2),i=ru(i,s,2),i!==null&&(ct(i,2),Co(i))}function Mn(i,s,l){if(i.tag===3)z5(i,i,l);else for(;s!==null;){if(s.tag===3){z5(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(uu===null||!uu.has(c))){i=Gn(l,i),l=Kg(2),c=ru(s,l,2),c!==null&&(Wg(l,c,s,i),ct(c,2),Co(c));break}}s=s.return}}function F2(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new H3;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(l)||(C2=!0,g.add(l),i=Q3.bind(null,i,s,l),s.then(i,i))}function Q3(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Fn===i&&(dn&l)===l&&(vr===4||vr===3&&(dn&62914560)===dn&&300>vt()-P2?(lr&2)===0&&ch(i,0):I2|=l,uh===dn&&(uh=0)),Co(i)}function H5(i,s){s===0&&(s=Or()),i=es(i,s),i!==null&&(ct(i,s),Co(i))}function X3(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),H5(i,l)}function J3(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),H5(i,l)}function Z3(i,s){return nt(i,s)}var cp=null,dh=null,B2=!1,hp=!1,q2=!1,vc=0;function Co(i){i!==dh&&i.next===null&&(dh===null?cp=dh=i:dh=dh.next=i),hp=!0,B2||(B2=!0,tA(eA))}function Lf(i,s){if(!q2&&hp){q2=!0;do for(var l=!1,c=cp;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var I=c.suspendedLanes,$=c.pingedLanes;y=(1<<31-jn(42|i)+1)-1,y&=g&~(I&~$),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,W5(c,y))}else y=dn,y=wt(c,c===Fn?y:0),(y&3)===0||Kt(c,y)||(l=!0,W5(c,y));c=c.next}while(l);q2=!1}}function eA(){hp=B2=!1;var i=0;vc!==0&&(uA()&&(i=vc),vc=0);for(var s=vt(),l=null,c=cp;c!==null;){var g=c.next,y=G5(c,s);y===0?(c.next=null,l===null?cp=g:l.next=g,g===null&&(dh=l)):(l=c,(i!==0||(y&3)!==0)&&(hp=!0)),c=g}Lf(i)}function G5(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var I=31-jn(y),$=1<<I,re=g[I];re===-1?(($&l)===0||($&c)!==0)&&(g[I]=ss($,s)):re<=s&&(i.expiredLanes|=$),y&=~$}if(s=Fn,l=dn,l=wt(i,i===s?l:0),c=i.callbackNode,l===0||i===s&&Bn===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&at(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Kt(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&at(c),Qn(l)){case 2:case 8:l=Nt;break;case 32:l=Yt;break;case 268435456:l=qt;break;default:l=Yt}return c=K5.bind(null,i),l=nt(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&at(c),i.callbackPriority=2,i.callbackNode=null,2}function K5(i,s){var l=i.callbackNode;if(fh()&&i.callbackNode!==l)return null;var c=dn;return c=wt(i,i===Fn?c:0),c===0?null:(k5(i,c,s),G5(i,vt()),i.callbackNode!=null&&i.callbackNode===l?K5.bind(null,i):null)}function W5(i,s){if(fh())return null;k5(i,s,!0)}function tA(i){hA(function(){(lr&6)!==0?nt(bt,i):i()})}function z2(){return vc===0&&(vc=nr()),vc}function $5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yi(""+i)}function Y5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function nA(i,s,l,c,g){if(s==="submit"&&l&&l.stateNode===g){var y=$5((g[wn]||null).action),I=c.submitter;I&&(s=(s=I[wn]||null)?$5(s.formAction):I.getAttribute("formAction"),s!==null&&(y=s,I=null));var $=new Zs("action","action",null,c,g);i.push({event:$,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vc!==0){var re=I?Y5(g,I):new FormData(g);eh(l,{pending:!0,data:re,method:g.method,action:y},null,re)}}else typeof y=="function"&&($.preventDefault(),re=I?Y5(g,I):new FormData(g),eh(l,{pending:!0,data:re,method:g.method,action:y},y,re))},currentTarget:g}]})}}for(var H2=0;H2<Zi.length;H2++){var G2=Zi[H2],rA=G2.toLowerCase(),iA=G2[0].toUpperCase()+G2.slice(1);Jn(rA,"on"+iA)}Jn(yo,"onAnimationEnd"),Jn(_o,"onAnimationIteration"),Jn(Ca,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(nl,"onTransitionRun"),Jn(ql,"onTransitionStart"),Jn(rl,"onTransitionCancel"),Jn(Ia,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pf));function Q5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var I=c.length-1;0<=I;I--){var $=c[I],re=$.instance,_e=$.currentTarget;if($=$.listener,re!==y&&g.isPropagationStopped())break e;y=$,g.currentTarget=_e;try{y(g)}catch(qe){Jl(qe)}g.currentTarget=null,y=re}else for(I=0;I<c.length;I++){if($=c[I],re=$.instance,_e=$.currentTarget,$=$.listener,re!==y&&g.isPropagationStopped())break e;y=$,g.currentTarget=_e;try{y(g)}catch(qe){Jl(qe)}g.currentTarget=null,y=re}}}}function un(i,s){var l=s[Mr];l===void 0&&(l=s[Mr]=new Set);var c=i+"__bubble";l.has(c)||(X5(s,i,2,!1),l.add(c))}function K2(i,s,l){var c=0;s&&(c|=4),X5(l,i,c,s)}var fp="_reactListening"+Math.random().toString(36).slice(2);function W2(i){if(!i[fp]){i[fp]=!0,Ho.forEach(function(l){l!=="selectionchange"&&(sA.has(l)||K2(l,!1,i),K2(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[fp]||(s[fp]=!0,K2("selectionchange",!1,s))}}function X5(i,s,l,c){switch(bv(s)){case 2:var g=LA;break;case 8:g=PA;break;default:g=am}l=g.bind(null,s,l,i),g=void 0,!pi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function $2(i,s,l,c,g){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var $=c.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(I===4)for(I=c.return;I!==null;){var re=I.tag;if((re===3||re===4)&&(re=I.stateNode.containerInfo,re===g||re.nodeType===8&&re.parentNode===g))return;I=I.return}for(;$!==null;){if(I=$r($),I===null)return;if(re=I.tag,re===5||re===6||re===26||re===27){c=y=I;continue e}$=$.parentNode}}c=c.return}Qi(function(){var _e=y,qe=so(l),Je=[];e:{var Ue=zl.get(i);if(Ue!==void 0){var Fe=Zs,yt=i;switch(i){case"keypress":if(Ci(l)===0)break e;case"keydown":case"keyup":Fe=Cs;break;case"focusin":yt="focus",Fe=ta;break;case"focusout":yt="blur",Fe=ta;break;case"beforeblur":case"afterblur":Fe=ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=uo;break;case yo:case _o:case Ca:Fe=ao;break;case Ia:Fe=j;break;case"scroll":case"scrollend":Fe=Xo;break;case"wheel":Fe=ue;break;case"copy":case"cut":case"paste":Fe=oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Na;break;case"toggle":case"beforetoggle":Fe=Ve}var Vt=(s&4)!==0,yr=!Vt&&(i==="scroll"||i==="scrollend"),Se=Vt?Ue!==null?Ue+"Capture":null:Ue;Vt=[];for(var me=_e,Pe;me!==null;){var Ke=me;if(Pe=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Pe===null||Se===null||(Ke=Xs(me,Se),Ke!=null&&Vt.push(kf(me,Ke,Pe))),yr)break;me=me.return}0<Vt.length&&(Ue=new Fe(Ue,yt,null,l,qe),Je.push({event:Ue,listeners:Vt}))}}if((s&7)===0){e:{if(Ue=i==="mouseover"||i==="pointerover",Fe=i==="mouseout"||i==="pointerout",Ue&&l!==Tn&&(yt=l.relatedTarget||l.fromElement)&&($r(yt)||yt[br]))break e;if((Fe||Ue)&&(Ue=qe.window===qe?qe:(Ue=qe.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Fe?(yt=l.relatedTarget||l.toElement,Fe=_e,yt=yt?$r(yt):null,yt!==null&&(yr=ce(yt),Vt=yt.tag,yt!==yr||Vt!==5&&Vt!==27&&Vt!==6)&&(yt=null)):(Fe=null,yt=_e),Fe!==yt)){if(Vt=pr,Ke="onMouseLeave",Se="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=Na,Ke="onPointerLeave",Se="onPointerEnter",me="pointer"),yr=Fe==null?Ue:Wi(Fe),Pe=yt==null?Ue:Wi(yt),Ue=new Vt(Ke,me+"leave",Fe,l,qe),Ue.target=yr,Ue.relatedTarget=Pe,Ke=null,$r(qe)===_e&&(Vt=new Vt(Se,me+"enter",yt,l,qe),Vt.target=Pe,Vt.relatedTarget=yr,Ke=Vt),yr=Ke,Fe&&yt)t:{for(Vt=Fe,Se=yt,me=0,Pe=Vt;Pe;Pe=ph(Pe))me++;for(Pe=0,Ke=Se;Ke;Ke=ph(Ke))Pe++;for(;0<me-Pe;)Vt=ph(Vt),me--;for(;0<Pe-me;)Se=ph(Se),Pe--;for(;me--;){if(Vt===Se||Se!==null&&Vt===Se.alternate)break t;Vt=ph(Vt),Se=ph(Se)}Vt=null}else Vt=null;Fe!==null&&J5(Je,Ue,Fe,Vt,!1),yt!==null&&yr!==null&&J5(Je,yr,yt,Vt,!0)}}e:{if(Ue=_e?Wi(_e):window,Fe=Ue.nodeName&&Ue.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ue.type==="file")var pt=Vl;else if(En(Ue))if(Zo)pt=qc;else{pt=sf;var Jt=Li}else Fe=Ue.nodeName,!Fe||Fe.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?_e&&$i(_e.elementType)&&(pt=Vl):pt=Gu;if(pt&&(pt=pt(i,_e))){hs(Je,pt,l,qe);break e}Jt&&Jt(i,Ue,_e),i==="focusout"&&_e&&Ue.type==="number"&&_e.memoizedProps.value!=null&&_a(Ue,"number",Ue.value)}switch(Jt=_e?Wi(_e):window,i){case"focusin":(En(Jt)||Jt.contentEditable==="true")&&(Pi=Jt,go=_e,Ji=null);break;case"focusout":Ji=go=Pi=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":zn=!1,Bl(Je,l,qe);break;case"selectionchange":if(Ra)break;case"keydown":case"keyup":Bl(Je,l,qe)}var At;if(st)e:{switch(i){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else Rt?Ie(i,l)&&(Ct="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ct="onCompositionStart");Ct&&(x&&l.locale!=="ko"&&(Rt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Rt&&(At=Qo()):(Ri=qe,Js="value"in Ri?Ri.value:Ri.textContent,Rt=!0)),Jt=dp(_e,Ct),0<Jt.length&&(Ct=new Ea(Ct,i,null,l,qe),Je.push({event:Ct,listeners:Jt}),At?Ct.data=At:(At=Xe(l),At!==null&&(Ct.data=At)))),(At=S?Xt(i,l):Mt(i,l))&&(Ct=dp(_e,"onBeforeInput"),0<Ct.length&&(Jt=new Ea("onBeforeInput","beforeinput",null,l,qe),Je.push({event:Jt,listeners:Ct}),Jt.data=At)),nA(Je,i,_e,l,qe)}Q5(Je,s)})}function kf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function dp(i,s){for(var l=s+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Xs(i,l),g!=null&&c.unshift(kf(i,g,y)),g=Xs(i,s),g!=null&&c.push(kf(i,g,y))),i=i.return}return c}function ph(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J5(i,s,l,c,g){for(var y=s._reactName,I=[];l!==null&&l!==c;){var $=l,re=$.alternate,_e=$.stateNode;if($=$.tag,re!==null&&re===c)break;$!==5&&$!==26&&$!==27||_e===null||(re=_e,g?(_e=Xs(l,y),_e!=null&&I.unshift(kf(l,_e,re))):g||(_e=Xs(l,y),_e!=null&&I.push(kf(l,_e,re)))),l=l.return}I.length!==0&&i.push({event:s,listeners:I})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Z5(i){return(typeof i=="string"?i:""+i).replace(aA,`
`).replace(oA,"")}function ev(i,s){return s=Z5(s),Z5(i)===s}function pp(){}function kn(i,s,l,c,g,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Xr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Xr(i,""+c);break;case"className":An(i,"class",c);break;case"tabIndex":An(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,l,c);break;case"style":Ml(i,c,y);break;case"data":if(s!=="object"){An(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Yi(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&kn(i,s,"name",g.name,g,null),kn(i,s,"formEncType",g.formEncType,g,null),kn(i,s,"formMethod",g.formMethod,g,null),kn(i,s,"formTarget",g.formTarget,g,null)):(kn(i,s,"encType",g.encType,g,null),kn(i,s,"method",g.method,g,null),kn(i,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Yi(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=pp);break;case"onScroll":c!=null&&un("scroll",i);break;case"onScrollEnd":c!=null&&un("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Yi(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":un("beforetoggle",i),un("toggle",i),$s(i,"popover",c);break;case"xlinkActuate":fi(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":fi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":fi(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":fi(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":fi(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":fi(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":fi(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":fi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":fi(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$s(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ro.get(l)||l,$s(i,l,c))}}function Y2(i,s,l,c,g,y){switch(l){case"style":Ml(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Xr(i,c):(typeof c=="number"||typeof c=="bigint")&&Xr(i,""+c);break;case"onScroll":c!=null&&un("scroll",i);break;case"onScrollEnd":c!=null&&un("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=i[wn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):$s(i,l,c)}}}function bi(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",i),un("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:kn(i,s,y,I,l,null)}}g&&kn(i,s,"srcSet",l.srcSet,l,null),c&&kn(i,s,"src",l.src,l,null);return;case"input":un("invalid",i);var $=y=I=g=null,re=null,_e=null;for(c in l)if(l.hasOwnProperty(c)){var qe=l[c];if(qe!=null)switch(c){case"name":g=qe;break;case"type":I=qe;break;case"checked":re=qe;break;case"defaultChecked":_e=qe;break;case"value":y=qe;break;case"defaultValue":$=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,s));break;default:kn(i,s,c,qe,l,null)}}ya(i,y,$,re,_e,I,g,!1),va(i);return;case"select":un("invalid",i),c=I=y=null;for(g in l)if(l.hasOwnProperty(g)&&($=l[g],$!=null))switch(g){case"value":y=$;break;case"defaultValue":I=$;break;case"multiple":c=$;default:kn(i,s,g,$,l,null)}s=y,l=I,i.multiple=!!c,s!=null?tn(i,!!c,s,!1):l!=null&&tn(i,!!c,l,!0);return;case"textarea":un("invalid",i),y=g=c=null;for(I in l)if(l.hasOwnProperty(I)&&($=l[I],$!=null))switch(I){case"value":c=$;break;case"defaultValue":g=$;break;case"children":y=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:kn(i,s,I,$,l,null)}Qs(i,c,g,y),va(i);return;case"option":for(re in l)if(l.hasOwnProperty(re)&&(c=l[re],c!=null))switch(re){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:kn(i,s,re,c,l,null)}return;case"dialog":un("cancel",i),un("close",i);break;case"iframe":case"object":un("load",i);break;case"video":case"audio":for(c=0;c<Pf.length;c++)un(Pf[c],i);break;case"image":un("error",i),un("load",i);break;case"details":un("toggle",i);break;case"embed":case"source":case"link":un("error",i),un("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in l)if(l.hasOwnProperty(_e)&&(c=l[_e],c!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:kn(i,s,_e,c,l,null)}return;default:if($i(s)){for(qe in l)l.hasOwnProperty(qe)&&(c=l[qe],c!==void 0&&Y2(i,s,qe,c,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(c=l[$],c!=null&&kn(i,s,$,c,l,null))}function lA(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,I=null,$=null,re=null,_e=null,qe=null;for(Fe in l){var Je=l[Fe];if(l.hasOwnProperty(Fe)&&Je!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":re=Je;default:c.hasOwnProperty(Fe)||kn(i,s,Fe,null,c,Je)}}for(var Ue in c){var Fe=c[Ue];if(Je=l[Ue],c.hasOwnProperty(Ue)&&(Fe!=null||Je!=null))switch(Ue){case"type":y=Fe;break;case"name":g=Fe;break;case"checked":_e=Fe;break;case"defaultChecked":qe=Fe;break;case"value":I=Fe;break;case"defaultValue":$=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,s));break;default:Fe!==Je&&kn(i,s,Ue,Fe,c,Je)}}Ts(i,I,$,re,_e,qe,y,g);return;case"select":Fe=I=$=Ue=null;for(y in l)if(re=l[y],l.hasOwnProperty(y)&&re!=null)switch(y){case"value":break;case"multiple":Fe=re;default:c.hasOwnProperty(y)||kn(i,s,y,null,c,re)}for(g in c)if(y=c[g],re=l[g],c.hasOwnProperty(g)&&(y!=null||re!=null))switch(g){case"value":Ue=y;break;case"defaultValue":$=y;break;case"multiple":I=y;default:y!==re&&kn(i,s,g,y,c,re)}s=$,l=I,c=Fe,Ue!=null?tn(i,!!l,Ue,!1):!!c!=!!l&&(s!=null?tn(i,!!l,s,!0):tn(i,!!l,l?[]:"",!1));return;case"textarea":Fe=Ue=null;for($ in l)if(g=l[$],l.hasOwnProperty($)&&g!=null&&!c.hasOwnProperty($))switch($){case"value":break;case"children":break;default:kn(i,s,$,null,c,g)}for(I in c)if(g=c[I],y=l[I],c.hasOwnProperty(I)&&(g!=null||y!=null))switch(I){case"value":Ue=g;break;case"defaultValue":Fe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&kn(i,s,I,g,c,y)}Ys(i,Ue,Fe);return;case"option":for(var yt in l)if(Ue=l[yt],l.hasOwnProperty(yt)&&Ue!=null&&!c.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:kn(i,s,yt,null,c,Ue)}for(re in c)if(Ue=c[re],Fe=l[re],c.hasOwnProperty(re)&&Ue!==Fe&&(Ue!=null||Fe!=null))switch(re){case"selected":i.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:kn(i,s,re,Ue,c,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in l)Ue=l[Vt],l.hasOwnProperty(Vt)&&Ue!=null&&!c.hasOwnProperty(Vt)&&kn(i,s,Vt,null,c,Ue);for(_e in c)if(Ue=c[_e],Fe=l[_e],c.hasOwnProperty(_e)&&Ue!==Fe&&(Ue!=null||Fe!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,s));break;default:kn(i,s,_e,Ue,c,Fe)}return;default:if($i(s)){for(var yr in l)Ue=l[yr],l.hasOwnProperty(yr)&&Ue!==void 0&&!c.hasOwnProperty(yr)&&Y2(i,s,yr,void 0,c,Ue);for(qe in c)Ue=c[qe],Fe=l[qe],!c.hasOwnProperty(qe)||Ue===Fe||Ue===void 0&&Fe===void 0||Y2(i,s,qe,Ue,c,Fe);return}}for(var Se in l)Ue=l[Se],l.hasOwnProperty(Se)&&Ue!=null&&!c.hasOwnProperty(Se)&&kn(i,s,Se,null,c,Ue);for(Je in c)Ue=c[Je],Fe=l[Je],!c.hasOwnProperty(Je)||Ue===Fe||Ue==null&&Fe==null||kn(i,s,Je,Ue,c,Fe)}var Q2=null,X2=null;function mp(i){return i.nodeType===9?i:i.ownerDocument}function tv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function J2(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Z2=null;function uA(){var i=window.event;return i&&i.type==="popstate"?i===Z2?!1:(Z2=i,!0):(Z2=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(i){return iv.resolve(null).then(i).catch(fA)}:rv;function fA(i){setTimeout(function(){throw i})}function em(i,s){var l=s,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(c===0){i.removeChild(g),Bf(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=g}while(l);Bf(s)}function tm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":tm(l),as(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function dA(i,s,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ni])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=za(i.nextSibling),i===null)break}return null}function pA(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=za(i.nextSibling),i===null))return null;return i}function za(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function sv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function av(i,s,l){switch(s=mp(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var pa=new Map,ov=new Set;function gp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var El=J.d;J.d={f:mA,r:gA,D:vA,C:yA,L:_A,m:bA,X:AA,S:wA,M:EA};function mA(){var i=El.f(),s=lp();return i||s}function gA(i){var s=xi(i);s!==null&&s.tag===5&&s.type==="form"?cc(s):El.r(i)}var mh=typeof document>"u"?null:document;function lv(i,s,l){var c=mh;if(c&&typeof s=="string"&&s){var g=Ln(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),ov.has(g)||(ov.add(g),i={rel:i,crossOrigin:l,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),bi(s,"link",i),Dn(s),c.head.appendChild(s)))}}function vA(i){El.D(i),lv("dns-prefetch",i,null)}function yA(i,s){El.C(i,s),lv("preconnect",i,s)}function _A(i,s,l){El.L(i,s,l);var c=mh;if(c&&i&&s){var g='link[rel="preload"][as="'+Ln(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ln(l.imageSizes)+'"]')):g+='[href="'+Ln(i)+'"]';var y=g;switch(s){case"style":y=gh(i);break;case"script":y=vh(i)}pa.has(y)||(i=W({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),pa.set(y,i),c.querySelector(g)!==null||s==="style"&&c.querySelector(Of(y))||s==="script"&&c.querySelector(Df(y))||(s=c.createElement("link"),bi(s,"link",i),Dn(s),c.head.appendChild(s)))}}function bA(i,s){El.m(i,s);var l=mh;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Ln(c)+'"][href="'+Ln(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vh(i)}if(!pa.has(y)&&(i=W({rel:"modulepreload",href:i},s),pa.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Df(y)))return}c=l.createElement("link"),bi(c,"link",i),Dn(c),l.head.appendChild(c)}}}function wA(i,s,l){El.S(i,s,l);var c=mh;if(c&&i){var g=As(c).hoistableStyles,y=gh(i);s=s||"default";var I=g.get(y);if(!I){var $={loading:0,preload:null};if(I=c.querySelector(Of(y)))$.loading=5;else{i=W({rel:"stylesheet",href:i,"data-precedence":s},l),(l=pa.get(y))&&nm(i,l);var re=I=c.createElement("link");Dn(re),bi(re,"link",i),re._p=new Promise(function(_e,qe){re.onload=_e,re.onerror=qe}),re.addEventListener("load",function(){$.loading|=1}),re.addEventListener("error",function(){$.loading|=2}),$.loading|=4,vp(I,s,c)}I={type:"stylesheet",instance:I,count:1,state:$},g.set(y,I)}}}function AA(i,s){El.X(i,s);var l=mh;if(l&&i){var c=As(l).hoistableScripts,g=vh(i),y=c.get(g);y||(y=l.querySelector(Df(g)),y||(i=W({src:i,async:!0},s),(s=pa.get(g))&&rm(i,s),y=l.createElement("script"),Dn(y),bi(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function EA(i,s){El.M(i,s);var l=mh;if(l&&i){var c=As(l).hoistableScripts,g=vh(i),y=c.get(g);y||(y=l.querySelector(Df(g)),y||(i=W({src:i,async:!0,type:"module"},s),(s=pa.get(g))&&rm(i,s),y=l.createElement("script"),Dn(y),bi(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function uv(i,s,l,c){var g=(g=tt.current)?gp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=gh(l.href),l=As(g).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=gh(l.href);var y=As(g).hoistableStyles,I=y.get(i);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,I),(y=g.querySelector(Of(i)))&&!y._p&&(I.instance=y,I.state.loading=5),pa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pa.set(i,l),y||SA(g,i,l,I.state))),s&&c===null)throw Error(r(528,""));return I}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vh(l),l=As(g).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function gh(i){return'href="'+Ln(i)+'"'}function Of(i){return'link[rel="stylesheet"]['+i+"]"}function cv(i){return W({},i,{"data-precedence":i.precedence,precedence:null})}function SA(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),bi(s,"link",l),Dn(s),i.head.appendChild(s))}function vh(i){return'[src="'+Ln(i)+'"]'}function Df(i){return"script[async]"+i}function hv(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ln(l.href)+'"]');if(c)return s.instance=c,Dn(c),c;var g=W({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dn(c),bi(c,"style",g),vp(c,l.precedence,i),s.instance=c;case"stylesheet":g=gh(l.href);var y=i.querySelector(Of(g));if(y)return s.state.loading|=4,s.instance=y,Dn(y),y;c=cv(l),(g=pa.get(g))&&nm(c,g),y=(i.ownerDocument||i).createElement("link"),Dn(y);var I=y;return I._p=new Promise(function($,re){I.onload=$,I.onerror=re}),bi(y,"link",c),s.state.loading|=4,vp(y,l.precedence,i),s.instance=y;case"script":return y=vh(l.src),(g=i.querySelector(Df(y)))?(s.instance=g,Dn(g),g):(c=l,(g=pa.get(y))&&(c=W({},l),rm(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Dn(g),bi(g,"link",c),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vp(c,l.precedence,i));return s.instance}function vp(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,I=0;I<c.length;I++){var $=c[I];if($.dataset.precedence===s)y=$;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function nm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function rm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var yp=null;function fv(i,s,l){if(yp===null){var c=new Map,g=yp=new Map;g.set(l,c)}else g=yp,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Ni]||y[In]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(s)||"";I=i+I;var $=c.get(I);$?$.push(y):c.set(I,[y])}}return c}function dv(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function TA(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Mf=null;function NA(){}function xA(i,s,l){if(Mf===null)throw Error(r(475));var c=Mf;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=gh(l.href),y=i.querySelector(Of(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=_p.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=y,Dn(y);return}y=i.ownerDocument||i,l=cv(l),(g=pa.get(g))&&nm(l,g),y=y.createElement("link"),Dn(y);var I=y;I._p=new Promise(function($,re){I.onload=$,I.onerror=re}),bi(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=_p.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function RA(){if(Mf===null)throw Error(r(475));var i=Mf;return i.stylesheets&&i.count===0&&im(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&im(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function _p(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bp=null;function im(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bp=new Map,s.forEach(CA,i),bp=null,_p.call(i))}function CA(i,s){if(!(s.state.loading&4)){var l=bp.get(i);if(l)var c=l.get(null);else{l=new Map,bp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var I=g[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}g=s.instance,I=g.getAttribute("data-precedence"),y=l.get(I)||c,y===c&&l.set(null,g),l.set(I,g),this.count++,c=_p.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Uf={$$typeof:w,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function IA(i,s,l,c,g,y,I,$){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function mv(i,s,l,c,g,y,I,$,re,_e,qe,Je){return i=new IA(i,s,l,I,$,re,_e,Je),s=1,y===!0&&(s|=24),y=fa(3,null,null,s),i.current=y,y.stateNode=i,s=$c(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},g2(y),i}function gv(i){return i?(i=La,i):La}function vv(i,s,l,c,g,y){g=gv(g),c.context===null?c.context=g:c.pendingContext=g,c=nu(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ru(i,c,s),l!==null&&(ns(l,i,s),bf(l,i,s))}function yv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function sm(i,s){yv(i,s),(i=i.alternate)&&yv(i,s)}function _v(i){if(i.tag===13){var s=es(i,67108864);s!==null&&ns(s,i,67108864),sm(i,67108864)}}var wp=!0;function LA(i,s,l,c){var g=O.T;O.T=null;var y=J.p;try{J.p=2,am(i,s,l,c)}finally{J.p=y,O.T=g}}function PA(i,s,l,c){var g=O.T;O.T=null;var y=J.p;try{J.p=8,am(i,s,l,c)}finally{J.p=y,O.T=g}}function am(i,s,l,c){if(wp){var g=om(c);if(g===null)$2(i,s,c,Ap,l),wv(i,c);else if(OA(g,i,s,l,c))c.stopPropagation();else if(wv(i,c),s&4&&-1<kA.indexOf(i)){for(;g!==null;){var y=xi(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=hn(y.pendingLanes);if(I!==0){var $=y;for($.pendingLanes|=2,$.entangledLanes|=2;I;){var re=1<<31-jn(I);$.entanglements[1]|=re,I&=~re}Co(y),(lr&6)===0&&(sp=vt()+500,Lf(0))}}break;case 13:$=es(y,2),$!==null&&ns($,y,2),lp(),sm(y,2)}if(y=om(c),y===null&&$2(i,s,c,Ap,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else $2(i,s,c,null,l)}}function om(i){return i=so(i),lm(i)}var Ap=null;function lm(i){if(Ap=null,i=$r(i),i!==null){var s=ce(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=Le(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ap=i,null}function bv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case bt:return 2;case Nt:return 8;case Yt:case xt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var um=!1,cu=null,hu=null,fu=null,jf=new Map,Vf=new Map,du=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(i,s){switch(i){case"focusin":case"focusout":cu=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":jf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(s.pointerId)}}function Ff(i,s,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},s!==null&&(s=xi(s),s!==null&&_v(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function OA(i,s,l,c,g){switch(s){case"focusin":return cu=Ff(cu,i,s,l,c,g),!0;case"dragenter":return hu=Ff(hu,i,s,l,c,g),!0;case"mouseover":return fu=Ff(fu,i,s,l,c,g),!0;case"pointerover":var y=g.pointerId;return jf.set(y,Ff(jf.get(y)||null,i,s,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Vf.set(y,Ff(Vf.get(y)||null,i,s,l,c,g)),!0}return!1}function Av(i){var s=$r(i.target);if(s!==null){var l=ce(s);if(l!==null){if(s=l.tag,s===13){if(s=Le(l),s!==null){i.blockedOn=s,fr(i.priority,function(){if(l.tag===13){var c=qs(),g=es(l,c);g!==null&&ns(g,l,c),sm(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ep(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=om(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Tn=c,l.target.dispatchEvent(c),Tn=null}else return s=xi(l),s!==null&&_v(s),i.blockedOn=l,!1;s.shift()}return!0}function Ev(i,s,l){Ep(i)&&l.delete(s)}function DA(){um=!1,cu!==null&&Ep(cu)&&(cu=null),hu!==null&&Ep(hu)&&(hu=null),fu!==null&&Ep(fu)&&(fu=null),jf.forEach(Ev),Vf.forEach(Ev)}function Sp(i,s){i.blockedOn===s&&(i.blockedOn=null,um||(um=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DA)))}var Tp=null;function Sv(i){Tp!==i&&(Tp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tp===i&&(Tp=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],g=i[s+2];if(typeof c!="function"){if(lm(c||l)===null)continue;break}var y=xi(l);y!==null&&(i.splice(s,3),s-=3,eh(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Bf(i){function s(re){return Sp(re,i)}cu!==null&&Sp(cu,i),hu!==null&&Sp(hu,i),fu!==null&&Sp(fu,i),jf.forEach(s),Vf.forEach(s);for(var l=0;l<du.length;l++){var c=du[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<du.length&&(l=du[0],l.blockedOn===null);)Av(l),l.blockedOn===null&&du.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],I=g[wn]||null;if(typeof y=="function")I||Sv(l);else if(I){var $=null;if(y&&y.hasAttribute("formAction")){if(g=y,I=y[wn]||null)$=I.formAction;else if(lm(g)!==null)continue}else $=I.action;typeof $=="function"?l[c+1]=$:(l.splice(c,3),c-=3),Sv(l)}}}function cm(i){this._internalRoot=i}Np.prototype.render=cm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=qs();vv(l,c,i,s,null,null)},Np.prototype.unmount=cm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&fh(),vv(i.current,2,null,i,null,null),lp(),s[br]=null}};function Np(i){this._internalRoot=i}Np.prototype.unstable_scheduleHydration=function(i){if(i){var s=qn();i={blockedOn:null,target:i,priority:s};for(var l=0;l<du.length&&s!==0&&s<du[l].priority;l++);du.splice(l,0,i),l===0&&Av(i)}};var Tv=e.version;if(Tv!=="19.0.0")throw Error(r(527,Tv,"19.0.0"));J.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Te(s),i=i!==null?F(i):null,i=i===null?null:i.stateNode,i};var MA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:$r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{zt=xp.inject(MA),Cn=xp}catch{}}return zf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",g=vf,y=Jd,I=ih,$=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks)),s=mv(i,1,!1,null,null,l,c,g,y,I,$,null),i[br]=s.current,W2(i.nodeType===8?i.parentNode:i),new cm(s)},zf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,g="",y=vf,I=Jd,$=ih,re=null,_e=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(re=l.unstable_transitionCallbacks),l.formState!==void 0&&(_e=l.formState)),s=mv(i,1,!0,s,l??null,c,g,y,I,$,re,_e),s.context=gv(null),l=s.current,c=qs(),g=nu(c),g.callback=null,ru(l,g,c),s.current.lanes=c,ct(s,c),Co(s),i[br]=s.current,W2(i),new Np(s)},zf.version="19.0.0",zf}var Dv;function KA(){if(Dv)return dm.exports;Dv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=GA(),dm.exports}var WA=KA();const $A=()=>{};var Mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},YA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,b=o>>2,A=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,w=m&63;f||(w=64,u||(T=64)),r.push(t[b],t[A],t[T],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const A=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||A==null)throw new QA;const T=o<<2|h>>4;if(r.push(T),m!==64){const w=h<<4&240|m>>2;if(r.push(w),A!==64){const P=m<<6&192|A;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(n){const e=Q_(n);return X_.encodeByteArray(e,!0)},i0=function(n){return XA(n).replace(/\./g,"")},J_=function(n){try{return X_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>JA().__FIREBASE_DEFAULTS__,eE=()=>{if(typeof process>"u"||typeof Mv>"u")return;const n=Mv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J_(n[1]);return e&&JSON.parse(e)},x0=()=>{try{return $A()||ZA()||eE()||tE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z_=n=>{var e,t;return(t=(e=x0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eb=n=>{const e=Z_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tb=()=>{var n;return(n=x0())===null||n===void 0?void 0:n.config},nb=n=>{var e;return(e=x0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[i0(JSON.stringify(t)),i0(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())}function iE(){var n;const e=(n=x0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lE(){const n=Ki();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uE(){return!iE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cE(){try{return typeof indexedDB=="object"}catch{return!1}}function hE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="FirebaseError";class qo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fE,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?dE(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new qo(a,h,r)}}function dE(n,e){return n.replace(pE,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const pE=/\{\$([^}]+)}/g;function mE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Uv(o)&&Uv(u)){if(!Nc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Uv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Qf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gE(n,e){const t=new vE(n,e);return t.subscribe.bind(t)}class vE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yE(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=vm),a.error===void 0&&(a.error=vm),a.complete===void 0&&(a.complete=vm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yE(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(n){return n&&n._delegate?n._delegate:n}class Iu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nE;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wE(e))try{this.getOrInitializeService({instanceIdentifier:yc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=yc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yc){return this.instances.has(e)}getOptions(e=yc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yc){return this.component?this.component.multipleInstances?e:yc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bE(n){return n===yc?void 0:n}function wE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _E(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rn||(rn={}));const EE={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},SE=rn.INFO,TE={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},NE=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=TE[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O1{constructor(e){this.name=e,this._logLevel=SE,this._logHandler=NE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...e),this._logHandler(this,rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...e),this._logHandler(this,rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...e),this._logHandler(this,rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...e),this._logHandler(this,rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...e),this._logHandler(this,rn.ERROR,...e)}}const xE=(n,e)=>e.some(t=>n instanceof t);let jv,Vv;function RE(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CE(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,Km=new WeakMap,sb=new WeakMap,ym=new WeakMap,D1=new WeakMap;function IE(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Tu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ib.set(t,n)}).catch(()=>{}),D1.set(e,n),e}function LE(n){if(Km.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Km.set(n,e)}let Wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Km.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PE(n){Wm=n(Wm)}function kE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_m(this),e,...t);return sb.set(r,e.sort?e.sort():[e]),Tu(r)}:CE().includes(n)?function(...e){return n.apply(_m(this),e),Tu(ib.get(this))}:function(...e){return Tu(n.apply(_m(this),e))}}function OE(n){return typeof n=="function"?kE(n):(n instanceof IDBTransaction&&LE(n),xE(n,RE())?new Proxy(n,Wm):n)}function Tu(n){if(n instanceof IDBRequest)return IE(n);if(ym.has(n))return ym.get(n);const e=OE(n);return e!==n&&(ym.set(n,e),D1.set(e,n)),e}const _m=n=>D1.get(n);function DE(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Tu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Tu(u.result),f.oldVersion,f.newVersion,Tu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const ME=["get","getKey","getAll","getAllKeys","count"],UE=["put","add","delete","clear"],bm=new Map;function Fv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=UE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ME.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return bm.set(e,o),o}PE(n=>({...n,get:(e,t,r)=>Fv(e,t)||n.get(e,t,r),has:(e,t)=>!!Fv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VE(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",Bv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new O1("@firebase/app"),FE="@firebase/app-compat",BE="@firebase/analytics-compat",qE="@firebase/analytics",zE="@firebase/app-check-compat",HE="@firebase/app-check",GE="@firebase/auth",KE="@firebase/auth-compat",WE="@firebase/database",$E="@firebase/data-connect",YE="@firebase/database-compat",QE="@firebase/functions",XE="@firebase/functions-compat",JE="@firebase/installations",ZE="@firebase/installations-compat",e6="@firebase/messaging",t6="@firebase/messaging-compat",n6="@firebase/performance",r6="@firebase/performance-compat",i6="@firebase/remote-config",s6="@firebase/remote-config-compat",a6="@firebase/storage",o6="@firebase/storage-compat",l6="@firebase/firestore",u6="@firebase/vertexai",c6="@firebase/firestore-compat",h6="firebase",f6="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",d6={[$m]:"fire-core",[FE]:"fire-core-compat",[qE]:"fire-analytics",[BE]:"fire-analytics-compat",[HE]:"fire-app-check",[zE]:"fire-app-check-compat",[GE]:"fire-auth",[KE]:"fire-auth-compat",[WE]:"fire-rtdb",[$E]:"fire-data-connect",[YE]:"fire-rtdb-compat",[QE]:"fire-fn",[XE]:"fire-fn-compat",[JE]:"fire-iid",[ZE]:"fire-iid-compat",[e6]:"fire-fcm",[t6]:"fire-fcm-compat",[n6]:"fire-perf",[r6]:"fire-perf-compat",[i6]:"fire-rc",[s6]:"fire-rc-compat",[a6]:"fire-gcs",[o6]:"fire-gcs-compat",[l6]:"fire-fst",[c6]:"fire-fst-compat",[u6]:"fire-vertex","fire-js":"fire-js",[h6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map,p6=new Map,Qm=new Map;function qv(n,e){try{n.container.addComponent(e)}catch(t){Pl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xc(n){const e=n.name;if(Qm.has(e))return Pl.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,n);for(const t of s0.values())qv(t,n);for(const t of p6.values())qv(t,n);return!0}function R0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nu=new bd("app","Firebase",m6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=f6;function ab(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Nu.create("bad-app-name",{appName:String(a)});if(t||(t=tb()),!t)throw Nu.create("no-options");const o=s0.get(a);if(o){if(Nc(t,o.options)&&Nc(r,o.config))return o;throw Nu.create("duplicate-app",{appName:a})}const u=new AE(a);for(const f of Qm.values())u.addComponent(f);const h=new g6(t,r,u);return s0.set(a,h),h}function M1(n=Ym){const e=s0.get(n);if(!e&&n===Ym&&tb())return ab();if(!e)throw Nu.create("no-app",{appName:n});return e}function Oo(n,e,t){var r;let a=(r=d6[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pl.warn(h.join(" "));return}xc(new Iu(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",y6=1,ld="firebase-heartbeat-store";let wm=null;function ob(){return wm||(wm=DE(v6,y6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ld)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nu.create("idb-open",{originalErrorMessage:n.message})})),wm}async function _6(n){try{const t=(await ob()).transaction(ld),r=await t.objectStore(ld).get(lb(n));return await t.done,r}catch(e){if(e instanceof qo)Pl.warn(e.message);else{const t=Nu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pl.warn(t.message)}}}async function zv(n,e){try{const r=(await ob()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,lb(n)),await r.done}catch(t){if(t instanceof qo)Pl.warn(t.message);else{const r=Nu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pl.warn(r.message)}}}function lb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=1024,w6=30;class A6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>w6){const u=T6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hv(),{heartbeatsToSend:r,unsentEntries:a}=E6(this._heartbeatsCache.heartbeats),o=i0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pl.warn(t),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function E6(n,e=b6){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Gv(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Gv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class S6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cE()?hE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Gv(n){return i0(JSON.stringify({version:2,heartbeats:n})).length}function T6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(n){xc(new Iu("platform-logger",e=>new jE(e),"PRIVATE")),xc(new Iu("heartbeat",e=>new A6(e),"PRIVATE")),Oo($m,Bv,n),Oo($m,Bv,"esm2017"),Oo("fire-js","")}N6("");function U1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x6=ub,cb=new bd("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new O1("@firebase/auth");function R6(n,...e){a0.logLevel<=rn.WARN&&a0.warn(`Auth (${Oc}): ${n}`,...e)}function Bp(n,...e){a0.logLevel<=rn.ERROR&&a0.error(`Auth (${Oc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(n,...e){throw j1(n,...e)}function Do(n,...e){return j1(n,...e)}function hb(n,e,t){const r=Object.assign(Object.assign({},x6()),{[e]:t});return new bd("auth","Firebase",r).create(e,{appName:n.name})}function Rl(n){return hb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cb.create(n,...e)}function kt(n,e,...t){if(!n)throw j1(e,...t)}function Tl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bp(e),new Error(e)}function kl(n,e){n||Tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function C6(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C6()||aE()||"connection"in navigator)?navigator.onLine:!0}function L6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,kl(t>e,"Short delay should be less than long delay!"),this.isMobile=rE()||oE()}get(){return I6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,e){kl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new Ad(3e4,6e4);function Fu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bu(n,e,t,r,a={}){return db(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=wd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},o);return sE()||(m.referrerPolicy="no-referrer"),fb.fetch()(pb(n,n.config.apiHost,t,h),m)})}async function db(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},P6),e);try{const a=new D6(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Rp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Rp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Rp(n,"user-disabled",u);const b=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw hb(n,b,m);Ya(n,b)}}catch(a){if(a instanceof qo)throw a;Ya(n,"network-request-failed",{message:String(a)})}}async function Ed(n,e,t,r,a={}){const o=await Bu(n,e,t,r,a);return"mfaPendingCredential"in o&&Ya(n,"multi-factor-auth-required",{_serverResponse:o}),o}function pb(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?V1(n.config,a):`${n.config.apiScheme}://${a}`}function O6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),k6.get())})}}function Rp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Do(n,e,r);return a.customData._tokenResponse=t,a}function Wv(n){return n!==void 0&&n.enterprise!==void 0}class M6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U6(n,e){return Bu(n,"GET","/v2/recaptchaConfig",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(n,e){return Bu(n,"POST","/v1/accounts:delete",e)}async function mb(n,e){return Bu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V6(n,e=!1){const t=Kr(n),r=await t.getIdToken(e),a=F1(r);kt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:td(Am(a.auth_time)),issuedAtTime:td(Am(a.iat)),expirationTime:td(Am(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Am(n){return Number(n)*1e3}function F1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const a=J_(t);return a?JSON.parse(a):(Bp("Failed to decode base64 JWT payload"),null)}catch(a){return Bp("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function $v(n){const e=F1(n);return kt(e,"internal-error"),kt(typeof e.exp<"u","internal-error"),kt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qo&&F6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function F6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(n){var e;const t=n.auth,r=await n.getIdToken(),a=await ud(n,mb(t,{idToken:r}));kt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gb(o.providerUserInfo):[],h=z6(n.providerData,u),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),b=f?m:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(n,A)}async function q6(n){const e=Kr(n);await o0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z6(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function gb(n){return n.map(e=>{var{providerId:t}=e,r=U1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,e){const t=await db(n,{},async()=>{const r=wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=pb(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",fb.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function G6(n,e){return Bu(n,"POST","/v2/accounts:revokeToken",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kt(e.idToken,"internal-error"),kt(typeof e.idToken<"u","internal-error"),kt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){kt(e.length!==0,"internal-error");const t=$v(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await H6(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ph;return r&&(kt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(kt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(kt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ph,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n,e){kt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nl{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=U1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ud(this,this.stsTokenManager.getToken(this.auth,e));return kt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return V6(this,e)}reload(){return q6(this)}_assign(e){this!==e&&(kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await o0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zs(this.auth.app))return Promise.reject(Rl(this.auth));const e=await this.getIdToken();return await ud(this,j6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,f,m,b;const A=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,k=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:Z,emailVerified:he,isAnonymous:de,providerData:De,stsTokenManager:H}=t;kt(Z&&H,e,"internal-error");const C=Ph.fromJSON(this.name,H);kt(typeof Z=="string",e,"internal-error"),mu(A,e.name),mu(T,e.name),kt(typeof he=="boolean",e,"internal-error"),kt(typeof de=="boolean",e,"internal-error"),mu(w,e.name),mu(P,e.name),mu(D,e.name),mu(V,e.name),mu(k,e.name),mu(z,e.name);const O=new Nl({uid:Z,auth:e,email:T,emailVerified:he,displayName:A,isAnonymous:de,photoURL:P,phoneNumber:w,tenantId:D,stsTokenManager:C,createdAt:k,lastLoginAt:z});return De&&Array.isArray(De)&&(O.providerData=De.map(W=>Object.assign({},W))),V&&(O._redirectEventId=V),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ph;a.updateFromServerResponse(t);const o=new Nl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await o0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];kt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?gb(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Ph;h.updateFromIdToken(r);const f=new Nl({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Jm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function xl(n){kl(n instanceof Function,"Expected a class definition");let e=Yv.get(n);return e?(kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vb.type="NONE";const Qv=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e,t){return`firebase:${n}:${e}:${t}`}class kh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=qp(this.userKey,a.apiKey,o),this.fullPersistenceKey=qp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kh(xl(Qv),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||xl(Qv);const u=qp(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const b=await m._get(u);if(b){const A=Nl._fromJSON(e,b);m!==o&&(h=A),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new kh(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new kh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(Sb(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||bb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yb(n=Ki()){return/firefox\//i.test(n)}function _b(n=Ki()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bb(n=Ki()){return/crios\//i.test(n)}function wb(n=Ki()){return/iemobile/i.test(n)}function Ab(n=Ki()){return/android/i.test(n)}function Eb(n=Ki()){return/blackberry/i.test(n)}function Sb(n=Ki()){return/webos/i.test(n)}function B1(n=Ki()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function K6(n=Ki()){var e;return B1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W6(){return lE()&&document.documentMode===10}function Tb(n=Ki()){return B1(n)||Ab(n)||Sb(n)||Eb(n)||/windows phone/i.test(n)||wb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,e=[]){let t;switch(n){case"Browser":t=Xv(Ki());break;case"Worker":t=`${Xv(Ki())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(n,e={}){return Bu(n,"GET","/v2/passwordPolicy",Fu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=6;class X6{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Q6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new $6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xl(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await kh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mb(this,{idToken:e}),r=await Nl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await o0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zs(this.app))return Promise.reject(Rl(this));const t=e?Kr(e):null;return t&&kt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&kt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zs(this.app)?Promise.reject(Rl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zs(this.app)?Promise.reject(Rl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),t=new X6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xl(e)||this._popupRedirectResolver;kt(t,this,"argument-error"),this.redirectPersistenceManager=await kh.create(this,[xl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&R6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dc(n){return Kr(n)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=gE(t=>this.observer=t)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z6(n){C0=n}function xb(n){return C0.loadJS(n)}function eS(){return C0.recaptchaEnterpriseScript}function tS(){return C0.gapiScript}function nS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rS{constructor(){this.enterprise=new iS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sS="recaptcha-enterprise",Rb="NO_RECAPTCHA";class aS{constructor(e){this.type=sS,this.auth=Dc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{U6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new M6(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;Wv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(Rb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rS().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&Wv(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=eS();f.length!==0&&(f+=h),xb(f).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Zv(n,e,t,r=!1,a=!1){const o=new aS(n);let u;if(a)u=Rb;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Zm(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Zv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Zv(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n,e){const t=R0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Nc(o,e??{}))return a;Ya(a,"already-initialized")}return t.initialize({options:e})}function lS(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(xl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uS(n,e,t){const r=Dc(n);kt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=Cb(e),{host:u,port:h}=cS(e),f=h===null?"":`:${h}`,m={url:`${o}//${u}${f}/`},b=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){kt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),kt(Nc(m,r.config.emulator)&&Nc(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,hS()}function Cb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cS(n){const e=Cb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:ey(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:ey(u)}}}function ey(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tl("not implemented")}_getIdTokenResponse(e){return Tl("not implemented")}_linkToIdToken(e,t){return Tl("not implemented")}_getReauthenticationResolver(e){return Tl("not implemented")}}async function fS(n,e){return Bu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e){return Ed(n,"POST","/v1/accounts:signInWithPassword",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n,e){return Ed(n,"POST","/v1/accounts:signInWithEmailLink",Fu(n,e))}async function mS(n,e){return Ed(n,"POST","/v1/accounts:signInWithEmailLink",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends q1{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new cd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,t,"signInWithPassword",dS);case"emailLink":return pS(e,{email:this._email,oobCode:this._password});default:Ya(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,r,"signUpPassword",fS);case"emailLink":return mS(e,{idToken:t,email:this._email,oobCode:this._password});default:Ya(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(n,e){return Ed(n,"POST","/v1/accounts:signInWithIdp",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="http://localhost";class Rc extends q1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ya("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=U1(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Rc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Oh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oh(e,t)}buildRequest(){const e={requestUri:gS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yS(n){const e=Yf(Qf(n)).link,t=e?Yf(Qf(e)).deep_link_id:null,r=Yf(Qf(n)).deep_link_id;return(r?Yf(Qf(r)).link:null)||r||t||e||n}class z1{constructor(e){var t,r,a,o,u,h;const f=Yf(Qf(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,b=(r=f.oobCode)!==null&&r!==void 0?r:null,A=vS((a=f.mode)!==null&&a!==void 0?a:null);kt(m&&b&&A,"argument-error"),this.apiKey=m,this.operation=A,this.code=b,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=yS(e);try{return new z1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.providerId=$h.PROVIDER_ID}static credential(e,t){return cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=z1.parseLink(t);return kt(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}$h.PROVIDER_ID="password";$h.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$h.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Sd{constructor(){super("facebook.com")}static credential(e){return Rc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}}yu.FACEBOOK_SIGN_IN_METHOD="facebook.com";yu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rc._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _u.credential(t,r)}catch{return null}}}_u.GOOGLE_SIGN_IN_METHOD="google.com";_u.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Sd{constructor(){super("github.com")}static credential(e){return Rc._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}}bu.GITHUB_SIGN_IN_METHOD="github.com";bu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Sd{constructor(){super("twitter.com")}static credential(e,t){return Rc._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return wu.credential(t,r)}catch{return null}}}wu.TWITTER_SIGN_IN_METHOD="twitter.com";wu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,e){return Ed(n,"POST","/v1/accounts:signUp",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Nl._fromIdTokenResponse(e,r,a),u=ty(r);return new Cc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=ty(r);return new Cc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function ty(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends qo{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,l0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new l0(e,t,r,a)}}function Lb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?l0._fromErrorAndOperation(n,o,e,r):o})}async function bS(n,e,t=!1){const r=await ud(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(n,e,t=!1){const{auth:r}=n;if(zs(r.app))return Promise.reject(Rl(r));const a="reauthenticate";try{const o=await ud(n,Lb(r,a,e,n),t);kt(o.idToken,r,"internal-error");const u=F1(o.idToken);kt(u,r,"internal-error");const{sub:h}=u;return kt(n.uid===h,r,"user-mismatch"),Cc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ya(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(n,e,t=!1){if(zs(n.app))return Promise.reject(Rl(n));const r="signIn",a=await Lb(n,r,e),o=await Cc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function AS(n,e){return Pb(Dc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(n){const e=Dc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ES(n,e,t){if(zs(n.app))return Promise.reject(Rl(n));const r=Dc(n),u=await Zm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_S).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&kb(n),f}),h=await Cc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function SS(n,e,t){return zs(n.app)?Promise.reject(Rl(n)):AS(Kr(n),$h.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kb(n),r})}function TS(n,e,t,r){return Kr(n).onIdTokenChanged(e,t,r)}function NS(n,e,t){return Kr(n).beforeAuthStateChanged(e,t)}function Ob(n,e,t,r){return Kr(n).onAuthStateChanged(e,t,r)}const u0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(u0,"1"),this.storage.removeItem(u0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=1e3,RS=10;class Mb extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);W6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RS):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const CS=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ub.type="SESSION";const jb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new I0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await IS(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}I0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=H1("",20);a.port1.start();const b=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(A){const T=A;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(b),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(){return window}function PS(n){Mo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof Mo().WorkerGlobalScope<"u"&&typeof Mo().importScripts=="function"}async function kS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OS(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DS(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",MS=1,c0="firebaseLocalStorage",Bb="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function L0(n,e){return n.transaction([c0],e?"readwrite":"readonly").objectStore(c0)}function US(){const n=indexedDB.deleteDatabase(Fb);return new Td(n).toPromise()}function e1(){const n=indexedDB.open(Fb,MS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(c0,{keyPath:Bb})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(c0)?e(r):(r.close(),await US(),e(await e1()))})})}async function ny(n,e,t){const r=L0(n,!0).put({[Bb]:e,value:t});return new Td(r).toPromise()}async function jS(n,e){const t=L0(n,!1).get(e),r=await new Td(t).toPromise();return r===void 0?null:r.value}function ry(n,e){const t=L0(n,!0).delete(e);return new Td(t).toPromise()}const VS=800,FS=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>FS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=I0._getInstance(DS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kS(),!this.activeServiceWorker)return;this.sender=new LS(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e1();return await ny(e,u0,"1"),await ry(e,u0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ny(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>jS(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ry(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=L0(a,!1).getAll();return new Td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const BS=qb;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n,e){return e?xl(e):(kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends q1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zS(n){return Pb(n.auth,new G1(n),n.bypassAuthState)}function HS(n){const{auth:e,user:t}=n;return kt(t,e,"internal-error"),wS(t,new G1(n),n.bypassAuthState)}async function GS(n){const{auth:e,user:t}=n;return kt(t,e,"internal-error"),bS(t,new G1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zS;case"linkViaPopup":case"linkViaRedirect":return GS;case"reauthViaPopup":case"reauthViaRedirect":return HS;default:Ya(this.auth,"internal-error")}}resolve(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Ad(2e3,1e4);class Ch extends zb{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ch.currentPopupAction&&Ch.currentPopupAction.cancel(),Ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kt(e,this.auth,"internal-error"),e}async onExecution(){kl(this.filter.length===1,"Popup operations only handle one event");const e=H1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Do(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Do(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Do(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KS.get())};e()}}Ch.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="pendingRedirect",zp=new Map;class $S extends zb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zp.get(this.auth._key());if(!e){try{const r=await YS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zp.set(this.auth._key(),e)}return this.bypassAuthState||zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YS(n,e){const t=JS(e),r=XS(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function QS(n,e){zp.set(n._key(),e)}function XS(n){return xl(n._redirectPersistence)}function JS(n){return qp(WS,n.config.apiKey,n.name)}async function ZS(n,e,t=!1){if(zs(n.app))return Promise.reject(Rl(n));const r=Dc(n),a=qS(r,e),u=await new $S(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=10*60*1e3;class tT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Hb(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Do(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eT&&this.cachedEventUids.clear(),this.cachedEventUids.has(iy(e))}saveEventToCache(e){this.cachedEventUids.add(iy(e)),this.lastProcessedEventTime=Date.now()}}function iy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(n,e={}){return Bu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sT=/^https?/;async function aT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rT(n);for(const t of e)try{if(oT(t))return}catch{}Ya(n,"unauthorized-domain")}function oT(n){const e=Xm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!sT.test(t))return!1;if(iT.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Ad(3e4,6e4);function sy(){const n=Mo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uT(n){return new Promise((e,t)=>{var r,a,o;function u(){sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sy(),t(Do(n,"network-request-failed"))},timeout:lT.get()})}if(!((a=(r=Mo().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Mo().gapi)===null||o===void 0)&&o.load)u();else{const h=nS("iframefcb");return Mo()[h]=()=>{gapi.load?u():t(Do(n,"network-request-failed"))},xb(`${tS()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Hp=null,e})}let Hp=null;function cT(n){return Hp=Hp||uT(n),Hp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Ad(5e3,15e3),fT="__/auth/iframe",dT="emulator/auth/iframe",pT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gT(n){const e=n.config;kt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?V1(e,dT):`https://${n.config.authDomain}/${fT}`,r={apiKey:e.apiKey,appName:n.name,v:Oc},a=mT.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wd(r).slice(1)}`}async function vT(n){const e=await cT(n),t=Mo().gapi;return kt(t,n,"internal-error"),e.open({where:document.body,url:gT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pT,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Do(n,"network-request-failed"),h=Mo().setTimeout(()=>{o(u)},hT.get());function f(){Mo().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_T=500,bT=600,wT="_blank",AT="http://localhost";class ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ET(n,e,t,r=_T,a=bT){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},yT),{width:r.toString(),height:a.toString(),top:o,left:u}),m=Ki().toLowerCase();t&&(h=bb(m)?wT:t),yb(m)&&(e=e||AT,f.scrollbars="yes");const b=Object.entries(f).reduce((T,[w,P])=>`${T}${w}=${P},`,"");if(K6(m)&&h!=="_self")return ST(e||"",h),new ay(null);const A=window.open(e||"",h,b);kt(A,n,"popup-blocked");try{A.focus()}catch{}return new ay(A)}function ST(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__/auth/handler",NT="emulator/auth/handler",xT=encodeURIComponent("fac");async function oy(n,e,t,r,a,o){kt(n.config.authDomain,n,"auth-domain-config-required"),kt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oc,eventId:a};if(e instanceof Ib){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",mE(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))u[b]=A}if(e instanceof Sd){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(u.scopes=b.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const f=await n._getAppCheckToken(),m=f?`#${xT}=${encodeURIComponent(f)}`:"";return`${RT(n)}?${wd(h).slice(1)}${m}`}function RT({config:n}){return n.emulator?V1(n,NT):`https://${n.authDomain}/${TT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class CT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=ZS,this._overrideRedirectResult=QS}async _openPopup(e,t,r,a){var o;kl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await oy(e,t,r,Xm(),a);return ET(e,u,H1())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await oy(e,t,r,Xm(),a);return PS(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(kl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await vT(e),r=new tT(e);return t.register("authEvent",a=>(kt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Em,{type:Em},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Em];u!==void 0&&t(!!u),Ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tb()||_b()||B1()}}const IT=CT;var ly="@firebase/auth",uy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kT(n){xc(new Iu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;kt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(n)},m=new J6(r,a,o,f);return lS(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xc(new Iu("auth-internal",e=>{const t=Dc(e.getProvider("auth").getImmediate());return(r=>new LT(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oo(ly,uy,PT(n)),Oo(ly,uy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=5*60,DT=nb("authIdTokenMaxAge")||OT;let cy=null;const MT=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DT)return;const a=t==null?void 0:t.token;cy!==a&&(cy=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UT(n=M1()){const e=R0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oS(n,{popupRedirectResolver:IT,persistence:[BS,CS,jb]}),r=nb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=MT(o.toString());NS(t,u,()=>u(t.currentUser)),TS(t,h=>u(h))}}const a=Z_("auth");return a&&uS(t,`http://${a}`),t}function jT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Z6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Do("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",jT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kT("Browser");var VT="firebase",FT="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo(VT,FT,"app");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xu,Gb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,C){function O(){}O.prototype=C.prototype,H.D=C.prototype,H.prototype=new O,H.prototype.constructor=H,H.C=function(W,R,L){for(var U=Array(arguments.length-2),se=2;se<arguments.length;se++)U[se-2]=arguments[se];return C.prototype[R].apply(W,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(H,C,O){O||(O=0);var W=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)W[R]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(R=0;16>R;++R)W[R]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=H.g[0],O=H.g[1],R=H.g[2];var L=H.g[3],U=C+(L^O&(R^L))+W[0]+3614090360&4294967295;C=O+(U<<7&4294967295|U>>>25),U=L+(R^C&(O^R))+W[1]+3905402710&4294967295,L=C+(U<<12&4294967295|U>>>20),U=R+(O^L&(C^O))+W[2]+606105819&4294967295,R=L+(U<<17&4294967295|U>>>15),U=O+(C^R&(L^C))+W[3]+3250441966&4294967295,O=R+(U<<22&4294967295|U>>>10),U=C+(L^O&(R^L))+W[4]+4118548399&4294967295,C=O+(U<<7&4294967295|U>>>25),U=L+(R^C&(O^R))+W[5]+1200080426&4294967295,L=C+(U<<12&4294967295|U>>>20),U=R+(O^L&(C^O))+W[6]+2821735955&4294967295,R=L+(U<<17&4294967295|U>>>15),U=O+(C^R&(L^C))+W[7]+4249261313&4294967295,O=R+(U<<22&4294967295|U>>>10),U=C+(L^O&(R^L))+W[8]+1770035416&4294967295,C=O+(U<<7&4294967295|U>>>25),U=L+(R^C&(O^R))+W[9]+2336552879&4294967295,L=C+(U<<12&4294967295|U>>>20),U=R+(O^L&(C^O))+W[10]+4294925233&4294967295,R=L+(U<<17&4294967295|U>>>15),U=O+(C^R&(L^C))+W[11]+2304563134&4294967295,O=R+(U<<22&4294967295|U>>>10),U=C+(L^O&(R^L))+W[12]+1804603682&4294967295,C=O+(U<<7&4294967295|U>>>25),U=L+(R^C&(O^R))+W[13]+4254626195&4294967295,L=C+(U<<12&4294967295|U>>>20),U=R+(O^L&(C^O))+W[14]+2792965006&4294967295,R=L+(U<<17&4294967295|U>>>15),U=O+(C^R&(L^C))+W[15]+1236535329&4294967295,O=R+(U<<22&4294967295|U>>>10),U=C+(R^L&(O^R))+W[1]+4129170786&4294967295,C=O+(U<<5&4294967295|U>>>27),U=L+(O^R&(C^O))+W[6]+3225465664&4294967295,L=C+(U<<9&4294967295|U>>>23),U=R+(C^O&(L^C))+W[11]+643717713&4294967295,R=L+(U<<14&4294967295|U>>>18),U=O+(L^C&(R^L))+W[0]+3921069994&4294967295,O=R+(U<<20&4294967295|U>>>12),U=C+(R^L&(O^R))+W[5]+3593408605&4294967295,C=O+(U<<5&4294967295|U>>>27),U=L+(O^R&(C^O))+W[10]+38016083&4294967295,L=C+(U<<9&4294967295|U>>>23),U=R+(C^O&(L^C))+W[15]+3634488961&4294967295,R=L+(U<<14&4294967295|U>>>18),U=O+(L^C&(R^L))+W[4]+3889429448&4294967295,O=R+(U<<20&4294967295|U>>>12),U=C+(R^L&(O^R))+W[9]+568446438&4294967295,C=O+(U<<5&4294967295|U>>>27),U=L+(O^R&(C^O))+W[14]+3275163606&4294967295,L=C+(U<<9&4294967295|U>>>23),U=R+(C^O&(L^C))+W[3]+4107603335&4294967295,R=L+(U<<14&4294967295|U>>>18),U=O+(L^C&(R^L))+W[8]+1163531501&4294967295,O=R+(U<<20&4294967295|U>>>12),U=C+(R^L&(O^R))+W[13]+2850285829&4294967295,C=O+(U<<5&4294967295|U>>>27),U=L+(O^R&(C^O))+W[2]+4243563512&4294967295,L=C+(U<<9&4294967295|U>>>23),U=R+(C^O&(L^C))+W[7]+1735328473&4294967295,R=L+(U<<14&4294967295|U>>>18),U=O+(L^C&(R^L))+W[12]+2368359562&4294967295,O=R+(U<<20&4294967295|U>>>12),U=C+(O^R^L)+W[5]+4294588738&4294967295,C=O+(U<<4&4294967295|U>>>28),U=L+(C^O^R)+W[8]+2272392833&4294967295,L=C+(U<<11&4294967295|U>>>21),U=R+(L^C^O)+W[11]+1839030562&4294967295,R=L+(U<<16&4294967295|U>>>16),U=O+(R^L^C)+W[14]+4259657740&4294967295,O=R+(U<<23&4294967295|U>>>9),U=C+(O^R^L)+W[1]+2763975236&4294967295,C=O+(U<<4&4294967295|U>>>28),U=L+(C^O^R)+W[4]+1272893353&4294967295,L=C+(U<<11&4294967295|U>>>21),U=R+(L^C^O)+W[7]+4139469664&4294967295,R=L+(U<<16&4294967295|U>>>16),U=O+(R^L^C)+W[10]+3200236656&4294967295,O=R+(U<<23&4294967295|U>>>9),U=C+(O^R^L)+W[13]+681279174&4294967295,C=O+(U<<4&4294967295|U>>>28),U=L+(C^O^R)+W[0]+3936430074&4294967295,L=C+(U<<11&4294967295|U>>>21),U=R+(L^C^O)+W[3]+3572445317&4294967295,R=L+(U<<16&4294967295|U>>>16),U=O+(R^L^C)+W[6]+76029189&4294967295,O=R+(U<<23&4294967295|U>>>9),U=C+(O^R^L)+W[9]+3654602809&4294967295,C=O+(U<<4&4294967295|U>>>28),U=L+(C^O^R)+W[12]+3873151461&4294967295,L=C+(U<<11&4294967295|U>>>21),U=R+(L^C^O)+W[15]+530742520&4294967295,R=L+(U<<16&4294967295|U>>>16),U=O+(R^L^C)+W[2]+3299628645&4294967295,O=R+(U<<23&4294967295|U>>>9),U=C+(R^(O|~L))+W[0]+4096336452&4294967295,C=O+(U<<6&4294967295|U>>>26),U=L+(O^(C|~R))+W[7]+1126891415&4294967295,L=C+(U<<10&4294967295|U>>>22),U=R+(C^(L|~O))+W[14]+2878612391&4294967295,R=L+(U<<15&4294967295|U>>>17),U=O+(L^(R|~C))+W[5]+4237533241&4294967295,O=R+(U<<21&4294967295|U>>>11),U=C+(R^(O|~L))+W[12]+1700485571&4294967295,C=O+(U<<6&4294967295|U>>>26),U=L+(O^(C|~R))+W[3]+2399980690&4294967295,L=C+(U<<10&4294967295|U>>>22),U=R+(C^(L|~O))+W[10]+4293915773&4294967295,R=L+(U<<15&4294967295|U>>>17),U=O+(L^(R|~C))+W[1]+2240044497&4294967295,O=R+(U<<21&4294967295|U>>>11),U=C+(R^(O|~L))+W[8]+1873313359&4294967295,C=O+(U<<6&4294967295|U>>>26),U=L+(O^(C|~R))+W[15]+4264355552&4294967295,L=C+(U<<10&4294967295|U>>>22),U=R+(C^(L|~O))+W[6]+2734768916&4294967295,R=L+(U<<15&4294967295|U>>>17),U=O+(L^(R|~C))+W[13]+1309151649&4294967295,O=R+(U<<21&4294967295|U>>>11),U=C+(R^(O|~L))+W[4]+4149444226&4294967295,C=O+(U<<6&4294967295|U>>>26),U=L+(O^(C|~R))+W[11]+3174756917&4294967295,L=C+(U<<10&4294967295|U>>>22),U=R+(C^(L|~O))+W[2]+718787259&4294967295,R=L+(U<<15&4294967295|U>>>17),U=O+(L^(R|~C))+W[9]+3951481745&4294967295,H.g[0]=H.g[0]+C&4294967295,H.g[1]=H.g[1]+(R+(U<<21&4294967295|U>>>11))&4294967295,H.g[2]=H.g[2]+R&4294967295,H.g[3]=H.g[3]+L&4294967295}r.prototype.u=function(H,C){C===void 0&&(C=H.length);for(var O=C-this.blockSize,W=this.B,R=this.h,L=0;L<C;){if(R==0)for(;L<=O;)a(this,H,L),L+=this.blockSize;if(typeof H=="string"){for(;L<C;)if(W[R++]=H.charCodeAt(L++),R==this.blockSize){a(this,W),R=0;break}}else for(;L<C;)if(W[R++]=H[L++],R==this.blockSize){a(this,W),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var C=1;C<H.length-8;++C)H[C]=0;var O=8*this.o;for(C=H.length-8;C<H.length;++C)H[C]=O&255,O/=256;for(this.u(H),H=Array(16),C=O=0;4>C;++C)for(var W=0;32>W;W+=8)H[O++]=this.g[C]>>>W&255;return H};function o(H,C){var O=h;return Object.prototype.hasOwnProperty.call(O,H)?O[H]:O[H]=C(H)}function u(H,C){this.h=C;for(var O=[],W=!0,R=H.length-1;0<=R;R--){var L=H[R]|0;W&&L==C||(O[R]=L,W=!1)}this.g=O}var h={};function f(H){return-128<=H&&128>H?o(H,function(C){return new u([C|0],0>C?-1:0)}):new u([H|0],0>H?-1:0)}function m(H){if(isNaN(H)||!isFinite(H))return A;if(0>H)return V(m(-H));for(var C=[],O=1,W=0;H>=O;W++)C[W]=H/O|0,O*=4294967296;return new u(C,0)}function b(H,C){if(H.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(H.charAt(0)=="-")return V(b(H.substring(1),C));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(C,8)),W=A,R=0;R<H.length;R+=8){var L=Math.min(8,H.length-R),U=parseInt(H.substring(R,R+L),C);8>L?(L=m(Math.pow(C,L)),W=W.j(L).add(m(U))):(W=W.j(O),W=W.add(m(U)))}return W}var A=f(0),T=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-V(this).m();for(var H=0,C=1,O=0;O<this.g.length;O++){var W=this.i(O);H+=(0<=W?W:4294967296+W)*C,C*=4294967296}return H},n.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(P(this))return"0";if(D(this))return"-"+V(this).toString(H);for(var C=m(Math.pow(H,6)),O=this,W="";;){var R=he(O,C).g;O=k(O,R.j(C));var L=((0<O.g.length?O.g[0]:O.h)>>>0).toString(H);if(O=R,P(O))return L+W;for(;6>L.length;)L="0"+L;W=L+W}},n.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function P(H){if(H.h!=0)return!1;for(var C=0;C<H.g.length;C++)if(H.g[C]!=0)return!1;return!0}function D(H){return H.h==-1}n.l=function(H){return H=k(this,H),D(H)?-1:P(H)?0:1};function V(H){for(var C=H.g.length,O=[],W=0;W<C;W++)O[W]=~H.g[W];return new u(O,~H.h).add(T)}n.abs=function(){return D(this)?V(this):this},n.add=function(H){for(var C=Math.max(this.g.length,H.g.length),O=[],W=0,R=0;R<=C;R++){var L=W+(this.i(R)&65535)+(H.i(R)&65535),U=(L>>>16)+(this.i(R)>>>16)+(H.i(R)>>>16);W=U>>>16,L&=65535,U&=65535,O[R]=U<<16|L}return new u(O,O[O.length-1]&-2147483648?-1:0)};function k(H,C){return H.add(V(C))}n.j=function(H){if(P(this)||P(H))return A;if(D(this))return D(H)?V(this).j(V(H)):V(V(this).j(H));if(D(H))return V(this.j(V(H)));if(0>this.l(w)&&0>H.l(w))return m(this.m()*H.m());for(var C=this.g.length+H.g.length,O=[],W=0;W<2*C;W++)O[W]=0;for(W=0;W<this.g.length;W++)for(var R=0;R<H.g.length;R++){var L=this.i(W)>>>16,U=this.i(W)&65535,se=H.i(R)>>>16,ke=H.i(R)&65535;O[2*W+2*R]+=U*ke,z(O,2*W+2*R),O[2*W+2*R+1]+=L*ke,z(O,2*W+2*R+1),O[2*W+2*R+1]+=U*se,z(O,2*W+2*R+1),O[2*W+2*R+2]+=L*se,z(O,2*W+2*R+2)}for(W=0;W<C;W++)O[W]=O[2*W+1]<<16|O[2*W];for(W=C;W<2*C;W++)O[W]=0;return new u(O,0)};function z(H,C){for(;(H[C]&65535)!=H[C];)H[C+1]+=H[C]>>>16,H[C]&=65535,C++}function Z(H,C){this.g=H,this.h=C}function he(H,C){if(P(C))throw Error("division by zero");if(P(H))return new Z(A,A);if(D(H))return C=he(V(H),C),new Z(V(C.g),V(C.h));if(D(C))return C=he(H,V(C)),new Z(V(C.g),C.h);if(30<H.g.length){if(D(H)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var O=T,W=C;0>=W.l(H);)O=de(O),W=de(W);var R=De(O,1),L=De(W,1);for(W=De(W,2),O=De(O,2);!P(W);){var U=L.add(W);0>=U.l(H)&&(R=R.add(O),L=U),W=De(W,1),O=De(O,1)}return C=k(H,R.j(C)),new Z(R,C)}for(R=A;0<=H.l(C);){for(O=Math.max(1,Math.floor(H.m()/C.m())),W=Math.ceil(Math.log(O)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),L=m(O),U=L.j(C);D(U)||0<U.l(H);)O-=W,L=m(O),U=L.j(C);P(L)&&(L=T),R=R.add(L),H=k(H,U)}return new Z(R,H)}n.A=function(H){return he(this,H).h},n.and=function(H){for(var C=Math.max(this.g.length,H.g.length),O=[],W=0;W<C;W++)O[W]=this.i(W)&H.i(W);return new u(O,this.h&H.h)},n.or=function(H){for(var C=Math.max(this.g.length,H.g.length),O=[],W=0;W<C;W++)O[W]=this.i(W)|H.i(W);return new u(O,this.h|H.h)},n.xor=function(H){for(var C=Math.max(this.g.length,H.g.length),O=[],W=0;W<C;W++)O[W]=this.i(W)^H.i(W);return new u(O,this.h^H.h)};function de(H){for(var C=H.g.length+1,O=[],W=0;W<C;W++)O[W]=H.i(W)<<1|H.i(W-1)>>>31;return new u(O,H.h)}function De(H,C){var O=C>>5;C%=32;for(var W=H.g.length-O,R=[],L=0;L<W;L++)R[L]=0<C?H.i(L+O)>>>C|H.i(L+O+1)<<32-C:H.i(L+O);return new u(R,H.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=b,xu=u}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kb,Xf,Wb,Gp,t1,$b,Yb,Qb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,x){return p==Array.prototype||p==Object.prototype||(p[S]=x.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var S=0;S<p.length;++S){var x=p[S];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function a(p,S){if(S)e:{var x=r;p=p.split(".");for(var G=0;G<p.length-1;G++){var ge=p[G];if(!(ge in x))break e;x=x[ge]}p=p[p.length-1],G=x[p],S=S(G),S!=G&&S!=null&&e(x,p,{configurable:!0,writable:!0,value:S})}}function o(p,S){p instanceof String&&(p+="");var x=0,G=!1,ge={next:function(){if(!G&&x<p.length){var Ie=x++;return{value:S(Ie,p[Ie]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}a("Array.prototype.values",function(p){return p||function(){return o(this,function(S,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function m(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function b(p,S,x){return p.call.apply(p.bind,arguments)}function A(p,S,x){if(!p)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,G),p.apply(S,ge)}}return function(){return p.apply(S,arguments)}}function T(p,S,x){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,T.apply(null,arguments)}function w(p,S){var x=Array.prototype.slice.call(arguments,1);return function(){var G=x.slice();return G.push.apply(G,arguments),p.apply(this,G)}}function P(p,S){function x(){}x.prototype=S.prototype,p.aa=S.prototype,p.prototype=new x,p.prototype.constructor=p,p.Qb=function(G,ge,Ie){for(var Xe=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Xe[Rt-2]=arguments[Rt];return S.prototype[ge].apply(G,Xe)}}function D(p){const S=p.length;if(0<S){const x=Array(S);for(let G=0;G<S;G++)x[G]=p[G];return x}return[]}function V(p,S){for(let x=1;x<arguments.length;x++){const G=arguments[x];if(f(G)){const ge=p.length||0,Ie=G.length||0;p.length=ge+Ie;for(let Xe=0;Xe<Ie;Xe++)p[ge+Xe]=G[Xe]}else p.push(G)}}class k{constructor(S,x){this.i=S,this.j=x,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function z(p){return/^[\s\xa0]*$/.test(p)}function Z(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function he(p){return he[" "](p),p}he[" "]=function(){};var de=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function De(p,S,x){for(const G in p)S.call(x,p[G],G,p)}function H(p,S){for(const x in p)S.call(void 0,p[x],x,p)}function C(p){const S={};for(const x in p)S[x]=p[x];return S}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(p,S){let x,G;for(let ge=1;ge<arguments.length;ge++){G=arguments[ge];for(x in G)p[x]=G[x];for(let Ie=0;Ie<O.length;Ie++)x=O[Ie],Object.prototype.hasOwnProperty.call(G,x)&&(p[x]=G[x])}}function R(p){var S=1;p=p.split(":");const x=[];for(;0<S&&p.length;)x.push(p.shift()),S--;return p.length&&x.push(p.join(":")),x}function L(p){h.setTimeout(()=>{throw p},0)}function U(){var p=Le;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class se{constructor(){this.h=this.g=null}add(S,x){const G=ke.get();G.set(S,x),this.h?this.h.next=G:this.g=G,this.h=G}}var ke=new k(()=>new le,p=>p.reset());class le{constructor(){this.next=this.g=this.h=null}set(S,x){this.h=S,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ce=!1,Le=new se,X=()=>{const p=h.Promise.resolve(void 0);Ae=()=>{p.then(Te)}};var Te=()=>{for(var p;p=U();){try{p.h.call(p.g)}catch(x){L(x)}var S=ke;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}ce=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const x=()=>{};h.addEventListener("test",x,S),h.removeEventListener("test",x,S)}catch{}return p}();function ie(p,S){if(Y.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var x=this.type=p.type,G=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(de){e:{try{he(S.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(S=null)}}else x=="mouseover"?S=p.fromElement:x=="mouseout"&&(S=p.toElement);this.relatedTarget=S,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ie.aa.h.call(this)}}P(ie,Y);var ae={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ne(p,S,x,G,ge){this.listener=p,this.proxy=null,this.src=S,this.type=x,this.capture=!!G,this.ha=ge,this.key=++we,this.da=this.fa=!1}function He(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p){this.src=p,this.g={},this.h=0}Ye.prototype.add=function(p,S,x,G,ge){var Ie=p.toString();p=this.g[Ie],p||(p=this.g[Ie]=[],this.h++);var Xe=tt(p,S,G,ge);return-1<Xe?(S=p[Xe],x||(S.fa=!1)):(S=new Ne(S,this.src,Ie,!!G,ge),S.fa=x,p.push(S)),S};function it(p,S){var x=S.type;if(x in p.g){var G=p.g[x],ge=Array.prototype.indexOf.call(G,S,void 0),Ie;(Ie=0<=ge)&&Array.prototype.splice.call(G,ge,1),Ie&&(He(S),p.g[x].length==0&&(delete p.g[x],p.h--))}}function tt(p,S,x,G){for(var ge=0;ge<p.length;++ge){var Ie=p[ge];if(!Ie.da&&Ie.listener==S&&Ie.capture==!!x&&Ie.ha==G)return ge}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),je={};function ne(p,S,x,G,ge){if(Array.isArray(S)){for(var Ie=0;Ie<S.length;Ie++)ne(p,S[Ie],x,G,ge);return null}return x=Dt(x),p&&p[Ee]?p.K(S,x,m(G)?!!G.capture:!1,ge):Lt(p,S,x,!1,G,ge)}function Lt(p,S,x,G,ge,Ie){if(!S)throw Error("Invalid event type");var Xe=m(ge)?!!ge.capture:!!ge,Rt=gt(p);if(Rt||(p[_t]=Rt=new Ye(p)),x=Rt.add(S,x,G,Xe,Ie),x.proxy)return x;if(G=ft(),x.proxy=G,G.src=p,G.listener=x,p.addEventListener)J||(ge=Xe),ge===void 0&&(ge=!1),p.addEventListener(S.toString(),G,ge);else if(p.attachEvent)p.attachEvent(at(S.toString()),G);else if(p.addListener&&p.removeListener)p.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ft(){function p(x){return S.call(p.src,p.listener,x)}const S=ot;return p}function Ze(p,S,x,G,ge){if(Array.isArray(S))for(var Ie=0;Ie<S.length;Ie++)Ze(p,S[Ie],x,G,ge);else G=m(G)?!!G.capture:!!G,x=Dt(x),p&&p[Ee]?(p=p.i,S=String(S).toString(),S in p.g&&(Ie=p.g[S],x=tt(Ie,x,G,ge),-1<x&&(He(Ie[x]),Array.prototype.splice.call(Ie,x,1),Ie.length==0&&(delete p.g[S],p.h--)))):p&&(p=gt(p))&&(S=p.g[S.toString()],p=-1,S&&(p=tt(S,x,G,ge)),(x=-1<p?S[p]:null)&&nt(x))}function nt(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[Ee])it(S.i,p);else{var x=p.type,G=p.proxy;S.removeEventListener?S.removeEventListener(x,G,p.capture):S.detachEvent?S.detachEvent(at(x),G):S.addListener&&S.removeListener&&S.removeListener(G),(x=gt(S))?(it(x,p),x.h==0&&(x.src=null,S[_t]=null)):He(p)}}}function at(p){return p in je?je[p]:je[p]="on"+p}function ot(p,S){if(p.da)p=!0;else{S=new ie(S,this);var x=p.listener,G=p.ha||p.src;p.fa&&nt(p),p=x.call(G,S)}return p}function gt(p){return p=p[_t],p instanceof Ye?p:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(p){return typeof p=="function"?p:(p[vt]||(p[vt]=function(S){return p.handleEvent(S)}),p[vt])}function bt(){F.call(this),this.i=new Ye(this),this.M=this,this.F=null}P(bt,F),bt.prototype[Ee]=!0,bt.prototype.removeEventListener=function(p,S,x,G){Ze(this,p,S,x,G)};function Nt(p,S){var x,G=p.F;if(G)for(x=[];G;G=G.F)x.push(G);if(p=p.M,G=S.type||S,typeof S=="string")S=new Y(S,p);else if(S instanceof Y)S.target=S.target||p;else{var ge=S;S=new Y(G,p),W(S,ge)}if(ge=!0,x)for(var Ie=x.length-1;0<=Ie;Ie--){var Xe=S.g=x[Ie];ge=Yt(Xe,G,!0,S)&&ge}if(Xe=S.g=p,ge=Yt(Xe,G,!0,S)&&ge,ge=Yt(Xe,G,!1,S)&&ge,x)for(Ie=0;Ie<x.length;Ie++)Xe=S.g=x[Ie],ge=Yt(Xe,G,!1,S)&&ge}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var x=p.g[S],G=0;G<x.length;G++)He(x[G]);delete p.g[S],p.h--}}this.F=null},bt.prototype.K=function(p,S,x,G){return this.i.add(String(p),S,!1,x,G)},bt.prototype.L=function(p,S,x,G){return this.i.add(String(p),S,!0,x,G)};function Yt(p,S,x,G){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var ge=!0,Ie=0;Ie<S.length;++Ie){var Xe=S[Ie];if(Xe&&!Xe.da&&Xe.capture==x){var Rt=Xe.listener,Xt=Xe.ha||Xe.src;Xe.fa&&it(p.i,Xe),ge=Rt.call(Xt,G)!==!1&&ge}}return ge&&!G.defaultPrevented}function xt(p,S,x){if(typeof p=="function")x&&(p=T(p,x));else if(p&&typeof p.handleEvent=="function")p=T(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:h.setTimeout(p,S||0)}function qt(p){p.g=xt(()=>{p.g=null,p.i&&(p.i=!1,qt(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class lt extends F{constructor(S,x){super(),this.m=S,this.l=x,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(p){F.call(this),this.h=p,this.g={}}P(Yn,F);var zt=[];function Cn(p){De(p.g,function(S,x){this.g.hasOwnProperty(x)&&nt(S)},p),p.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),Cn(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=h.JSON.stringify,an=h.JSON.parse,jn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function en(){}en.prototype.h=null;function Ws(p){return p.h||(p.h=p.i())}function On(){}var hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wr(){Y.call(this,"d")}P(Wr,Y);function hn(){Y.call(this,"c")}P(hn,Y);var wt={},Kt=null;function ss(){return Kt=Kt||new bt}wt.La="serverreachability";function nr(p){Y.call(this,wt.La,p)}P(nr,Y);function Or(p){const S=ss();Nt(S,new nr(S))}wt.STAT_EVENT="statevent";function ui(p,S){Y.call(this,wt.STAT_EVENT,p),this.stat=S}P(ui,Y);function ct(p){const S=ss();Nt(S,new ui(S,p))}wt.Ma="timingevent";function Si(p,S){Y.call(this,wt.Ma,p),this.size=S}P(Si,Y);function Dr(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},S)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function Qn(p,S,x,G,ge,Ie){p.info(function(){if(p.g)if(Ie)for(var Xe="",Rt=Ie.split("&"),Xt=0;Xt<Rt.length;Xt++){var Mt=Rt[Xt].split("=");if(1<Mt.length){var yn=Mt[0];Mt=Mt[1];var En=yn.split("_");Xe=2<=En.length&&En[1]=="type"?Xe+(yn+"="+Mt+"&"):Xe+(yn+"=redacted&")}}else Xe=null;else Xe=Ie;return"XMLHTTP REQ ("+G+") [attempt "+ge+"]: "+S+`
`+x+`
`+Xe})}function qn(p,S,x,G,ge,Ie,Xe){p.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ge+"]: "+S+`
`+x+`
`+Ie+" "+Xe})}function fr(p,S,x,G){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+In(p,x)+(G?" "+G:"")})}function ci(p,S){p.info(function(){return"TIMEOUT: "+S})}rr.prototype.info=function(){};function In(p,S){if(!p.g)return S;if(!S)return null;try{var x=JSON.parse(S);if(x){for(p=0;p<x.length;p++)if(Array.isArray(x[p])){var G=x[p];if(!(2>G.length)){var ge=G[1];if(Array.isArray(ge)&&!(1>ge.length)){var Ie=ge[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var Xe=1;Xe<ge.length;Xe++)ge[Xe]=""}}}}return mn(x)}catch{return S}}var wn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function hi(){}P(hi,en),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},Mr=new hi;function ir(p,S,x,G){this.j=p,this.i=S,this.l=x,this.R=G||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Ni={},as={};function $r(p,S,x){p.L=1,p.v=Ys(Ln(S)),p.m=x,p.P=!0,xi(p,null)}function xi(p,S){p.F=Date.now(),Dn(p),p.A=Ln(p.v);var x=p.A,G=p.R;Array.isArray(G)||(G=[String(G)]),Et(x.i,"t",G),p.C=0,x=p.j.J,p.h=new Ti,p.g=j(p.j,x?S:null,!p.m),0<p.O&&(p.M=new lt(T(p.Y,p,p.g),p.O)),S=p.U,x=p.g,G=p.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(zt[0]=ge.toString()),ge=zt);for(var Ie=0;Ie<ge.length;Ie++){var Xe=ne(x,ge[Ie],G||S.handleEvent,!1,S.h||S);if(!Xe)break;S.g[Xe.key]=Xe}S=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),Or(),Qn(p.i,p.u,p.A,p.l,p.R,p.m)}ir.prototype.ca=function(p){p=p.target;const S=this.M;S&&pr(p)==3?S.j():this.Y(p)},ir.prototype.Y=function(p){try{if(p==this.g)e:{const En=pr(this.g);var S=this.g.Ba();const hs=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||En!=4||S==7||(S==8||0>=hs?Or(3):Or(2)),Es(this);var x=this.g.Z();this.X=x;t:if(Wi(this)){var G=Ul(this.g);p="";var ge=G.length,Ie=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Yr(this);var Xe="";break t}this.h.i=new h.TextDecoder}for(S=0;S<ge;S++)this.h.h=!0,p+=this.h.i.decode(G[S],{stream:!(Ie&&S==ge-1)});G.length=0,this.h.g+=p,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=x==200,qn(this.i,this.u,this.A,this.l,this.R,En,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Xt=this.g;if((Rt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Rt)){var Mt=Rt;break t}}Mt=null}if(x=Mt)fr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,x);else{this.o=!1,this.s=3,ct(12),Qr(this),Yr(this);break e}}if(this.P){x=!0;let sr;for(;!this.J&&this.C<Xe.length;)if(sr=As(this,Xe),sr==as){En==4&&(this.s=4,ct(14),x=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Ni){this.s=4,ct(15),fr(this.i,this.l,Xe,"[Invalid Chunk]"),x=!1;break}else fr(this.i,this.l,sr,null),Ur(this,sr);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Xe.length!=0||this.h.h||(this.s=1,ct(16),x=!1),this.o=this.o&&x,!x)fr(this.i,this.l,Xe,"[Invalid Chunked Response]"),Qr(this),Yr(this);else if(0<Xe.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),ra(yn),yn.M=!0,ct(11))}}else fr(this.i,this.l,Xe,null),Ur(this,Xe);En==4&&Qr(this),this.o&&!this.J&&(En==4?ia(this.j,this):(this.o=!1,Dn(this)))}else ea(this.g),x==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Qr(this),Yr(this)}}}catch{}finally{}};function Wi(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function As(p,S){var x=p.C,G=S.indexOf(`
`,x);return G==-1?as:(x=Number(S.substring(x,G)),isNaN(x)?Ni:(G+=1,G+x>S.length?as:(S=S.slice(G,G+x),p.C=G+x,S)))}ir.prototype.cancel=function(){this.J=!0,Qr(this)};function Dn(p){p.S=Date.now()+p.I,Ho(p,p.I)}function Ho(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Dr(T(p.ba,p),S)}function Es(p){p.B&&(h.clearTimeout(p.B),p.B=null)}ir.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ci(this.i,this.A),this.L!=2&&(Or(),ct(17)),Qr(this),this.s=2,Yr(this)):Ho(this,this.S-p)};function Yr(p){p.j.G==0||p.J||ia(p.j,p)}function Qr(p){Es(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Cn(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function Ur(p,S){try{var x=p.j;if(x.G!=0&&(x.g==p||$s(x.h,p))){if(!p.K&&$s(x.h,p)&&x.G==3){try{var G=x.Da.g.parse(S)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ge=G;if(ge[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<p.F)Cs(x),ao(x);else break e;Ta(x),ct(18)}}else x.za=ge[1],0<x.za-x.T&&37500>ge[2]&&x.F&&x.v==0&&!x.C&&(x.C=Dr(T(x.Za,x),6e3));if(1>=ga(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ei(x,11)}else if((p.K||x.g==p)&&Cs(x),!z(S))for(ge=x.Da.g.parse(S),S=0;S<ge.length;S++){let Mt=ge[S];if(x.T=Mt[0],Mt=Mt[1],x.G==2)if(Mt[0]=="c"){x.K=Mt[1],x.ia=Mt[2];const yn=Mt[3];yn!=null&&(x.la=yn,x.j.info("VER="+x.la));const En=Mt[4];En!=null&&(x.Aa=En,x.j.info("SVER="+x.Aa));const hs=Mt[5];hs!=null&&typeof hs=="number"&&0<hs&&(G=1.5*hs,x.L=G,x.j.info("backChannelRequestTimeoutMs_="+G)),G=x;const sr=p.g;if(sr){const Ii=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var Ie=G.h;Ie.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(An(Ie,Ie.h),Ie.h=null))}if(G.D){const sa=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(G.ya=sa,tn(G.I,G.D,sa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-p.F,x.j.info("Handshake RTT: "+x.R+"ms")),G=x;var Xe=p;if(G.qa=_(G,G.J?G.ia:null,G.W),Xe.K){fi(G.h,Xe);var Rt=Xe,Xt=G.L;Xt&&(Rt.I=Xt),Rt.B&&(Es(Rt),Dn(Rt)),G.g=Xe}else lo(G);0<x.i.length&&oo(x)}else Mt[0]!="stop"&&Mt[0]!="close"||ei(x,7);else x.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?ei(x,7):Rs(x):Mt[0]!="noop"&&x.l&&x.l.ta(Mt),x.v=0)}}Or(4)}catch{}}var zu=class{constructor(p,S){this.g=p,this.map=S}};function no(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ga(p){return p.h?1:p.g?p.g.size:0}function $s(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function An(p,S){p.g?p.g.add(S):p.h=S}function fi(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}no.prototype.cancel=function(){if(this.i=Cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Cr(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const x of p.g.values())S=S.concat(x.D);return S}return D(p.i)}function Ko(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var S=[],x=p.length,G=0;G<x;G++)S.push(p[G]);return S}S=[],x=0;for(G in p)S[x++]=p[G];return S}function Wo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var S=[];p=p.length;for(var x=0;x<p;x++)S.push(x);return S}S=[],x=0;for(const G in p)S[x++]=G;return S}}}function va(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var x=Wo(p),G=Ko(p),ge=G.length,Ie=0;Ie<ge;Ie++)S.call(void 0,G[Ie],x&&x[Ie],p)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ss(p,S){if(p){p=p.split("&");for(var x=0;x<p.length;x++){var G=p[x].indexOf("="),ge=null;if(0<=G){var Ie=p[x].substring(0,G);ge=p[x].substring(G+1)}else Ie=p[x];S(Ie,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Xn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Xn){this.h=p.h,Ts(this,p.j),this.o=p.o,this.g=p.g,ya(this,p.s),this.l=p.l;var S=p.i,x=new Yi;x.i=S.i,S.g&&(x.g=new Map(S.g),x.h=S.h),_a(this,x),this.m=p.m}else p&&(S=String(p).match(di))?(this.h=!1,Ts(this,S[1]||"",!0),this.o=Qs(S[2]||""),this.g=Qs(S[3]||"",!0),ya(this,S[4]),this.l=Qs(S[5]||"",!0),_a(this,S[6]||"",!0),this.m=Qs(S[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}Xn.prototype.toString=function(){var p=[],S=this.j;S&&p.push(Xr(S,$o,!0),":");var x=this.g;return(x||S=="file")&&(p.push("//"),(S=this.o)&&p.push(Xr(S,$o,!0),"@"),p.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&p.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&p.push("/"),p.push(Xr(x,x.charAt(0)=="/"?$i:Ml,!0))),(x=this.i.toString())&&p.push("?",x),(x=this.m)&&p.push("#",Xr(x,io)),p.join("")};function Ln(p){return new Xn(p)}function Ts(p,S,x){p.j=x?Qs(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function ya(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function _a(p,S,x){S instanceof Yi?(p.i=S,Yo(p.i,p.h)):(x||(S=Xr(S,ro)),p.i=new Yi(S,p.h))}function tn(p,S,x){p.i.set(S,x)}function Ys(p){return tn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Qs(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Xr(p,S,x){return typeof p=="string"?(p=encodeURI(p).replace(S,Hu),x&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Hu(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var $o=/[#\/\?@]/g,Ml=/[#\?:]/g,$i=/[#\?]/g,ro=/[#\?@]/g,io=/#/g;function Yi(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Tn(p){p.g||(p.g=new Map,p.h=0,p.i&&Ss(p.i,function(S,x){p.add(decodeURIComponent(S.replace(/\+/g," ")),x)}))}n=Yi.prototype,n.add=function(p,S){Tn(this),this.i=null,p=Ns(this,p);var x=this.g.get(p);return x||this.g.set(p,x=[]),x.push(S),this.h+=1,this};function so(p,S){Tn(p),S=Ns(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function os(p,S){return Tn(p),S=Ns(p,S),p.g.has(S)}n.forEach=function(p,S){Tn(this),this.g.forEach(function(x,G){x.forEach(function(ge){p.call(S,ge,G,this)},this)},this)},n.na=function(){Tn(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),x=[];for(let G=0;G<S.length;G++){const ge=p[G];for(let Ie=0;Ie<ge.length;Ie++)x.push(S[G])}return x},n.V=function(p){Tn(this);let S=[];if(typeof p=="string")os(this,p)&&(S=S.concat(this.g.get(Ns(this,p))));else{p=Array.from(this.g.values());for(let x=0;x<p.length;x++)S=S.concat(p[x])}return S},n.set=function(p,S){return Tn(this),this.i=null,p=Ns(this,p),os(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function Et(p,S,x){so(p,S),0<x.length&&(p.i=null,p.g.set(Ns(p,S),D(x)),p.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var x=0;x<S.length;x++){var G=S[x];const Ie=encodeURIComponent(String(G)),Xe=this.V(G);for(G=0;G<Xe.length;G++){var ge=Ie;Xe[G]!==""&&(ge+="="+encodeURIComponent(String(Xe[G]))),p.push(ge)}}return this.i=p.join("&")};function Ns(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Yo(p,S){S&&!p.j&&(Tn(p),p.i=null,p.g.forEach(function(x,G){var ge=G.toLowerCase();G!=ge&&(so(this,G),Et(this,ge,x))},p)),p.j=S}function Qi(p,S){const x=new rr;if(h.Image){const G=new Image;G.onload=w(pi,x,"TestLoadImage: loaded",!0,S,G),G.onerror=w(pi,x,"TestLoadImage: error",!1,S,G),G.onabort=w(pi,x,"TestLoadImage: abort",!1,S,G),G.ontimeout=w(pi,x,"TestLoadImage: timeout",!1,S,G),h.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=p}else S(!1)}function Xs(p,S){const x=new rr,G=new AbortController,ge=setTimeout(()=>{G.abort(),pi(x,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:G.signal}).then(Ie=>{clearTimeout(ge),Ie.ok?pi(x,"TestPingServer: ok",!0,S):pi(x,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ge),pi(x,"TestPingServer: error",!1,S)})}function pi(p,S,x,G,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),G(x)}catch{}}function ls(){this.g=new jn}function Ri(p,S,x){const G=x||"";try{va(p,function(ge,Ie){let Xe=ge;m(ge)&&(Xe=mn(ge)),S.push(G+Ie+"="+encodeURIComponent(Xe))})}catch(ge){throw S.push(G+"type="+encodeURIComponent("_badmap")),ge}}function Js(p){this.l=p.Ub||null,this.j=p.eb||!1}P(Js,en),Js.prototype.g=function(){return new xs(this.l,this.j)},Js.prototype.i=function(p){return function(){return p}}({});function xs(p,S){bt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(xs,bt),n=xs.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,Jr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||h).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?Ci(this):Jr(this),this.readyState==3&&Qo(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ci(this))},n.Qa=function(p){this.g&&(this.response=p,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Jr(p)}n.setRequestHeader=function(p,S){this.u.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var x=S.next();!x.done;)x=x.value,p.push(x[0]+": "+x[1]),x=S.next();return p.join(`\r
`)};function Jr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function us(p){let S="";return De(p,function(x,G){S+=G,S+=":",S+=x,S+=`\r
`}),S}function dr(p,S,x){e:{for(G in x){var G=!1;break e}G=!0}G||(x=us(x),typeof p=="string"?x!=null&&encodeURIComponent(String(x)):tn(p,S,x))}function Qt(p){bt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Qt,bt);var Zs=/^https?$/i,cs=["POST","PUT"];n=Qt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,S,x,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?Ws(this.o):Ws(Mr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(Ie){Xo(this,Ie);return}if(p=x||"",x=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ge in G)x.set(ge,G[ge]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ie of G.keys())x.set(Ie,G.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(x.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),ge=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(cs,S,void 0))||G||ge||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Xe]of x)this.g.setRequestHeader(Ie,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(p),this.u=!1}catch(Ie){Xo(this,Ie)}};function Xo(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,ba(p),Xi(p)}function ba(p){p.A||(p.A=!0,Nt(p,"complete"),Nt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Nt(this,"complete"),Nt(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(p){if(p.h&&typeof u<"u"&&(!p.v[1]||pr(p)!=4||p.Z()!=2)){if(p.u&&pr(p)==4)xt(p.Ea,0,p);else if(Nt(p,"readystatechange"),pr(p)==4){p.h=!1;try{const Xe=p.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var x;if(!(x=S)){var G;if(G=Xe===0){var ge=String(p.D).match(di)[1]||null;!ge&&h.self&&h.self.location&&(ge=h.self.location.protocol.slice(0,-1)),G=!Zs.test(ge?ge.toLowerCase():"")}x=G}if(x)Nt(p,"complete"),Nt(p,"success");else{p.m=6;try{var Ie=2<pr(p)?p.g.statusText:""}catch{Ie=""}p.l=Ie+" ["+p.Z()+"]",ba(p)}}finally{Xi(p)}}}}function Xi(p,S){if(p.g){Zr(p);const x=p.g,G=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||Nt(p,"ready");try{x.onreadystatechange=G}catch{}}}function Zr(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function pr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),an(S)}};function Ul(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(p){const S={};p=(p.g&&2<=pr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<p.length;G++){if(z(p[G]))continue;var x=R(p[G]);const ge=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Ie=S[ge]||[];S[ge]=Ie,Ie.push(x)}H(S,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(p,S,x){return x&&x.internalChannelParams&&x.internalChannelParams[p]||S}function ta(p){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,p),this.cb=jr("retryDelaySeedMs",1e4,p),this.Wa=jr("forwardChannelMaxRetries",2,p),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new no(p&&p.concurrentRequestLimit),this.Da=new ls,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ta.prototype,n.la=8,n.G=1,n.connect=function(p,S,x,G){ct(0),this.W=p,this.H=S||{},x&&G!==void 0&&(this.H.OSID=x,this.H.OAID=G),this.F=this.X,this.I=_(this,null,this.W),oo(this)};function Rs(p){if(Aa(p),p.G==3){var S=p.U++,x=Ln(p.I);if(tn(x,"SID",p.K),tn(x,"RID",S),tn(x,"TYPE","terminate"),na(p,x),S=new ir(p,p.j,S),S.L=2,S.v=Ys(Ln(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(S.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=S.v,x=!0),x||(S.g=j(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Dn(S)}uo(p)}function ao(p){p.g&&(ra(p),p.g.cancel(),p.g=null)}function Aa(p){ao(p),p.u&&(h.clearTimeout(p.u),p.u=null),Cs(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function oo(p){if(!Go(p.h)&&!p.s){p.s=!0;var S=p.Ga;Ae||X(),ce||(Ae(),ce=!0),Le.add(S,p),p.B=0}}function Jo(p,S){return ga(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Dr(T(p.Ga,p,S),Na(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ge=new ir(this,this.j,p);let Ie=this.o;if(this.S&&(Ie?(Ie=C(Ie),W(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(ge.H=Ie,Ie=null),this.P)e:{for(var S=0,x=0;x<this.i.length;x++){t:{var G=this.i[x];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(S+=G,4096<S){S=x;break e}if(S===4096||x===this.i.length-1){S=x+1;break e}}S=1e3}else S=1e3;S=Sa(this,ge,S),x=Ln(this.I),tn(x,"RID",p),tn(x,"CVER",22),this.D&&tn(x,"X-HTTP-Session-Id",this.D),na(this,x),Ie&&(this.O?S="headers="+encodeURIComponent(String(us(Ie)))+"&"+S:this.m&&dr(x,this.m,Ie)),An(this.h,ge),this.Ua&&tn(x,"TYPE","init"),this.P?(tn(x,"$req",S),tn(x,"SID","null"),ge.T=!0,$r(ge,x,null)):$r(ge,x,S),this.G=2}}else this.G==3&&(p?Ea(this,p):this.i.length==0||Go(this.h)||Ea(this))};function Ea(p,S){var x;S?x=S.l:x=p.U++;const G=Ln(p.I);tn(G,"SID",p.K),tn(G,"RID",x),tn(G,"AID",p.T),na(p,G),p.m&&p.o&&dr(G,p.m,p.o),x=new ir(p,p.j,x,p.B+1),p.m===null&&(x.H=p.o),S&&(p.i=S.D.concat(p.i)),S=Sa(p,x,1e3),x.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),An(p.h,x),$r(x,G,S)}function na(p,S){p.H&&De(p.H,function(x,G){tn(S,G,x)}),p.l&&va({},function(x,G){tn(S,G,x)})}function Sa(p,S,x){x=Math.min(p.i.length,x);var G=p.l?T(p.l.Na,p.l,p):null;e:{var ge=p.i;let Ie=-1;for(;;){const Xe=["count="+x];Ie==-1?0<x?(Ie=ge[0].g,Xe.push("ofs="+Ie)):Ie=0:Xe.push("ofs="+Ie);let Rt=!0;for(let Xt=0;Xt<x;Xt++){let Mt=ge[Xt].g;const yn=ge[Xt].map;if(Mt-=Ie,0>Mt)Ie=Math.max(0,ge[Xt].g-100),Rt=!1;else try{Ri(yn,Xe,"req"+Mt+"_")}catch{G&&G(yn)}}if(Rt){G=Xe.join("&");break e}}}return p=p.i.splice(0,x),S.D=p,G}function lo(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;Ae||X(),ce||(Ae(),ce=!0),Le.add(S,p),p.v=0}}function Ta(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Dr(T(p.Fa,p),Na(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Dr(T(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ao(this),jl(this))};function ra(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function jl(p){p.g=new ir(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Ln(p.qa);tn(S,"RID","rpc"),tn(S,"SID",p.K),tn(S,"AID",p.T),tn(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&tn(S,"TO",p.ja),tn(S,"TYPE","xmlhttp"),na(p,S),p.m&&p.o&&dr(S,p.m,p.o),p.L&&(p.g.I=p.L);var x=p.g;p=p.ia,x.L=1,x.v=Ys(Ln(S)),x.m=null,x.P=!0,xi(x,p)}n.Za=function(){this.C!=null&&(this.C=null,ao(this),Ta(this),ct(19))};function Cs(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function ia(p,S){var x=null;if(p.g==S){Cs(p),ra(p),p.g=null;var G=2}else if($s(p.h,S))x=S.D,fi(p.h,S),G=1;else return;if(p.G!=0){if(S.o)if(G==1){x=S.m?S.m.length:0,S=Date.now()-S.F;var ge=p.B;G=ss(),Nt(G,new Si(G,x)),oo(p)}else lo(p);else if(ge=S.s,ge==3||ge==0&&0<S.X||!(G==1&&Jo(p,S)||G==2&&Ta(p)))switch(x&&0<x.length&&(S=p.h,S.i=S.i.concat(x)),ge){case 1:ei(p,5);break;case 4:ei(p,10);break;case 3:ei(p,6);break;default:ei(p,2)}}}function Na(p,S){let x=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(x*=2),x*S}function ei(p,S){if(p.j.info("Error code "+S),S==2){var x=T(p.fb,p),G=p.Xa;const ge=!G;G=new Xn(G||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(G,"https"),Ys(G),ge?Qi(G.toString(),x):Xs(G.toString(),x)}else ct(2);p.G=0,p.l&&p.l.sa(S),uo(p),Aa(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function uo(p){if(p.G=0,p.ka=[],p.l){const S=Cr(p.h);(S.length!=0||p.i.length!=0)&&(V(p.ka,S),V(p.ka,p.i),p.h.i.length=0,D(p.i),p.i.length=0),p.l.ra()}}function _(p,S,x){var G=x instanceof Xn?Ln(x):new Xn(x);if(G.g!="")S&&(G.g=S+"."+G.g),ya(G,G.s);else{var ge=h.location;G=ge.protocol,S=S?S+"."+ge.hostname:ge.hostname,ge=+ge.port;var Ie=new Xn(null);G&&Ts(Ie,G),S&&(Ie.g=S),ge&&ya(Ie,ge),x&&(Ie.l=x),G=Ie}return x=p.D,S=p.ya,x&&S&&tn(G,x,S),tn(G,"VER",p.la),na(p,G),G}function j(p,S,x){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Qt(new Js({eb:x})):new Qt(p.pa),S.Ha(p.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function te(){}n=te.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ue(){}ue.prototype.g=function(p,S){return new be(p,S)};function be(p,S){bt.call(this),this.g=new ta(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!z(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!z(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new st(this)}P(be,bt),be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){Rs(this.g)},be.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var x={};x.__data__=p,p=x}else this.u&&(x={},x.__data__=mn(p),p=x);S.i.push(new zu(S.Ya++,p)),S.G==3&&oo(S)},be.prototype.N=function(){this.g.l=null,delete this.j,Rs(this.g),delete this.g,be.aa.N.call(this)};function Ve(p){Wr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const x in S){p=x;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}P(Ve,Wr);function Qe(){hn.call(this),this.status=1}P(Qe,hn);function st(p){this.g=p}P(st,te),st.prototype.ua=function(){Nt(this.g,"a")},st.prototype.ta=function(p){Nt(this.g,new Ve(p))},st.prototype.sa=function(p){Nt(this.g,new Qe)},st.prototype.ra=function(){Nt(this.g,"b")},ue.prototype.createWebChannel=ue.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,Qb=function(){return new ue},Yb=function(){return ss()},$b=wt,t1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,Gp=wn,br.COMPLETE="complete",Wb=br,On.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Xf=On,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,Kb=Qt}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",dy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new O1("@firebase/firestore");function wh(){return Ic.logLevel}function ht(n,...e){if(Ic.logLevel<=rn.DEBUG){const t=e.map(K1);Ic.debug(`Firestore (${Yh}): ${n}`,...t)}}function Ol(n,...e){if(Ic.logLevel<=rn.ERROR){const t=e.map(K1);Ic.error(`Firestore (${Yh}): ${n}`,...t)}}function Fh(n,...e){if(Ic.logLevel<=rn.WARN){const t=e.map(K1);Ic.warn(`Firestore (${Yh}): ${n}`,...t)}}function K1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n="Unexpected state"){const e=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: `+n;throw Ol(e),new Error(e)}function Sn(n,e){n||Ot()}function Bt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends qo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class qT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zT{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sn(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ru;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ru,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ru)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sn(typeof r.accessToken=="string"),new Xb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sn(e===null||typeof e=="string"),new zi(e)}}class HT{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GT{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new HT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Sn(this.o===void 0);const r=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new py(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn(typeof t.token=="string"),this.R=t.token,new py(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WT(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function cn(n,e){return n<e?-1:n>e?1:0}function Bh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-62135596800,gy=1e6;class Hr{static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gy);return new Hr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<my)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gy}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-my;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Hr(0,0))}static max(){return new jt(new Hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class Lo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ot(),r===void 0?r=e.length-t:r>e.length-t&&Ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Lo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Lo.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Lo.isNumericId(e),a=Lo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Lo.extractNumericId(e).compare(Lo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xu.fromString(e.substring(4,e.length-2))}}class Kn extends Lo{construct(e,t,r){return new Kn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const $T=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Lo{construct(e,t,r){return new Ai(e,t,r)}static isValidIdentifier(e){return $T.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new Ai([vy])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new dt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new dt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new dt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new dt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Kn.fromString(e))}static fromName(e){return new Tt(Kn.fromString(e).popFirst(5))}static empty(){return new Tt(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Kn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=-1;function YT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=jt.fromTimestamp(r===1e9?new Hr(t+1,0):new Hr(t,r));return new Lu(a,Tt.empty(),e)}function QT(n){return new Lu(n.readTime,n.key,hd)}class Lu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Lu(jt.min(),Tt.empty(),hd)}static max(){return new Lu(jt.max(),Tt.empty(),hd)}}function XT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Tt.comparator(n.documentKey,e.documentKey),t!==0?t:cn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(n){if(n.code!==$e.FAILED_PRECONDITION||n.message!==JT)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,r)=>{t(e)})}static reject(e){return new We((t,r)=>{r(e)})}static waitFor(e){return new We((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=We.resolve(!1);for(const r of e)t=t.next(a=>a?We.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new We((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next(b=>{u[m]=b,++h,h===o&&r(u)},b=>a(b))}})}static doWhile(e,t){return new We((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function eN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}P0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=-1;function k0(n){return n==null}function h0(n){return n===0&&1/n==-1/0}function tN(n){return typeof n=="number"&&Number.isInteger(n)&&!h0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function nN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yy(e)),e=rN(n.get(t),e);return yy(e)}function rN(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Zb:t+="";break;default:t+=o}}return t}function yy(n){return n+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ew(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t){this.comparator=e,this.root=t||wi.EMPTY}insert(e,t){return new ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ip(this.root,e,this.comparator,!0)}}class Ip{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??wi.RED,this.left=a??wi.EMPTY,this.right=o??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new wi(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return wi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,t,r,a,o){return this}insert(e,t,r){return new wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(e){return new by(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gr(this.comparator);return t.data=e,t}}class by{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Wa([])}unionWith(e){let t=new Gr(Ai.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tw("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pu(n){if(Sn(!!n),typeof n=="string"){let e=0;const t=iN.exec(n);if(Sn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ku(n){return typeof n=="string"?Ei.fromBase64String(n):Ei.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="server_timestamp",rw="__type__",iw="__previous_value__",sw="__local_write_time__";function $1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rw])===null||t===void 0?void 0:t.stringValue)===nw}function O0(n){const e=n.mapValue.fields[iw];return $1(e)?O0(e):e}function fd(n){const e=Pu(n.mapValue.fields[sw].timestampValue);return new Hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r,a,o,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const f0="(default)";class dd{constructor(e,t){this.projectId=e,this.database=t||f0}static empty(){return new dd("","")}get isDefaultDatabase(){return this.database===f0}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__type__",aN="__max__",Lp={mapValue:{}},ow="__vector__",d0="value";function Ou(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$1(n)?4:lN(n)?9007199254740991:oN(n)?10:11:Ot()}function Bo(n,e){if(n===e)return!0;const t=Ou(n);if(t!==Ou(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fd(n).isEqual(fd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Pu(a.timestampValue),h=Pu(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return ku(a.bytesValue).isEqual(ku(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return Tr(a.geoPointValue.latitude)===Tr(o.geoPointValue.latitude)&&Tr(a.geoPointValue.longitude)===Tr(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Tr(a.integerValue)===Tr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Tr(a.doubleValue),h=Tr(o.doubleValue);return u===h?h0(u)===h0(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Bh(n.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(_y(u)!==_y(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Bo(u[f],h[f])))return!1;return!0}(n,e);default:return Ot()}}function pd(n,e){return(n.values||[]).find(t=>Bo(t,e))!==void 0}function qh(n,e){if(n===e)return 0;const t=Ou(n),r=Ou(e);if(t!==r)return cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Tr(o.integerValue||o.doubleValue),f=Tr(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return wy(n.timestampValue,e.timestampValue);case 4:return wy(fd(n),fd(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(o,u){const h=ku(o),f=ku(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const b=cn(h[m],f[m]);if(b!==0)return b}return cn(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=cn(Tr(o.latitude),Tr(u.latitude));return h!==0?h:cn(Tr(o.longitude),Tr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ay(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,m,b;const A=o.fields||{},T=u.fields||{},w=(h=A[d0])===null||h===void 0?void 0:h.arrayValue,P=(f=T[d0])===null||f===void 0?void 0:f.arrayValue,D=cn(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((b=P==null?void 0:P.values)===null||b===void 0?void 0:b.length)||0);return D!==0?D:Ay(w,P)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Lp.mapValue&&u===Lp.mapValue)return 0;if(o===Lp.mapValue)return 1;if(u===Lp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let A=0;A<f.length&&A<b.length;++A){const T=cn(f[A],b[A]);if(T!==0)return T;const w=qh(h[f[A]],m[b[A]]);if(w!==0)return w}return cn(f.length,b.length)}(n.mapValue,e.mapValue);default:throw Ot()}}function wy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return cn(n,e);const t=Pu(n),r=Pu(e),a=cn(t.seconds,r.seconds);return a!==0?a:cn(t.nanos,r.nanos)}function Ay(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=qh(t[a],r[a]);if(o)return o}return cn(t.length,r.length)}function zh(n){return n1(n)}function n1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Pu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ku(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Tt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=n1(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${n1(t.fields[u])}`;return a+"}"}(n.mapValue):Ot()}function Kp(n){switch(Ou(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=O0(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Kp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Mc(r.fields,(o,u)=>{a+=o.length+Kp(u)}),a}(n.mapValue);default:throw Ot()}}function Ey(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function r1(n){return!!n&&"integerValue"in n}function Y1(n){return!!n&&"arrayValue"in n}function Sy(n){return!!n&&"nullValue"in n}function Ty(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wp(n){return!!n&&"mapValue"in n}function oN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aw])===null||t===void 0?void 0:t.stringValue)===ow}function nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.value=e}static empty(){return new ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=Ai.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=nd(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Wp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Mc(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new ma(nd(this.value))}}function lw(n){const e=[];return Mc(n.fields,(t,r)=>{const a=new Ai([t]);if(Wp(r)){const o=lw(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Wa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Hi(e,0,jt.min(),jt.min(),jt.min(),ma.empty(),0)}static newFoundDocument(e,t,r,a){return new Hi(e,1,t,jt.min(),r,a,0)}static newNoDocument(e,t){return new Hi(e,2,t,jt.min(),jt.min(),ma.empty(),0)}static newUnknownDocument(e,t){return new Hi(e,3,t,jt.min(),jt.min(),ma.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.position=e,this.inclusive=t}}function Ny(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Tt.comparator(Tt.fromName(u.referenceValue),t.key):r=qh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function uN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{}class kr extends uw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hN(e,t,r):t==="array-contains"?new pN(e,r):t==="in"?new mN(e,r):t==="not-in"?new gN(e,r):t==="array-contains-any"?new vN(e,r):new kr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fN(e,r):new dN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qh(t,this.value)):t!==null&&Ou(this.value)===Ou(t)&&this.matchesComparison(qh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qa extends uw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Qa(e,t)}matches(e){return cw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cw(n){return n.op==="and"}function hw(n){return cN(n)&&cw(n)}function cN(n){for(const e of n.filters)if(e instanceof Qa)return!1;return!0}function i1(n){if(n instanceof kr)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(hw(n))return n.filters.map(e=>i1(e)).join(",");{const e=n.filters.map(t=>i1(t)).join(",");return`${n.op}(${e})`}}function fw(n,e){return n instanceof kr?function(r,a){return a instanceof kr&&r.op===a.op&&r.field.isEqual(a.field)&&Bo(r.value,a.value)}(n,e):n instanceof Qa?function(r,a){return a instanceof Qa&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&fw(u,a.filters[h]),!0):!1}(n,e):void Ot()}function dw(n){return n instanceof kr?function(t){return`${t.field.canonicalString()} ${t.op} ${zh(t.value)}`}(n):n instanceof Qa?function(t){return t.op.toString()+" {"+t.getFilters().map(dw).join(" ,")+"}"}(n):"Filter"}class hN extends kr{constructor(e,t,r){super(e,t,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class fN extends kr{constructor(e,t){super(e,"in",t),this.keys=pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dN extends kr{constructor(e,t){super(e,"not-in",t),this.keys=pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Tt.fromName(r.referenceValue))}class pN extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y1(t)&&pd(t.arrayValue,this.value)}}class mN extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pd(this.value.arrayValue,t)}}class gN extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pd(this.value.arrayValue,t)}}class vN extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function Ry(n,e=null,t=[],r=[],a=null,o=null,u=null){return new yN(n,e,t,r,a,o,u)}function Q1(n){const e=Bt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>i1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),k0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),e.le=t}return e.le}function X1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xy(n.startAt,e.startAt)&&xy(n.endAt,e.endAt)}function s1(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _N(n,e,t,r,a,o,u,h){return new Jh(n,e,t,r,a,o,u,h)}function D0(n){return new Jh(n)}function Cy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mw(n){return n.collectionGroup!==null}function rd(n){const e=Bt(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Gr(Ai.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new md(o,r))}),t.has(Ai.keyField().canonicalString())||e.he.push(new md(Ai.keyField(),r))}return e.he}function Uo(n){const e=Bt(n);return e.Pe||(e.Pe=bN(e,rd(n))),e.Pe}function bN(n,e){if(n.limitType==="F")return Ry(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new md(a.field,o)});const t=n.endAt?new p0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new p0(n.startAt.position,n.startAt.inclusive):null;return Ry(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function a1(n,e){const t=n.filters.concat([e]);return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function o1(n,e,t){return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function M0(n,e){return X1(Uo(n),Uo(e))&&n.limitType===e.limitType}function gw(n){return`${Q1(Uo(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>dw(a)).join(", ")}]`),k0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>zh(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>zh(a)).join(",")),`Target(${r})`}(Uo(n))}; limitType=${n.limitType})`}function U0(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Tt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of rd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const m=Ny(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,rd(r),a)||r.endAt&&!function(u,h,f){const m=Ny(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,rd(r),a))}(n,e)}function wN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vw(n){return(e,t)=>{let r=!1;for(const a of rd(n)){const o=AN(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function AN(n,e,t){const r=n.field.isKeyField()?Tt.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?qh(f,m):Ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mc(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ur(Tt.comparator);function Dl(){return EN}const yw=new ur(Tt.comparator);function Jf(...n){let e=yw;for(const t of n)e=e.insert(t.key,t);return e}function _w(n){let e=yw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ac(){return id()}function bw(){return id()}function id(){return new Uc(n=>n.toString(),(n,e)=>n.isEqual(e))}const SN=new ur(Tt.comparator),TN=new Gr(Tt.comparator);function sn(...n){let e=TN;for(const t of n)e=e.add(t);return e}const NN=new Gr(cn);function xN(){return NN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h0(e)?"-0":e}}function ww(n){return{integerValue:""+n}}function RN(n,e){return tN(e)?ww(e):J1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this._=void 0}}function CN(n,e,t){return n instanceof m0?function(a,o){const u={fields:{[rw]:{stringValue:nw},[sw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&$1(o)&&(o=O0(o)),o&&(u.fields[iw]=o),{mapValue:u}}(t,e):n instanceof gd?Ew(n,e):n instanceof vd?Sw(n,e):function(a,o){const u=Aw(a,o),h=Iy(u)+Iy(a.Ie);return r1(u)&&r1(a.Ie)?ww(h):J1(a.serializer,h)}(n,e)}function IN(n,e,t){return n instanceof gd?Ew(n,e):n instanceof vd?Sw(n,e):t}function Aw(n,e){return n instanceof g0?function(r){return r1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class m0 extends j0{}class gd extends j0{constructor(e){super(),this.elements=e}}function Ew(n,e){const t=Tw(e);for(const r of n.elements)t.some(a=>Bo(a,r))||t.push(r);return{arrayValue:{values:t}}}class vd extends j0{constructor(e){super(),this.elements=e}}function Sw(n,e){let t=Tw(e);for(const r of n.elements)t=t.filter(a=>!Bo(a,r));return{arrayValue:{values:t}}}class g0 extends j0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Iy(n){return Tr(n.integerValue||n.doubleValue)}function Tw(n){return Y1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function LN(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof gd&&a instanceof gd||r instanceof vd&&a instanceof vd?Bh(r.elements,a.elements,Bo):r instanceof g0&&a instanceof g0?Bo(r.Ie,a.Ie):r instanceof m0&&a instanceof m0}(n.transform,e.transform)}class PN{constructor(e,t){this.version=e,this.transformResults=t}}class $a{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $a}static exists(e){return new $a(void 0,e)}static updateTime(e){return new $a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class V0{}function Nw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Z1(n.key,$a.none()):new Nd(n.key,n.data,$a.none());{const t=n.data,r=ma.empty();let a=new Gr(Ai.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new jc(n.key,r,new Wa(a.toArray()),$a.none())}}function kN(n,e,t){n instanceof Nd?function(a,o,u){const h=a.value.clone(),f=Py(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof jc?function(a,o,u){if(!$p(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Py(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(xw(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function sd(n,e,t,r){return n instanceof Nd?function(o,u,h,f){if(!$p(o.precondition,u))return h;const m=o.value.clone(),b=ky(o.fieldTransforms,f,u);return m.setAll(b),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof jc?function(o,u,h,f){if(!$p(o.precondition,u))return h;const m=ky(o.fieldTransforms,f,u),b=u.data;return b.setAll(xw(o)),b.setAll(m),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):function(o,u,h){return $p(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function ON(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=Aw(r.transform,a||null);o!=null&&(t===null&&(t=ma.empty()),t.set(r.field,o))}return t||null}function Ly(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bh(r,a,(o,u)=>LN(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nd extends V0{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jc extends V0{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Py(n,e,t){const r=new Map;Sn(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,IN(u,h,t[a]))}return r}function ky(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,CN(o,u,e))}return r}class Z1 extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&kN(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bw();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=Nw(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(t,r)=>Ly(t,r))&&Bh(this.baseMutations,e.baseMutations,(t,r)=>Ly(t,r))}}class eg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Sn(e.mutations.length===r.length);let a=function(){return SN}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new eg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr,pn;function VN(n){switch(n){case $e.OK:return Ot();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0;default:return Ot()}}function Rw(n){if(n===void 0)return Ol("GRPC error has no .code"),$e.UNKNOWN;switch(n){case Pr.OK:return $e.OK;case Pr.CANCELLED:return $e.CANCELLED;case Pr.UNKNOWN:return $e.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return $e.INTERNAL;case Pr.UNAVAILABLE:return $e.UNAVAILABLE;case Pr.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Pr.NOT_FOUND:return $e.NOT_FOUND;case Pr.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Pr.ABORTED:return $e.ABORTED;case Pr.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Pr.DATA_LOSS:return $e.DATA_LOSS;default:return Ot()}}(pn=Pr||(Pr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new xu([4294967295,4294967295],0);function Oy(n){const e=FN().encode(n),t=new Gb;return t.update(e),new Uint8Array(t.digest())}function Dy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xu([t,r],0),new xu([a,o],0)]}class tg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zf(`Invalid padding: ${t}`);if(r<0)throw new Zf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xu.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(xu.fromNumber(r)));return a.compare(BN)===1&&(a=new xu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Oy(e),[r,a]=Dy(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new tg(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=Oy(e),[r,a]=Dy(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new F0(jt.min(),a,new ur(cn),Dl(),sn())}}class xd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xd(r,t,sn(),sn(),sn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class Cw{constructor(e,t){this.targetId=e,this.ge=t}}class Iw{constructor(e,t,r=Ei.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class My{constructor(){this.pe=0,this.ye=Uy(),this.we=Ei.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=sn(),t=sn(),r=sn();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ot()}}),new xd(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=Uy()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Sn(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Dl(),this.$e=Pp(),this.Ke=Pp(),this.Ue=new ur(cn)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(s1(o))if(r===0){const u=new Tt(o.path);this.ze(t,u,Hi.newNoDocument(u,jt.min()))}else Sn(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=ku(r).toUint8Array()}catch(f){if(f instanceof tw)return Fh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new tg(u,a,o)}catch(f){return Fh(f instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&s1(h.target)){const f=new Tt(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Hi.newNoDocument(f,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=sn();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new F0(e,t,this.Ue,this.Qe,r);return this.Qe=Dl(),this.$e=Pp(),this.Ke=Pp(),this.Ue=new ur(cn),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new My,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Gr(cn),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Gr(cn),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ht("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new My),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Pp(){return new ur(Tt.comparator)}function Uy(){return new ur(Tt.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class KN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function l1(n,e){return n.useProto3Json||k0(e)?e:{value:e}}function v0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WN(n,e){return v0(n,e.toTimestamp())}function jo(n){return Sn(!!n),jt.fromTimestamp(function(t){const r=Pu(t);return new Hr(r.seconds,r.nanos)}(n))}function ng(n,e){return u1(n,e).canonicalString()}function u1(n,e){const t=function(a){return new Kn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Pw(n){const e=Kn.fromString(n);return Sn(Uw(e)),e}function c1(n,e){return ng(n.databaseId,e.path)}function Sm(n,e){const t=Pw(e);if(t.get(1)!==n.databaseId.projectId)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Tt(Ow(t))}function kw(n,e){return ng(n.databaseId,e)}function $N(n){const e=Pw(n);return e.length===4?Kn.emptyPath():Ow(e)}function h1(n){return new Kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ow(n){return Sn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jy(n,e,t){return{name:c1(n,e),fields:t.value.mapValue.fields}}function YN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,b){return m.useProto3Json?(Sn(b===void 0||typeof b=="string"),Ei.fromBase64String(b||"")):(Sn(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Ei.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const b=m.code===void 0?$e.UNKNOWN:Rw(m.code);return new dt(b,m.message||"")}(u);t=new Iw(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Sm(n,r.document.name),o=jo(r.document.updateTime),u=r.document.createTime?jo(r.document.createTime):jt.min(),h=new ma({mapValue:{fields:r.document.fields}}),f=Hi.newFoundDocument(a,o,u,h),m=r.targetIds||[],b=r.removedTargetIds||[];t=new Yp(m,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Sm(n,r.document),o=r.readTime?jo(r.readTime):jt.min(),u=Hi.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Yp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Sm(n,r.document),o=r.removedTargetIds||[];t=new Yp([],o,a,null)}else{if(!("filter"in e))return Ot();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new jN(a,o),h=r.targetId;t=new Cw(h,u)}}return t}function QN(n,e){let t;if(e instanceof Nd)t={update:jy(n,e.key,e.value)};else if(e instanceof Z1)t={delete:c1(n,e.key)};else if(e instanceof jc)t={update:jy(n,e.key,e.data),updateMask:sx(e.fieldMask)};else{if(!(e instanceof DN))return Ot();t={verify:c1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof m0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof g0)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ot()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:WN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ot()}(n,e.precondition)),t}function XN(n,e){return n&&n.length>0?(Sn(e!==void 0),n.map(t=>function(a,o){let u=a.updateTime?jo(a.updateTime):jo(o);return u.isEqual(jt.min())&&(u=jo(o)),new PN(u,a.transformResults||[])}(t,e))):[]}function JN(n,e){return{documents:[kw(n,e.path)]}}function ZN(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kw(n,a);const o=function(m){if(m.length!==0)return Mw(Qa.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(b=>function(T){return{field:Eh(T.field),direction:nx(T.dir)}}(b))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=l1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function ex(n){let e=$N(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Sn(r===1);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=function(A){const T=Dw(A);return T instanceof Qa&&hw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(A){return A.map(T=>function(P){return new md(Sh(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(A){let T;return T=typeof A=="object"?A.value:A,k0(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(A){const T=!!A.before,w=A.values||[];return new p0(w,T)}(t.startAt));let m=null;return t.endAt&&(m=function(A){const T=!A.before,w=A.values||[];return new p0(w,T)}(t.endAt)),_N(e,a,u,o,h,"F",f,m)}function tx(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Dw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return kr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sh(t.unaryFilter.field);return kr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sh(t.unaryFilter.field);return kr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sh(t.unaryFilter.field);return kr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(n):n.fieldFilter!==void 0?function(t){return kr.create(Sh(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qa.create(t.compositeFilter.filters.map(r=>Dw(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ot()}}(t.compositeFilter.op))}(n):Ot()}function nx(n){return zN[n]}function rx(n){return HN[n]}function ix(n){return GN[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Ai.fromServerFormat(n.fieldPath)}function Mw(n){return n instanceof kr?function(t){if(t.op==="=="){if(Ty(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(Sy(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ty(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(Sy(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:rx(t.op),value:t.value}}}(n):n instanceof Qa?function(t){const r=t.getFilters().map(a=>Mw(a));return r.length===1?r[0]:{compositeFilter:{op:ix(t.op),filters:r}}}(n):Ot()}function sx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t,r,a,o=jt.min(),u=jt.min(),h=Ei.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.Tt=e}}function ox(n){const e=ex({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?o1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.Tn=new ux}addToCollectionParentIndex(e,t){return this.Tn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(Lu.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(Lu.min())}updateCollectionGroup(e,t,r){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class ux{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Gr(Kn.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Gr(Kn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class _s{static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(jw,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Hh(0)}static Un(){return new Hh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LruGarbageCollector",cx=1048576;function By([n,e],[t,r]){const a=cn(n,t);return a===0?cn(e,r):a}class hx{constructor(e){this.Hn=e,this.buffer=new Gr(By),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();By(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ht(Fy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xh(t)?ht(Fy,"Ignoring IndexedDB error during garbage collection: ",t):await Qh(t)}await this.er(3e5)})}}class dx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return We.resolve(P0.ae);const r=new hx(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(Vy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,u,h,f,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(e,a))).next(A=>(r=A,h=Date.now(),this.removeTargets(e,r,t))).next(A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(m=Date.now(),wh()<=rn.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(m-f)+`ms
Total Duration: ${m-b}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A})))}}function px(n,e){return new dx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.changes=new Uc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?We.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&sd(r.mutation,a,Wa.empty(),Hr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const a=Ac();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Jf();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ac();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=Dl();const u=id(),h=function(){return id()}();return t.forEach((f,m)=>{const b=r.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof jc)?o=o.insert(m.key,m):b!==void 0?(u.set(m.key,b.mutation.getFieldMask()),sd(b.mutation,m,b.mutation.getFieldMask(),Hr.now())):u.set(m.key,Wa.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,b)=>u.set(m,b)),t.forEach((m,b)=>{var A;return h.set(m,new gx(b,(A=u.get(m))!==null&&A!==void 0?A:null))}),h))}recalculateAndSaveOverlays(e,t){const r=id();let a=new ur((u,h)=>u-h),o=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let b=r.get(f)||Wa.empty();b=h.applyToLocalView(m,b),r.set(f,b);const A=(a.get(h.batchId)||sn()).add(f);a=a.insert(h.batchId,A)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,b=f.value,A=bw();b.forEach(T=>{if(!o.has(T)){const w=Nw(t.get(T),r.get(T));w!==null&&A.set(T,w),o=o.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,A))}return We.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Tt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):We.resolve(Ac());let h=hd,f=o;return u.next(m=>We.forEach(m,(b,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(b)?We.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{f=f.insert(b,T)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,sn())).next(b=>({batchId:h,changes:_w(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tt(t)).next(r=>{let a=Jf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Jf();return this.indexManager.getCollectionParents(e,o).next(h=>We.forEach(h,f=>{const m=function(A,T){return new Jh(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(b=>{b.forEach((A,T)=>{u=u.insert(A,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,m)=>{const b=m.getKey();u.get(b)===null&&(u=u.insert(b,Hi.newInvalidDocument(b)))});let h=Jf();return u.forEach((f,m)=>{const b=o.get(f);b!==void 0&&sd(b.mutation,m,Wa.empty(),Hr.now()),U0(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return We.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:jo(a.createTime)}}(t)),We.resolve()}getNamedQuery(e,t){return We.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:ox(a.bundledQuery),readTime:jo(a.readTime)}}(t)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.overlays=new ur(Tt.comparator),this.Rr=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ac();return We.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),We.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),We.resolve()}getOverlaysForCollection(e,t,r){const a=Ac(),o=t.length+1,u=new Tt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return We.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new ur((m,b)=>m-b);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let b=o.get(m.largestBatchId);b===null&&(b=Ac(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const h=Ac(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,b)=>h.set(m,b)),!(h.size()>=a)););return We.resolve(h)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new UN(t,r));let o=this.Rr.get(t);o===void 0&&(o=sn(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Vr=new Gr(ai.mr),this.gr=new Gr(ai.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new ai(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ai(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Tt(new Kn([])),r=new ai(t,e),a=new ai(t,e+1),o=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Tt(new Kn([])),r=new ai(t,e),a=new ai(t,e+1);let o=sn();return this.gr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new ai(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ai{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Tt.comparator(e.key,t.key)||cn(e.Cr,t.Cr)}static pr(e,t){return cn(e.Cr,t.Cr)||Tt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Gr(ai.mr)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MN(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new ai(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return We.resolve(u)}lookupMutationBatch(e,t){return We.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return We.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?W1:this.Fr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ai(t,0),a=new ai(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],u=>{const h=this.Or(u.Cr);o.push(h)}),We.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gr(cn);return t.forEach(a=>{const o=new ai(a,0),u=new ai(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),We.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Tt.isDocumentKey(o)||(o=o.child(""));const u=new ai(new Tt(o),0);let h=new Gr(cn);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Cr)),!0)},u),We.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Sn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return We.forEach(t.mutations,a=>{const o=new ai(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new ai(t,0),a=this.Mr.firstAfterOrEqual(r);return We.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.kr=e,this.docs=function(){return new ur(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return We.resolve(r?r.document.mutableCopy():Hi.newInvalidDocument(t))}getEntries(e,t){let r=Dl();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Hi.newInvalidDocument(a))}),We.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Dl();const u=t.path,h=new Tt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:b}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||XT(QT(b),r)<=0||(a.has(b.key)||U0(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return We.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ot()}qr(e,t){return We.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ex(this)}getSize(e){return We.resolve(this.size)}}class Ex extends mx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),We.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.persistence=e,this.Qr=new Uc(t=>Q1(t),X1),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rg,this.targetCount=0,this.Ur=Hh.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),We.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Hh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.zn(t),We.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),We.waitFor(o).next(()=>a)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return We.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),We.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),We.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),We.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return We.resolve(r)}containsKey(e,t){return We.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new P0(0),this.zr=!1,this.zr=!0,this.jr=new bx,this.referenceDelegate=e(this),this.Hr=new Sx(this),this.indexManager=new lx,this.remoteDocumentCache=function(a){return new Ax(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new ax(t),this.Yr=new yx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _x,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new wx(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ht("MemoryPersistence","Starting transaction:",e);const a=new Tx(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return We.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Tx extends ZT{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.ti=new rg,this.ni=null}static ri(e){return new ig(e)}get ii(){if(this.ni)return this.ni;throw Ot()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),We.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),We.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.ii,r=>{const a=Tt.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,jt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return We.or([()=>We.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class y0{constructor(e,t){this.persistence=e,this.oi=new Uc(r=>nN(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=px(this,t)}static ri(e,t){return new y0(e,t)}Zr(){}Xr(e){return We.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return We.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?We.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,jt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),We.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),We.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),We.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}ar(e,t,r){return We.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return We.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=sn(),a=sn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new sg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return uE()?8:eN(Ki())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Nx;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(wh()<=rn.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),We.resolve()):(wh()<=rn.DEBUG&&ht("QueryEngine","Query:",Ah(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(wh()<=rn.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uo(t))):We.resolve())}rs(e,t){if(Cy(t))return We.resolve(null);let r=Uo(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=o1(t,null,"F"),r=Uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=sn(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,o1(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,r,a){return Cy(t)||a.isEqual(jt.min())?We.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,a)?We.resolve(null):(wh()<=rn.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ah(t)),this.hs(e,u,t,YT(a,hd)).next(h=>h))})}cs(e,t){let r=new Gr(vw(e));return t.forEach((a,o)=>{U0(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return wh()<=rn.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.ns.getDocumentsMatchingQuery(e,t,Lu.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",Rx=3e8;class Cx{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ur(cn),this.Is=new Uc(o=>Q1(o),X1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Ix(n,e,t,r){return new Cx(n,e,t,r)}async function Fw(n,e){const t=Bt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=sn();for(const m of a){u.push(m.batchId);for(const b of m.mutations)f=f.add(b.key)}for(const m of o){h.push(m.batchId);for(const b of m.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function Lx(n,e){const t=Bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,b){const A=m.batch,T=A.keys();let w=We.resolve();return T.forEach(P=>{w=w.next(()=>b.getEntry(f,P)).next(D=>{const V=m.docVersions.get(P);Sn(V!==null),D.version.compareTo(V)<0&&(A.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),b.addEntry(D)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(f,A))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=sn();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function Bw(n){const e=Bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Px(n,e){const t=Bt(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((b,A)=>{const T=a.get(A);if(!T)return;h.push(t.Hr.removeMatchingKeys(o,b.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(o,b.addedDocuments,A)));let w=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?w=w.withResumeToken(Ei.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):b.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(b.resumeToken,r)),a=a.insert(A,w),function(D,V,k){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Rx?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(T,w,b)&&h.push(t.Hr.updateTargetData(o,w))});let f=Dl(),m=sn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))}),h.push(kx(o,u,e.documentUpdates).next(b=>{f=b.Vs,m=b.fs})),!r.isEqual(jt.min())){const b=t.Hr.getLastRemoteSnapshotVersion(o).next(A=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(b)}return We.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(t.Ts=a,o))}function kx(n,e,t){let r=sn(),a=sn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Dl();return t.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(jt.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ht(ag,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function Ox(n,e){const t=Bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=W1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dx(n,e){const t=Bt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,We.resolve(a)):t.Hr.allocateTargetId(r).next(u=>(a=new Eu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function f1(n,e,t){const r=Bt(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Xh(u))throw u;ht(ag,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function qy(n,e,t){const r=Bt(n);let a=jt.min(),o=sn();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,b){const A=Bt(f),T=A.Is.get(b);return T!==void 0?We.resolve(A.Ts.get(T)):A.Hr.getTargetData(m,b)}(r,u,Uo(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?a:jt.min(),t?o:sn())).next(h=>(Mx(r,wN(e),h),{documents:h,gs:o})))}function Mx(n,e,t){let r=n.Es.get(e)||jt.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class zy{constructor(){this.activeTargetIds=xN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ux{constructor(){this.ho=new zy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new zy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="ConnectivityMonitor";class Gy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(Hy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ht(Hy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=null;function d1(){return kp===null?kp=function(){return 268435456+Math.round(2147483648*Math.random())}():kp++,"0x"+kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===f0?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(e,t,r,a,o){const u=d1(),h=this.So(e,t.toUriEncodedString());ht(Tm,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,h,f,r).then(m=>(ht(Tm,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Fh(Tm,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,t,r,a,o,u){return this.bo(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}So(e,t){const r=Vx[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="WebChannelConnection";class qx extends Fx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=d1();return new Promise((u,h)=>{const f=new Kb;f.setWithCredentials(!0),f.listenOnce(Wb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Gp.NO_ERROR:const b=f.getResponseJson();ht(ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(b)),u(b);break;case Gp.TIMEOUT:ht(ji,`RPC '${e}' ${o} timed out`),h(new dt($e.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:const A=f.getStatus();if(ht(ji,`RPC '${e}' ${o} failed with status:`,A,"response text:",f.getResponseText()),A>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const P=function(V){const k=V.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(k)>=0?k:$e.UNKNOWN}(w.status);h(new dt(P,w.message))}else h(new dt($e.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new dt($e.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{ht(ji,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);ht(ji,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",m,r,15)})}Wo(e,t,r){const a=d1(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Qb(),h=Yb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const b=o.join("");ht(ji,`Creating RPC '${e}' stream ${a}: ${b}`,f);const A=u.createWebChannel(b,f);let T=!1,w=!1;const P=new Bx({Fo:V=>{w?ht(ji,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(T||(ht(ji,`Opening RPC '${e}' stream ${a} transport.`),A.open(),T=!0),ht(ji,`RPC '${e}' stream ${a} sending:`,V),A.send(V))},Mo:()=>A.close()}),D=(V,k,z)=>{V.listen(k,Z=>{try{z(Z)}catch(he){setTimeout(()=>{throw he},0)}})};return D(A,Xf.EventType.OPEN,()=>{w||(ht(ji,`RPC '${e}' stream ${a} transport opened.`),P.Qo())}),D(A,Xf.EventType.CLOSE,()=>{w||(w=!0,ht(ji,`RPC '${e}' stream ${a} transport closed`),P.Ko())}),D(A,Xf.EventType.ERROR,V=>{w||(w=!0,Fh(ji,`RPC '${e}' stream ${a} transport errored:`,V),P.Ko(new dt($e.UNAVAILABLE,"The operation could not be completed")))}),D(A,Xf.EventType.MESSAGE,V=>{var k;if(!w){const z=V.data[0];Sn(!!z);const Z=z,he=(Z==null?void 0:Z.error)||((k=Z[0])===null||k===void 0?void 0:k.error);if(he){ht(ji,`RPC '${e}' stream ${a} received error:`,he);const de=he.status;let De=function(O){const W=Pr[O];if(W!==void 0)return Rw(W)}(de),H=he.message;De===void 0&&(De=$e.INTERNAL,H="Unknown error status: "+de+" with message "+he.message),w=!0,P.Ko(new dt(De,H)),A.close()}else ht(ji,`RPC '${e}' stream ${a} received:`,z),P.Uo(z)}}),D(h,$b.STAT_EVENT,V=>{V.stat===t1.PROXY?ht(ji,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===t1.NOPROXY&&ht(ji,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){return new KN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="PersistentStream";class zw{constructor(e,t,r,a,o,u,h,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(Ol(t.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new dt($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ht(Ky,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ht(Ky,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zx extends zw{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YN(this.serializer,e),r=function(o){if(!("targetChange"in o))return jt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?jt.min():u.readTime?jo(u.readTime):jt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=h1(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=s1(f)?{documents:JN(o,f)}:{query:ZN(o,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Lw(o,u.resumeToken);const m=l1(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(jt.min())>0){h.readTime=v0(o,u.snapshotVersion.toTimestamp());const m=l1(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=tx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=h1(this.serializer),t.removeTarget=e,this.I_(t)}}class Hx extends zw{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XN(e.writeResults,e.commitTime),r=jo(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=h1(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>QN(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class Kx extends Gx{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.bo(e,u1(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt($e.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,u1(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt($e.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Wx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ol(t),this.N_=!1):ht("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="RemoteStore";class $x{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{Vc(this)&&(ht(Lc,"Restarting streams for network reachability change."),await async function(f){const m=Bt(f);m.W_.add(4),await Rd(m),m.j_.set("Unknown"),m.W_.delete(4),await q0(m)}(this))})}),this.j_=new Wx(r,a)}}async function q0(n){if(Vc(n))for(const e of n.G_)await e(!0)}async function Rd(n){for(const e of n.G_)await e(!1)}function Hw(n,e){const t=Bt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),cg(t)?ug(t):Zh(t).c_()&&lg(t,e))}function og(n,e){const t=Bt(n),r=Zh(t);t.U_.delete(e),r.c_()&&Gw(t,e),t.U_.size===0&&(r.c_()?r.P_():Vc(t)&&t.j_.set("Unknown"))}function lg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zh(n).y_(e)}function Gw(n,e){n.H_.Ne(e),Zh(n).w_(e)}function ug(n){n.H_=new qN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zh(n).start(),n.j_.B_()}function cg(n){return Vc(n)&&!Zh(n).u_()&&n.U_.size>0}function Vc(n){return Bt(n).W_.size===0}function Kw(n){n.H_=void 0}async function Yx(n){n.j_.set("Online")}async function Qx(n){n.U_.forEach((e,t)=>{lg(n,e)})}async function Xx(n,e){Kw(n),cg(n)?(n.j_.q_(e),ug(n)):n.j_.set("Unknown")}async function Jx(n,e,t){if(n.j_.set("Online"),e instanceof Iw&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.U_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(r){ht(Lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _0(n,r)}else if(e instanceof Yp?n.H_.We(e):e instanceof Cw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(jt.min()))try{const r=await Bw(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=o.U_.get(m);b&&o.U_.set(m,b.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const b=o.U_.get(f);if(!b)return;o.U_.set(f,b.withResumeToken(Ei.EMPTY_BYTE_STRING,b.snapshotVersion)),Gw(o,f);const A=new Eu(b.target,f,m,b.sequenceNumber);lg(o,A)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ht(Lc,"Failed to raise snapshot:",r),await _0(n,r)}}async function _0(n,e,t){if(!Xh(e))throw e;n.W_.add(1),await Rd(n),n.j_.set("Offline"),t||(t=()=>Bw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Lc,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await q0(n)})}function Ww(n,e){return e().catch(t=>_0(n,t,e))}async function z0(n){const e=Bt(n),t=Du(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:W1;for(;Zx(e);)try{const a=await Ox(e.localStore,r);if(a===null){e.K_.length===0&&t.P_();break}r=a.batchId,e8(e,a)}catch(a){await _0(e,a)}$w(e)&&Yw(e)}function Zx(n){return Vc(n)&&n.K_.length<10}function e8(n,e){n.K_.push(e);const t=Du(n);t.c_()&&t.b_&&t.S_(e.mutations)}function $w(n){return Vc(n)&&!Du(n).u_()&&n.K_.length>0}function Yw(n){Du(n).start()}async function t8(n){Du(n).C_()}async function n8(n){const e=Du(n);for(const t of n.K_)e.S_(t.mutations)}async function r8(n,e,t){const r=n.K_.shift(),a=eg.from(r,e,t);await Ww(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await z0(n)}async function i8(n,e){e&&Du(n).b_&&await async function(r,a){if(function(u){return VN(u)&&u!==$e.ABORTED}(a.code)){const o=r.K_.shift();Du(r).h_(),await Ww(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await z0(r)}}(n,e),$w(n)&&Yw(n)}async function Wy(n,e){const t=Bt(n);t.asyncQueue.verifyOperationInProgress(),ht(Lc,"RemoteStore received new credentials");const r=Vc(t);t.W_.add(3),await Rd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await q0(t)}async function s8(n,e){const t=Bt(n);e?(t.W_.delete(2),await q0(t)):e||(t.W_.add(2),await Rd(t),t.j_.set("Unknown"))}function Zh(n){return n.J_||(n.J_=function(t,r,a){const o=Bt(t);return o.M_(),new zx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:Yx.bind(null,n),No:Qx.bind(null,n),Lo:Xx.bind(null,n),p_:Jx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),cg(n)?ug(n):n.j_.set("Unknown")):(await n.J_.stop(),Kw(n))})),n.J_}function Du(n){return n.Y_||(n.Y_=function(t,r,a){const o=Bt(t);return o.M_(),new Hx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:t8.bind(null,n),Lo:i8.bind(null,n),D_:n8.bind(null,n),v_:r8.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await z0(n)):(await n.Y_.stop(),n.K_.length>0&&(ht(Lc,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ru,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new hg(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(n,e){if(Ol("AsyncQueue",`${e}: ${n}`),Xh(n))return new dt($e.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{static emptySet(e){return new Dh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Tt.comparator(t.key,r.key):(t,r)=>Tt.comparator(t.key,r.key),this.keyedMap=Jf(),this.sortedSet=new ur(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Dh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.Z_=new ur(Tt.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ot():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gh{constructor(e,t,r,a,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Gh(e,t,Dh.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&M0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class o8{constructor(){this.queries=Yy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Bt(t),o=a.queries;a.queries=Yy(),o.forEach((u,h)=>{for(const f of h.ta)f.onError(r)})})(this,new dt($e.ABORTED,"Firestore shutting down"))}}function Yy(){return new Uc(n=>gw(n),M0)}async function Qw(n,e){const t=Bt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new a8,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=fg(u,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&dg(t)}async function Xw(n,e){const t=Bt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function l8(n,e){const t=Bt(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(r=!0);u.ea=a}}r&&dg(t)}function u8(n,e,t){const r=Bt(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function dg(n){n.ia.forEach(e=>{e.next()})}var p1,Qy;(Qy=p1||(p1={}))._a="default",Qy.Cache="cache";class Jw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Gh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==p1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.key=e}}class e4{constructor(e){this.key=e}}class c8{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=sn(),this.mutatedKeys=sn(),this.ya=vw(e),this.wa=new Dh(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new $y,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((b,A)=>{const T=a.get(b),w=U0(this.query,A)?A:null,P=!!T&&this.mutatedKeys.has(T.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;T&&w?T.data.isEqual(w.data)?P!==D&&(r.track({type:3,doc:w}),V=!0):this.va(T,w)||(r.track({type:2,doc:w}),V=!0,(f&&this.ya(w,f)>0||m&&this.ya(w,m)<0)&&(h=!0)):!T&&w?(r.track({type:0,doc:w}),V=!0):T&&!w&&(r.track({type:1,doc:T}),V=!0,(f||m)&&(h=!0)),V&&(w?(u=u.add(w),o=D?o.add(b):o.delete(b)):(u=u.delete(b),o=o.delete(b)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),o=o.delete(b.key),r.track({type:1,doc:b})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((b,A)=>function(w,P){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return D(w)-D(P)}(b.type,A.type)||this.ya(b.doc,A.doc)),this.Ca(r),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new Gh(this.query,e.wa,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $y,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=sn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new e4(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Zw(r))}),t}Oa(e){this.fa=e.gs,this.pa=sn();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Gh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pg="SyncEngine";class h8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class f8{constructor(e){this.key=e,this.Ba=!1}}class d8{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Uc(h=>gw(h),M0),this.qa=new Map,this.Qa=new Set,this.$a=new ur(Tt.comparator),this.Ka=new Map,this.Ua=new rg,this.Wa={},this.Ga=new Map,this.za=Hh.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p8(n,e,t=!0){const r=a4(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await t4(r,e,t,!0),a}async function m8(n,e){const t=a4(n);await t4(t,e,!0,!1)}async function t4(n,e,t,r){const a=await Dx(n.localStore,Uo(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await g8(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&Hw(n.remoteStore,a),h}async function g8(n,e,t,r,a){n.Ha=(A,T,w)=>async function(D,V,k,z){let Z=V.view.Sa(k);Z.ls&&(Z=await qy(D.localStore,V.query,!1).then(({documents:H})=>V.view.Sa(H,Z)));const he=z&&z.targetChanges.get(V.targetId),de=z&&z.targetMismatches.get(V.targetId)!=null,De=V.view.applyChanges(Z,D.isPrimaryClient,he,de);return Jy(D,V.targetId,De.Ma),De.snapshot}(n,A,T,w);const o=await qy(n.localStore,e,!0),u=new c8(e,o.gs),h=u.Sa(o.documents),f=xd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,f);Jy(n,t,m.Ma);const b=new h8(e,t,u);return n.ka.set(e,b),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function v8(n,e,t){const r=Bt(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(u=>!M0(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await f1(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&og(r.remoteStore,a.targetId),m1(r,a.targetId)}).catch(Qh)):(m1(r,a.targetId),await f1(r.localStore,a.targetId,!0))}async function y8(n,e){const t=Bt(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),og(t.remoteStore,r.targetId))}async function _8(n,e,t){const r=N8(n);try{const a=await function(u,h){const f=Bt(u),m=Hr.now(),b=h.reduce((w,P)=>w.add(P.key),sn());let A,T;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let P=Dl(),D=sn();return f.ds.getEntries(w,b).next(V=>{P=V,P.forEach((k,z)=>{z.isValidDocument()||(D=D.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,P)).next(V=>{A=V;const k=[];for(const z of h){const Z=ON(z,A.get(z.key).overlayedDocument);Z!=null&&k.push(new jc(z.key,Z,lw(Z.value.mapValue),$a.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,k,h)}).next(V=>{T=V;const k=V.applyToLocalDocumentSet(A,D);return f.documentOverlayCache.saveOverlays(w,V.batchId,k)})}).then(()=>({batchId:T.batchId,changes:_w(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new ur(cn)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(r,a.batchId,t),await Cd(r,a.changes),await z0(r.remoteStore)}catch(a){const o=fg(a,"Failed to persist write");t.reject(o)}}async function n4(n,e){const t=Bt(n);try{const r=await Px(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Ka.get(o);u&&(Sn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Sn(u.Ba):a.removedDocuments.size>0&&(Sn(u.Ba),u.Ba=!1))}),await Cd(t,r,e)}catch(r){await Qh(r)}}function Xy(n,e,t){const r=Bt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Bt(u);f.onlineState=h;let m=!1;f.queries.forEach((b,A)=>{for(const T of A.ta)T.sa(h)&&(m=!0)}),m&&dg(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b8(n,e,t){const r=Bt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ka.get(e),o=a&&a.key;if(o){let u=new ur(Tt.comparator);u=u.insert(o,Hi.newNoDocument(o,jt.min()));const h=sn().add(o),f=new F0(jt.min(),new Map,new ur(cn),u,h);await n4(r,f),r.$a=r.$a.remove(o),r.Ka.delete(e),mg(r)}else await f1(r.localStore,e,!1).then(()=>m1(r,e,t)).catch(Qh)}async function w8(n,e){const t=Bt(n),r=e.batch.batchId;try{const a=await Lx(t.localStore,e);i4(t,r,null),r4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cd(t,a)}catch(a){await Qh(a)}}async function A8(n,e,t){const r=Bt(n);try{const a=await function(u,h){const f=Bt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.mutationQueue.lookupMutationBatch(m,h).next(A=>(Sn(A!==null),b=A.keys(),f.mutationQueue.removeMutationBatch(m,A))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,b,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>f.localDocuments.getDocuments(m,b))})}(r.localStore,e);i4(r,e,t),r4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cd(r,a)}catch(a){await Qh(a)}}function r4(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function i4(n,e,t){const r=Bt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function m1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||s4(n,r)})}function s4(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(og(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),mg(n))}function Jy(n,e,t){for(const r of t)r instanceof Zw?(n.Ua.addReference(r.key,e),E8(n,r)):r instanceof e4?(ht(pg,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||s4(n,r.key)):Ot()}function E8(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ht(pg,"New document in limbo: "+t),n.Qa.add(r),mg(n))}function mg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Tt(Kn.fromString(e)),r=n.za.next();n.Ka.set(r,new f8(t)),n.$a=n.$a.insert(t,r),Hw(n.remoteStore,new Eu(Uo(D0(t.path)),r,"TargetPurposeLimboResolution",P0.ae))}}async function Cd(n,e,t){const r=Bt(n),a=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,f)=>{u.push(r.Ha(f,e,t).then(m=>{var b;if((m||t)&&r.isPrimaryClient){const A=m?!m.fromCache:(b=t==null?void 0:t.targetChanges.get(f.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(f.targetId,A?"current":"not-current")}if(m){a.push(m);const A=sg.Yi(f.targetId,m);o.push(A)}}))}),await Promise.all(u),r.La.p_(a),await async function(f,m){const b=Bt(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>We.forEach(m,T=>We.forEach(T.Hi,w=>b.persistence.referenceDelegate.addReference(A,T.targetId,w)).next(()=>We.forEach(T.Ji,w=>b.persistence.referenceDelegate.removeReference(A,T.targetId,w)))))}catch(A){if(!Xh(A))throw A;ht(ag,"Failed to update sequence numbers: "+A)}for(const A of m){const T=A.targetId;if(!A.fromCache){const w=b.Ts.get(T),P=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(P);b.Ts=b.Ts.insert(T,D)}}}(r.localStore,o))}async function S8(n,e){const t=Bt(n);if(!t.currentUser.isEqual(e)){ht(pg,"User change. New user:",e.toKey());const r=await Fw(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(f=>{f.reject(new dt($e.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cd(t,r.Rs)}}function T8(n,e){const t=Bt(n),r=t.Ka.get(e);if(r&&r.Ba)return sn().add(r.key);{let a=sn();const o=t.qa.get(e);if(!o)return a;for(const u of o){const h=t.ka.get(u);a=a.unionWith(h.view.ba)}return a}}function a4(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b8.bind(null,e),e.La.p_=l8.bind(null,e.eventManager),e.La.Ja=u8.bind(null,e.eventManager),e}function N8(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A8.bind(null,e),e}class b0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=B0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ix(this.persistence,new xx,e.initialUser,this.serializer)}Xa(e){return new Vw(ig.ri,this.serializer)}Za(e){return new Ux}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}b0.provider={build:()=>new b0};class x8 extends b0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Sn(this.persistence.referenceDelegate instanceof y0);const r=this.persistence.referenceDelegate.garbageCollector;return new fx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new Vw(r=>y0.ri(r,t),this.serializer)}}class g1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S8.bind(null,this.syncEngine),await s8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o8}()}createDatastore(e){const t=B0(e.databaseInfo.databaseId),r=function(o){return new qx(o)}(e.databaseInfo);return function(o,u,h,f){return new Kx(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new $x(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Xy(this.syncEngine,t,0),function(){return Gy.D()?new Gy:new jx}())}createSyncEngine(e,t){return function(a,o,u,h,f,m,b){const A=new d8(a,o,u,h,f,m);return b&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Bt(a);ht(Lc,"RemoteStore shutting down."),o.W_.add(5),await Rd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}g1.provider={build:()=>new g1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="FirestoreClient";class R8{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=zi.UNAUTHENTICATED,this.clientId=Jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ht(Mu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ht(Mu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ru;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=fg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xm(n,e){n.asyncQueue.verifyOperationInProgress(),ht(Mu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Fw(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C8(n);ht(Mu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Wy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Wy(e.remoteStore,a)),n._onlineComponents=e}async function C8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Mu,"Using user provided OfflineComponentProvider");try{await xm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===$e.FAILED_PRECONDITION||a.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Fh("Error using user provided cache. Falling back to memory cache: "+t),await xm(n,new b0)}}else ht(Mu,"Using default OfflineComponentProvider"),await xm(n,new x8(void 0));return n._offlineComponents}async function l4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Mu,"Using user provided OnlineComponentProvider"),await Zy(n,n._uninitializedComponentsProvider._online)):(ht(Mu,"Using default OnlineComponentProvider"),await Zy(n,new g1))),n._onlineComponents}function I8(n){return l4(n).then(e=>e.syncEngine)}async function v1(n){const e=await l4(n),t=e.eventManager;return t.onListen=p8.bind(null,e.syncEngine),t.onUnlisten=v8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=m8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y8.bind(null,e.syncEngine),t}function L8(n,e,t={}){const r=new Ru;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const b=new o4({next:T=>{b.su(),u.enqueueAndForget(()=>Xw(o,A));const w=T.docs.has(h);!w&&T.fromCache?m.reject(new dt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&f&&f.source==="server"?m.reject(new dt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),A=new Jw(D0(h.path),b,{includeMetadataChanges:!0,Ta:!0});return Qw(o,A)}(await v1(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e,t){if(!t)throw new dt($e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P8(n,e,t,r){if(e===!0&&r===!0)throw new dt($e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t_(n){if(!Tt.isDocumentKey(n))throw new dt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n_(n){if(Tt.isDocumentKey(n))throw new dt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function H0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ot()}function Vo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new dt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=H0(n);throw new dt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firestore.googleapis.com",r_=!0;class i_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new dt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h4,this.ssl=r_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:r_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cx)throw new dt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G0{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BT;switch(r.type){case"firstParty":return new GT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=e_.get(t);r&&(ht("ComponentProvider","Removing Datastore"),e_.delete(t),r.terminate())}(this),Promise.resolve()}}function k8(n,e,t,r={}){var a;const o=(n=Vo(n,G0))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==h4&&o.host!==h&&Fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Nc(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=zi.MOCK_USER;else{m=rb(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new dt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new zi(A)}n._authCredentials=new qT(new Xb(m,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fc(this.firestore,e,this._query)}}class is{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class Cu extends Fc{constructor(e,t,r){super(e,t,D0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new Tt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function w0(n,e,...t){if(n=Kr(n),c4("collection","path",e),n instanceof G0){const r=Kn.fromString(e,...t);return n_(r),new Cu(n,null,r)}{if(!(n instanceof is||n instanceof Cu))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kn.fromString(e,...t));return n_(r),new Cu(n.firestore,null,r)}}function Kh(n,e,...t){if(n=Kr(n),arguments.length===1&&(e=Jb.newId()),c4("doc","path",e),n instanceof G0){const r=Kn.fromString(e,...t);return t_(r),new is(n,null,new Tt(r))}{if(!(n instanceof is||n instanceof Cu))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kn.fromString(e,...t));return t_(r),new is(n.firestore,n instanceof Cu?n.converter:null,new Tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qw(this,"async_queue_retry"),this.bu=()=>{const r=Nm();r&&ht(s_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ru;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xh(e))throw e;ht(s_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Ol("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=hg.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Ot()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function o_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Pc extends G0{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new a_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function f4(n,e){const t=typeof n=="object"?n:M1(),r=typeof n=="string"?n:f0,a=R0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=eb("firestore");o&&k8(a,...o)}return a}function gg(n){if(n._terminated)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||O8(n),n._firestoreClient}function O8(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,m,b){return new sN(h,f,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,u4(b.experimentalLongPollingOptions),b.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new R8(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wh(Ei.fromBase64String(e))}catch(t){throw new dt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wh(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new dt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=/^__.*__$/;class M8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}function p4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class bg{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return A0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(p4(this.Lu)&&D8.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class U8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||B0(e)}ju(e,t,r,a=!1){return new bg({Lu:e,methodName:t,zu:r,path:Ai.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(n){const e=n._freezeSettings(),t=B0(n._databaseId);return new U8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m4(n,e,t,r,a,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,a);y4("Data must be an object, but it was:",u,r);const h=g4(r,u);let f,m;if(o.merge)f=new Wa(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const b=[];for(const A of o.mergeFields){const T=V8(e,A,t);if(!u.contains(T))throw new dt($e.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);B8(b,T)||b.push(T)}f=new Wa(b),m=u.fieldTransforms.filter(A=>f.covers(A.field))}else f=null,m=u.fieldTransforms;return new M8(new ma(h),f,m)}function j8(n,e,t,r=!1){return Ag(t,n.ju(r?4:3,e))}function Ag(n,e){if(v4(n=Kr(n)))return y4("Unsupported field value:",e,n),g4(n,e);if(n instanceof d4)return function(r,a){if(!p4(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let f=Ag(h,a.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Kr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Hr.fromDate(r);return{timestampValue:v0(a.serializer,o)}}if(r instanceof Hr){const o=new Hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:v0(a.serializer,o)}}if(r instanceof yg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wh)return{bytesValue:Lw(a.serializer,r._byteString)};if(r instanceof is){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ng(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof _g)return function(u,h){return{mapValue:{fields:{[aw]:{stringValue:ow},[d0]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return J1(h.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${H0(r)}`)}(n,e)}function g4(n,e){const t={};return ew(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mc(n,(r,a)=>{const o=Ag(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function v4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Hr||n instanceof yg||n instanceof Wh||n instanceof is||n instanceof d4||n instanceof _g)}function y4(n,e,t){if(!v4(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=H0(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function V8(n,e,t){if((e=Kr(e))instanceof vg)return e._internalPath;if(typeof e=="string")return _4(n,e);throw A0("Field path arguments must be of type string or ",n,!1,void 0,t)}const F8=new RegExp("[~\\*/\\[\\]]");function _4(n,e,t){if(e.search(F8)>=0)throw A0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vg(...e.split("."))._internalPath}catch{throw A0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function A0(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new dt($e.INVALID_ARGUMENT,h+n+f)}function B8(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q8 extends b4{data(){return super.data()}}function Eg(n,e){return typeof e=="string"?_4(n,e):e instanceof vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class w4 extends Sg{}function H8(n,e,...t){let r=[];e instanceof Sg&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Ng).length,h=o.filter(f=>f instanceof Tg).length;if(u>1||u>0&&h>0)throw new dt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Tg extends w4{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tg(e,t,r)}_apply(e){const t=this._parse(e);return A4(e._query,t),new Fc(e.firestore,e.converter,a1(e._query,t))}_parse(e){const t=wg(e.firestore);return function(o,u,h,f,m,b,A){let T;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new dt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){u_(A,b);const P=[];for(const D of A)P.push(l_(f,o,D));T={arrayValue:{values:P}}}else T=l_(f,o,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||u_(A,b),T=j8(h,u,A,b==="in"||b==="not-in");return kr.create(m,b,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ng extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ng(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)A4(u,f),u=a1(u,f)}(e._query,t),new Fc(e.firestore,e.converter,a1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends w4{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xg(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new md(o,u)}(e._query,this._field,this._direction);return new Fc(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Jh(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function G8(n,e="asc"){const t=e,r=Eg("orderBy",n);return xg._create(r,t)}function l_(n,e,t){if(typeof(t=Kr(t))=="string"){if(t==="")throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mw(e)&&t.indexOf("/")!==-1)throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kn.fromString(t));if(!Tt.isDocumentKey(r))throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ey(n,new Tt(r))}if(t instanceof is)return Ey(n,t._key);throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${H0(t)}.`)}function u_(n,e){if(!Array.isArray(n)||n.length===0)throw new dt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A4(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new dt($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K8{convertValue(e,t="none"){switch(Ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mc(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[d0].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Tr(u.doubleValue));return new _g(o)}convertGeoPoint(e){return new yg(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=O0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fd(e));default:return null}}convertTimestamp(e){const t=Pu(e);return new Hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kn.fromString(e);Sn(Uw(r));const a=new dd(r.get(1),r.get(3)),o=new Tt(r.popFirst(5));return a.isEqual(t)||Ol(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S4 extends b4{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Eg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qp extends S4{data(e={}){return super.data(e)}}class W8{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ed(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qp(this._firestore,this._userDataWriter,r.key,r,new ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Qp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ed(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Qp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ed(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:$8(h.type),doc:f,oldIndex:m,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(n){n=Vo(n,is);const e=Vo(n.firestore,Pc);return L8(gg(e),n._key).then(t=>x4(e,n,t))}class N4 extends K8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}function Xp(n,e,t){n=Vo(n,is);const r=Vo(n.firestore,Pc),a=E4(n.converter,e,t);return Rg(r,[m4(wg(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,$a.none())])}function Y8(n){return Rg(Vo(n.firestore,Pc),[new Z1(n._key,$a.none())])}function Q8(n,e){const t=Vo(n.firestore,Pc),r=Kh(n),a=E4(n.converter,e);return Rg(t,[m4(wg(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,$a.exists(!1))]).then(()=>r)}function c_(n,...e){var t,r,a;n=Kr(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||o_(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(o_(e[u])){const A=e[u];e[u]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[u+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[u+2]=(a=A.complete)===null||a===void 0?void 0:a.bind(A)}let f,m,b;if(n instanceof is)m=Vo(n.firestore,Pc),b=D0(n._key.path),f={next:A=>{e[u]&&e[u](x4(m,n,A))},error:e[u+1],complete:e[u+2]};else{const A=Vo(n,Fc);m=Vo(A.firestore,Pc),b=A._query;const T=new N4(m);f={next:w=>{e[u]&&e[u](new W8(m,T,A,w))},error:e[u+1],complete:e[u+2]},z8(n._query)}return function(T,w,P,D){const V=new o4(D),k=new Jw(w,V,P);return T.asyncQueue.enqueueAndForget(async()=>Qw(await v1(T),k)),()=>{V.su(),T.asyncQueue.enqueueAndForget(async()=>Xw(await v1(T),k))}}(gg(m),b,h,f)}function Rg(n,e){return function(r,a){const o=new Ru;return r.asyncQueue.enqueueAndForget(async()=>_8(await I8(r),a,o)),o.promise}(gg(n),e)}function x4(n,e,t){const r=t.docs.get(e._key),a=new N4(n);return new S4(n,a,e._key,r,new ed(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yh=a})(Oc),xc(new Iu("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Pc(new zT(r.getProvider("auth-internal")),new KT(u,r.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new dt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(m.options.projectId,b)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Oo(fy,dy,e),Oo(fy,dy,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="firebasestorage.googleapis.com",C4="storageBucket",X8=2*60*1e3,J8=10*60*1e3,Z8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends qo{constructor(e,t,r=0){super(Rm(e),`Firebase Storage: ${t} (${Rm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $n;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function Rm(n){return"storage/"+n}function Cg(){const n="An unknown error occurred, please check the error payload for server response.";return new cr($n.UNKNOWN,n)}function e7(n){return new cr($n.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function t7(n){return new cr($n.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n7(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cr($n.UNAUTHENTICATED,n)}function r7(){return new cr($n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function i7(n){return new cr($n.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function I4(){return new cr($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L4(){return new cr($n.CANCELED,"User canceled the upload/download.")}function s7(n){return new cr($n.INVALID_URL,"Invalid URL '"+n+"'.")}function a7(n){return new cr($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o7(){return new cr($n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C4+"' property when initializing the app?")}function P4(){return new cr($n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l7(){return new cr($n.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function u7(){return new cr($n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c7(n){return new cr($n.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function y1(n){return new cr($n.INVALID_ARGUMENT,n)}function k4(){return new cr($n.APP_DELETED,"The Firebase app was deleted.")}function h7(n){return new cr($n.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(n,e){return new cr($n.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Hf(n){throw new cr($n.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hs.makeFromUrl(e,t)}catch{return new Hs(e,"")}if(r.path==="")return r;throw a7(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(he){he.path_=decodeURIComponent(he.path)}const b="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${A}/${b}/b/${a}/o${T}`,"i"),P={bucket:1,path:3},D=t===R4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",k=new RegExp(`^https?://${D}/${a}/${V}`,"i"),Z=[{regex:h,indices:f,postModify:o},{regex:w,indices:P,postModify:m},{regex:k,indices:{bucket:1,path:2},postModify:m}];for(let he=0;he<Z.length;he++){const de=Z[he],De=de.regex.exec(e);if(De){const H=De[de.indices.bucket];let C=De[de.indices.path];C||(C=""),r=new Hs(H,C),de.postModify(r);break}}if(r==null)throw s7(e);return r}}class f7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(n,e,t){let r=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let m=!1;function b(...V){m||(m=!0,e.apply(null,V))}function A(V){a=setTimeout(()=>{a=null,n(w,f())},V)}function T(){o&&clearTimeout(o)}function w(V,...k){if(m){T();return}if(V){T(),b.call(null,V,...k);return}if(f()||u){T(),b.call(null,V,...k);return}r<64&&(r*=2);let Z;h===1?(h=2,Z=0):Z=(r+Math.random())*1e3,A(Z)}let P=!1;function D(V){P||(P=!0,T(),!m&&(a!==null?(V||(h=2),clearTimeout(a),A(0)):V||(h=1)))}return A(0),o=setTimeout(()=>{u=!0,D(!0)},t),D}function p7(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(n){return n!==void 0}function g7(n){return typeof n=="function"}function v7(n){return typeof n=="object"&&!Array.isArray(n)}function K0(n){return typeof n=="string"||n instanceof String}function h_(n){return Ig()&&n instanceof Blob}function Ig(){return typeof Blob<"u"}function f_(n,e,t,r){if(r<e)throw y1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw y1(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function O4(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ec;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ec||(Ec={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,t,r,a,o,u,h,f,m,b,A,T=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=A,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,P)=>{this.resolve_=w,this.reject_=P,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Op(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Ec.NO_ERROR,f=o.getStatus();if(!h||D4(f,this.additionalRetryCodes_)&&this.retry){const b=o.getErrorCode()===Ec.ABORT;r(!1,new Op(!1,null,b));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Op(m,o))})},t=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());m7(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=Cg();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?k4():L4();u(f)}else{const f=I4();u(f)}};this.canceled_?t(!1,new Op(!1,null,!0)):this.backoffId_=d7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Op{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _7(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function b7(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w7(n,e){e&&(n["X-Firebase-GMPID"]=e)}function A7(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function E7(n,e,t,r,a,o,u=!0){const h=O4(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return w7(m,e),_7(m,t),b7(m,o),A7(m,r),new y7(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T7(...n){const e=S7();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Ig())return new Blob(n);throw new cr($n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N7(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(n){if(typeof atob>"u")throw c7("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cm{constructor(e,t){this.data=e,this.contentType=t||null}}function R7(n,e){switch(n){case Po.RAW:return new Cm(M4(e));case Po.BASE64:case Po.BASE64URL:return new Cm(U4(n,e));case Po.DATA_URL:return new Cm(I7(e),L7(e))}throw Cg()}function M4(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function C7(n){let e;try{e=decodeURIComponent(n)}catch{throw ad(Po.DATA_URL,"Malformed data URL.")}return M4(e)}function U4(n,e){switch(n){case Po.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw ad(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Po.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw ad(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=x7(e)}catch(a){throw a.message.includes("polyfill")?a:ad(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class j4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ad(Po.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=P7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function I7(n){const e=new j4(n);return e.base64?U4(Po.BASE64,e.rest):C7(e.rest)}function L7(n){return new j4(n).contentType}function P7(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){let r=0,a="";h_(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(h_(this.data_)){const r=this.data_,a=N7(r,e,t);return a===null?null:new Au(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Au(r,!0)}}static getBlob(...e){if(Ig()){const t=e.map(r=>r instanceof Au?r.data_:r);return new Au(T7.apply(null,t))}else{const t=e.map(u=>K0(u)?R7(Po.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)a[o++]=u[h]}),new Au(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){let e;try{e=JSON.parse(n)}catch{return null}return v7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function O7(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function F4(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(n,e){return e}class rs{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||D7}}let Dp=null;function M7(n){return!K0(n)||n.length<2?n:F4(n)}function B4(){if(Dp)return Dp;const n=[];n.push(new rs("bucket")),n.push(new rs("generation")),n.push(new rs("metageneration")),n.push(new rs("name","fullPath",!0));function e(o,u){return M7(u)}const t=new rs("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const a=new rs("size");return a.xform=r,n.push(a),n.push(new rs("timeCreated")),n.push(new rs("updated")),n.push(new rs("md5Hash",null,!0)),n.push(new rs("cacheControl",null,!0)),n.push(new rs("contentDisposition",null,!0)),n.push(new rs("contentEncoding",null,!0)),n.push(new rs("contentLanguage",null,!0)),n.push(new rs("contentType",null,!0)),n.push(new rs("metadata","customMetadata",!0)),Dp=n,Dp}function U7(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Hs(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function j7(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return U7(r,n),r}function q4(n,e,t){const r=V4(e);return r===null?null:j7(n,r,t)}function V7(n,e,t,r){const a=V4(e);if(a===null||!K0(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const b=n.bucket,A=n.fullPath,T="/b/"+u(b)+"/o/"+u(A),w=Id(T,t,r),P=O4({alt:"media",token:m});return w+P})[0]}function z4(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class ef{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){if(!n)throw Cg()}function Lg(n,e){function t(r,a){const o=q4(n,a,e);return Cl(o!==null),o}return t}function F7(n,e){function t(r,a){const o=q4(n,a,e);return Cl(o!==null),V7(o,a,n.host,n._protocol)}return t}function Ld(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=r7():a=n7():t.getStatus()===402?a=t7(n.bucket):t.getStatus()===403?a=i7(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function H4(n){const e=Ld(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=e7(n.path)),o.serverResponse=a.serverResponse,o}return t}function B7(n,e,t){const r=e.fullServerUrl(),a=Id(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new ef(a,o,Lg(n,t),u);return h.errorHandler=H4(e),h}function q7(n,e,t){const r=e.fullServerUrl(),a=Id(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new ef(a,o,F7(n,t),u);return h.errorHandler=H4(e),h}function z7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function G4(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=z7(null,e)),r}function H7(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let Z="";for(let he=0;he<2;he++)Z=Z+Math.random().toString().slice(2);return Z}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const m=G4(e,r,a),b=z4(m,t),A="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+f+"--",w=Au.getBlob(A,r,T);if(w===null)throw P4();const P={name:m.fullPath},D=Id(o,n.host,n._protocol),V="POST",k=n.maxUploadRetryTime,z=new ef(D,V,Lg(n,t),k);return z.urlParams=P,z.headers=u,z.body=w.uploadData(),z.errorHandler=Ld(e),z}class E0{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function Pg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Cl(!1)}return Cl(!!t&&(e||["active"]).indexOf(t)!==-1),t}function G7(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),u=G4(e,r,a),h={name:u.fullPath},f=Id(o,n.host,n._protocol),m="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},A=z4(u,t),T=n.maxUploadRetryTime;function w(D){Pg(D);let V;try{V=D.getResponseHeader("X-Goog-Upload-URL")}catch{Cl(!1)}return Cl(K0(V)),V}const P=new ef(f,m,w,T);return P.urlParams=h,P.headers=b,P.body=A,P.errorHandler=Ld(e),P}function K7(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function o(m){const b=Pg(m,["active","final"]);let A=null;try{A=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cl(!1)}A||Cl(!1);const T=Number(A);return Cl(!isNaN(T)),new E0(T,r.size(),b==="final")}const u="POST",h=n.maxUploadRetryTime,f=new ef(t,u,o,h);return f.headers=a,f.errorHandler=Ld(e),f}const d_=256*1024;function W7(n,e,t,r,a,o,u,h){const f=new E0(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw l7();const m=f.total-f.current;let b=m;a>0&&(b=Math.min(b,a));const A=f.current,T=A+b;let w="";b===0?w="finalize":m===b?w="upload, finalize":w="upload";const P={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${f.current}`},D=r.slice(A,T);if(D===null)throw P4();function V(he,de){const De=Pg(he,["active","final"]),H=f.current+b,C=r.size();let O;return De==="final"?O=Lg(e,o)(he,de):O=null,new E0(H,C,De==="final",O)}const k="POST",z=e.maxUploadRetryTime,Z=new ef(t,k,V,z);return Z.headers=P,Z.body=D.uploadData(),Z.progressCallback=h||null,Z.errorHandler=Ld(n),Z}const bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Im(n){switch(n){case"running":case"pausing":case"canceling":return bs.RUNNING;case"paused":return bs.PAUSED;case"success":return bs.SUCCESS;case"canceled":return bs.CANCELED;case"error":return bs.ERROR;default:return bs.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,t,r){if(g7(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Y7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ec.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ec.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ec.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a){if(this.sent_)throw Hf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Q7 extends Y7{initXhr(){this.xhr_.responseType="text"}}function Th(){return new Q7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=B4(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals($n.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(D4(a.status,[]))if(o)a=I4();else{this.sleepTime=Math.max(this.sleepTime*2,Z8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals($n.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=G7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Th,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=K7(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(a,Th,t,r);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=d_*this._chunkMultiplier,t=new E0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,o)=>{let u;try{u=W7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(u,Th,a,o,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){d_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=B7(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Th,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=H7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Th,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=L4(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Im(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const o=new $7(t||void 0,r||void 0,a||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Im(this._state)){case bs.SUCCESS:yh(this._resolve.bind(null,this.snapshot))();break;case bs.CANCELED:case bs.ERROR:const t=this._reject;yh(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Im(this._state)){case bs.RUNNING:case bs.PAUSED:e.next&&yh(e.next.bind(e,this.snapshot))();break;case bs.SUCCESS:e.complete&&yh(e.complete.bind(e))();break;case bs.CANCELED:case bs.ERROR:e.error&&yh(e.error.bind(e,this._error))();break;default:e.error&&yh(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this._service=e,t instanceof Hs?this._location=t:this._location=Hs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kc(e,t)}get root(){const e=new Hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F4(this._location.path)}get storage(){return this._service}get parent(){const e=k7(this._location.path);if(e===null)return null;const t=new Hs(this._location.bucket,e);return new kc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw h7(e)}}function J7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new X7(n,new Au(e),t)}function Z7(n){n._throwIfRoot("getDownloadURL");const e=q7(n.storage,n._location,B4());return n.storage.makeRequestWithTokens(e,Th).then(t=>{if(t===null)throw u7();return t})}function eR(n,e){const t=O7(n._location.path,e),r=new Hs(n._location.bucket,t);return new kc(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){return/^[A-Za-z]+:\/\//.test(n)}function nR(n,e){return new kc(n,e)}function K4(n,e){if(n instanceof kg){const t=n;if(t._bucket==null)throw o7();const r=new kc(t,t._bucket);return e!=null?K4(r,e):r}else return e!==void 0?eR(n,e):n}function rR(n,e){if(e&&tR(e)){if(n instanceof kg)return nR(n,e);throw y1("To use ref(service, url), the first argument must be a Storage instance.")}else return K4(n,e)}function p_(n,e){const t=e==null?void 0:e[C4];return t==null?null:Hs.makeFromBucketSpec(t,n)}function iR(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:rb(a,n.app.options.projectId))}class kg{constructor(e,t,r,a,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=R4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X8,this._maxUploadRetryTime=J8,this._requests=new Set,a!=null?this._bucket=Hs.makeFromBucketSpec(a,this._host):this._bucket=p_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hs.makeFromBucketSpec(this._url,e):this._bucket=p_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kc(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new f7(k4());{const u=E7(e,this._appId,r,a,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const m_="@firebase/storage",g_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="storage";function sR(n,e,t){return n=Kr(n),J7(n,e,t)}function aR(n){return n=Kr(n),Z7(n)}function oR(n,e){return n=Kr(n),rR(n,e)}function lR(n=M1(),e){n=Kr(n);const r=R0(n,W4).getImmediate({identifier:e}),a=eb("storage");return a&&uR(r,...a),r}function uR(n,e,t,r={}){iR(n,e,t,r)}function cR(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new kg(t,r,a,e,Oc)}function hR(){xc(new Iu(W4,cR,"PUBLIC").setMultipleInstances(!0)),Oo(m_,g_,""),Oo(m_,g_,"esm2017")}hR();const fR={apiKey:"AIzaSyDqvs9hShjoBZG5_iAyTuBJBgYWNzjr-oc",authDomain:"tome-artworks.firebaseapp.com",projectId:"tome-artworks",storageBucket:"tome-artworks.firebasestorage.app",messagingSenderId:"890971951408",appId:"1:890971951408:web:a9cf474d61a4e4b8e678f5",measurementId:"G-JG1KNRR6NW"},$4=ab(fR),Ks=UT($4),Sc=f4($4),dR=lR(),pR="data:image/svg+xml,%3csvg%20width='87'%20height='18'%20viewBox='0%200%2087%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_30_135)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.45207%200.641174C8.30697%20-0.213725%209.69303%20-0.213725%2010.5479%200.641174L17.3588%207.45207C18.2137%208.30697%2018.2137%209.69303%2017.3588%2010.5479L10.5479%2017.3588C9.69303%2018.2137%208.30697%2018.2137%207.45207%2017.3588L0.641174%2010.5479C-0.213725%209.69303%20-0.213725%208.30697%200.641174%207.45207L7.45207%200.641174ZM9.92876%201.26035C9.41582%200.747407%208.58418%200.747407%208.07124%201.26035L4.73304%204.59855C8.329%203.80742%2012.2403%204.81019%2015.0369%207.60686C15.7319%208.3018%2016.316%209.06556%2016.7894%209.8762C17.252%209.3605%2017.2354%208.56701%2016.7397%208.07124L9.92876%201.26035ZM16.1482%2010.5202C15.6927%209.69759%2015.1159%208.92413%2014.4178%208.22604C11.4466%205.25487%207.11036%204.48076%203.42788%205.90371L1.26035%208.07124C0.747407%208.58418%200.747407%209.41582%201.26035%209.92876L1.5717%2010.2401C1.62198%2010.1875%201.67299%2010.1353%201.72472%2010.0836C5.40079%206.40749%2011.3609%206.40749%2015.0369%2010.0836C15.2987%2010.3453%2015.5419%2010.6187%2015.7664%2010.902L16.1482%2010.5202ZM4.04879%2012.7172L2.19105%2010.8595C2.2412%2010.8067%202.29215%2010.7545%202.3439%2010.7027C5.678%207.36862%2011.0837%207.36862%2014.4178%2010.7027C14.68%2010.965%2014.9216%2011.24%2015.1426%2011.5258L14.5529%2012.1155C11.5426%209.57628%207.03713%209.72453%204.20142%2012.5602C4.14965%2012.612%204.09877%2012.6643%204.04879%2012.7172ZM13.9312%2012.7372C11.2653%2010.5385%207.31412%2010.6859%204.82059%2013.1794C4.7688%2013.2312%204.71802%2013.2836%204.66825%2013.3367L6.52612%2015.1945C6.57562%2015.1413%206.62628%2015.0888%206.6781%2015.0369C8.37992%2013.3351%2010.8613%2012.888%2012.9728%2013.6956L13.9312%2012.7372ZM8.07124%2016.7397L7.14579%2015.8142C7.19492%2015.7607%207.24541%2015.708%207.29728%2015.6561C8.64677%2014.3066%2010.5717%2013.8833%2012.2822%2014.3862L9.92876%2016.7397C9.41582%2017.2526%208.58418%2017.2526%208.07124%2016.7397Z'%20fill='%23666666'/%3e%3c/g%3e%3cpath%20d='M78.7914%2014.632V3.43201H86.3434V5.54401H81.1434V12.52H86.4554V14.632H78.7914ZM79.9114%209.94401V7.89601H85.5754V9.94401H79.9114Z'%20fill='black'/%3e%3cpath%20d='M60.9826%2014.632V3.43201H63.1746L67.2386%2010.056L65.8146%2010.04L69.9426%203.43201H72.0546V14.632H69.7026V10.84C69.7026%209.86934%2069.7239%208.99467%2069.7666%208.21601C69.8199%207.43734%2069.9053%206.66934%2070.0226%205.91201L70.2946%206.66401L67.0146%2011.736H65.9426L62.7426%206.69601L62.9986%205.91201C63.1266%206.62667%2063.2119%207.36267%2063.2546%208.12001C63.3079%208.87734%2063.3346%209.78401%2063.3346%2010.84V14.632H60.9826Z'%20fill='black'/%3e%3cpath%20d='M49.2901%2014.792C48.4688%2014.792%2047.7061%2014.648%2047.0021%2014.36C46.3088%2014.072%2045.7061%2013.672%2045.1941%2013.16C44.6928%2012.6373%2044.2981%2012.024%2044.0101%2011.32C43.7328%2010.616%2043.5941%209.84268%2043.5941%209.00001C43.5941%208.16801%2043.7328%207.40001%2044.0101%206.69601C44.2981%205.99201%2044.6928%205.37867%2045.1941%204.85601C45.7061%204.33334%2046.3088%203.92801%2047.0021%203.64001C47.7061%203.35201%2048.4688%203.20801%2049.2901%203.20801C50.1114%203.20801%2050.8634%203.35201%2051.5461%203.64001C52.2395%203.92801%2052.8421%204.33334%2053.3541%204.85601C53.8661%205.37867%2054.2608%205.99734%2054.5381%206.71201C54.8261%207.41601%2054.9701%208.17868%2054.9701%209.00001C54.9701%209.83201%2054.8261%2010.6%2054.5381%2011.304C54.2608%2012.008%2053.8661%2012.6213%2053.3541%2013.144C52.8421%2013.6667%2052.2395%2014.072%2051.5461%2014.36C50.8634%2014.648%2050.1114%2014.792%2049.2901%2014.792ZM49.2901%2012.52C49.7594%2012.52%2050.1914%2012.4347%2050.5861%2012.264C50.9808%2012.0827%2051.3221%2011.8373%2051.6101%2011.528C51.9088%2011.208%2052.1381%2010.8347%2052.2981%2010.408C52.4581%209.98134%2052.5381%209.51201%2052.5381%209.00001C52.5381%208.49868%2052.4581%208.03467%2052.2981%207.60801C52.1381%207.18134%2051.9088%206.80801%2051.6101%206.48801C51.3221%206.16801%2050.9808%205.92267%2050.5861%205.75201C50.1914%205.57067%2049.7594%205.48001%2049.2901%205.48001C48.8208%205.48001%2048.3834%205.57067%2047.9781%205.75201C47.5834%205.92267%2047.2368%206.16801%2046.9381%206.48801C46.6501%206.79734%2046.4261%207.17067%2046.2661%207.60801C46.1061%208.03467%2046.0261%208.50401%2046.0261%209.01601C46.0261%209.68801%2046.1648%2010.2907%2046.4421%2010.824C46.7301%2011.3467%2047.1141%2011.7627%2047.5941%2012.072C48.0848%2012.3707%2048.6501%2012.52%2049.2901%2012.52Z'%20fill='black'/%3e%3cpath%20d='M33.232%2014.632V5.59201H30V3.43201H38.992V5.59201H35.632V14.632H33.232Z'%20fill='black'/%3e%3cdefs%3e%3cclipPath%20id='clip0_30_135'%3e%3crect%20width='18'%20height='18'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var Gf={},v_;function mR(){if(v_)return Gf;v_=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.parse=u,Gf.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,w){const P=new o,D=T.length;if(D<2)return P;const V=(w==null?void 0:w.decode)||b;let k=0;do{const z=T.indexOf("=",k);if(z===-1)break;const Z=T.indexOf(";",k),he=Z===-1?D:Z;if(z>he){k=T.lastIndexOf(";",z-1)+1;continue}const de=h(T,k,z),De=f(T,z,de),H=T.slice(de,De);if(P[H]===void 0){let C=h(T,z+1,he),O=f(T,he,C);const W=V(T.slice(C,O));P[H]=W}k=he+1}while(k<D);return P}function h(T,w,P){do{const D=T.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<P);return P}function f(T,w,P){for(;w>P;){const D=T.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return P}function m(T,w,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const V=D(w);if(!e.test(V))throw new TypeError(`argument val is invalid: ${w}`);let k=T+"="+V;if(!P)return k;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);k+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);k+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);k+="; Path="+P.path}if(P.expires){if(!A(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);k+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(k+="; HttpOnly"),P.secure&&(k+="; Secure"),P.partitioned&&(k+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return k}function b(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function A(T){return a.call(T)==="[object Date]"}return Gf}mR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y_="popstate";function gR(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return _1("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:yd(a)}return yR(e,t,null,n)}function tr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vR(){return Math.random().toString(36).substring(2,10)}function __(n,e){return{usr:n.state,key:n.key,idx:e}}function _1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tf(e):e,state:t,key:e&&e.key||r||vR()}}function yd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,m=b();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function b(){return(u.state||{idx:null}).idx}function A(){h="POP";let V=b(),k=V==null?null:V-m;m=V,f&&f({action:h,location:D.location,delta:k})}function T(V,k){h="PUSH";let z=_1(D.location,V,k);m=b()+1;let Z=__(z,m),he=D.createHref(z);try{u.pushState(Z,"",he)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(he)}o&&f&&f({action:h,location:D.location,delta:1})}function w(V,k){h="REPLACE";let z=_1(D.location,V,k);m=b();let Z=__(z,m),he=D.createHref(z);u.replaceState(Z,"",he),o&&f&&f({action:h,location:D.location,delta:0})}function P(V){let k=a.location.origin!=="null"?a.location.origin:a.location.href,z=typeof V=="string"?V:yd(V);return z=z.replace(/ $/,"%20"),tr(k,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,k)}let D={get action(){return h},get location(){return n(a,u)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(y_,A),f=V,()=>{a.removeEventListener(y_,A),f=null}},createHref(V){return e(a,V)},createURL:P,encodeLocation(V){let k=P(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:w,go(V){return u.go(V)}};return D}function Y4(n,e,t="/"){return _R(n,e,t,!1)}function _R(n,e,t,r){let a=typeof e=="string"?tf(e):e,o=Uu(a.pathname||"/",t);if(o==null)return null;let u=Q4(n);bR(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=LR(o);h=CR(u[f],m,r)}return h}function Q4(n,e=[],t=[],r=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(tr(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Il([r,f.relativePath]),b=t.concat(f);o.children&&o.children.length>0&&(tr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Q4(o.children,e,b,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:xR(m,o.index),routesMeta:b})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of X4(o.path))a(o,u,f)}),e}function X4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=X4(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function bR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wR=/^:[\w-]+$/,AR=3,ER=2,SR=1,TR=10,NR=-2,b_=n=>n==="*";function xR(n,e){let t=n.split("/"),r=t.length;return t.some(b_)&&(r+=NR),e&&(r+=ER),t.filter(a=>!b_(a)).reduce((a,o)=>a+(wR.test(o)?AR:o===""?SR:TR),r)}function RR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function CR(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,b=o==="/"?e:e.slice(o.length)||"/",A=S0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},b),T=f.route;if(!A&&m&&t&&!r[r.length-1].route.index&&(A=S0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!A)return null;Object.assign(a,A.params),u.push({params:a,pathname:Il([o,A.pathname]),pathnameBase:DR(Il([o,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(o=Il([o,A.pathnameBase]))}return u}function S0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:b,isOptional:A},T)=>{if(b==="*"){let P=h[T]||"";u=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const w=h[T];return A&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function IR(n,e=!1,t=!0){Xa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function LR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Uu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function PR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?tf(n):n;return{pathname:t?t.startsWith("/")?t:kR(t,e):e,search:MR(r),hash:UR(a)}}function kR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Lm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Og(n){let e=OR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Dg(n,e,t,r=!1){let a;typeof n=="string"?a=tf(n):(a={...n},tr(!a.pathname||!a.pathname.includes("?"),Lm("?","pathname","search",a)),tr(!a.pathname||!a.pathname.includes("#"),Lm("#","pathname","hash",a)),tr(!a.search||!a.search.includes("#"),Lm("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let A=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),A-=1;a.pathname=T.join("/")}h=A>=0?e[A]:"/"}let f=PR(a,h),m=u&&u!=="/"&&u.endsWith("/"),b=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||b)&&(f.pathname+="/"),f}var Il=n=>n.join("/").replace(/\/\/+/g,"/"),DR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var J4=["POST","PUT","PATCH","DELETE"];new Set(J4);var VR=["GET",...J4];new Set(VR);var nf=Me.createContext(null);nf.displayName="DataRouter";var W0=Me.createContext(null);W0.displayName="DataRouterState";var Z4=Me.createContext({isTransitioning:!1});Z4.displayName="ViewTransition";var FR=Me.createContext(new Map);FR.displayName="Fetchers";var BR=Me.createContext(null);BR.displayName="Await";var Ja=Me.createContext(null);Ja.displayName="Navigation";var Pd=Me.createContext(null);Pd.displayName="Location";var Za=Me.createContext({outlet:null,matches:[],isDataRoute:!1});Za.displayName="Route";var Mg=Me.createContext(null);Mg.displayName="RouteError";function qR(n,{relative:e}={}){tr(rf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Me.useContext(Ja),{hash:a,pathname:o,search:u}=kd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Il([t,o])),r.createHref({pathname:h,search:u,hash:a})}function rf(){return Me.useContext(Pd)!=null}function qu(){return tr(rf(),"useLocation() may be used only in the context of a <Router> component."),Me.useContext(Pd).location}var e3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t3(n){Me.useContext(Ja).static||Me.useLayoutEffect(n)}function $0(){let{isDataRoute:n}=Me.useContext(Za);return n?tC():zR()}function zR(){tr(rf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Me.useContext(nf),{basename:e,navigator:t}=Me.useContext(Ja),{matches:r}=Me.useContext(Za),{pathname:a}=qu(),o=JSON.stringify(Og(r)),u=Me.useRef(!1);return t3(()=>{u.current=!0}),Me.useCallback((f,m={})=>{if(Xa(u.current,e3),!u.current)return;if(typeof f=="number"){t.go(f);return}let b=Dg(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Il([e,b.pathname])),(m.replace?t.replace:t.push)(b,m.state,m)},[e,t,o,a,n])}Me.createContext(null);function Y0(){let{matches:n}=Me.useContext(Za),e=n[n.length-1];return e?e.params:{}}function kd(n,{relative:e}={}){let{matches:t}=Me.useContext(Za),{pathname:r}=qu(),a=JSON.stringify(Og(t));return Me.useMemo(()=>Dg(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function HR(n,e){return n3(n,e)}function n3(n,e,t,r){var z;tr(rf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=Me.useContext(Ja),{matches:u}=Me.useContext(Za),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",b=h?h.pathnameBase:"/",A=h&&h.route;{let Z=A&&A.path||"";r3(m,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=qu(),w;if(e){let Z=typeof e=="string"?tf(e):e;tr(b==="/"||((z=Z.pathname)==null?void 0:z.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),w=Z}else w=T;let P=w.pathname||"/",D=P;if(b!=="/"){let Z=b.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=!o&&t&&t.matches&&t.matches.length>0?t.matches:Y4(n,{pathname:D});Xa(A||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Xa(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=YR(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},f,Z.params),pathname:Il([b,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?b:Il([b,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,t,r);return e&&k?Me.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function GR(){let n=eC(),e=jR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Me.createElement(Me.Fragment,null,Me.createElement("p",null," Hey developer "),Me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Me.createElement("code",{style:o},"ErrorBoundary")," or"," ",Me.createElement("code",{style:o},"errorElement")," prop on your route.")),Me.createElement(Me.Fragment,null,Me.createElement("h2",null,"Unexpected Application Error!"),Me.createElement("h3",{style:{fontStyle:"italic"}},e),t?Me.createElement("pre",{style:a},t):null,u)}var KR=Me.createElement(GR,null),WR=class extends Me.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Me.createElement(Za.Provider,{value:this.props.routeContext},Me.createElement(Mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $R({routeContext:n,match:e,children:t}){let r=Me.useContext(nf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Me.createElement(Za.Provider,{value:n},t)}function YR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);tr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:b,errors:A}=t,T=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!A||A[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,b)=>{let A,T=!1,w=null,P=null;t&&(A=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||KR,u&&(h<0&&b===0?(r3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):h===b&&(T=!0,P=m.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,b+1)),V=()=>{let k;return A?k=w:T?k=P:m.route.Component?k=Me.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,Me.createElement($R,{match:m,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?Me.createElement(WR,{location:t.location,revalidation:t.revalidation,component:w,error:A,children:V(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):V()},null)}function Ug(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(n){let e=Me.useContext(nf);return tr(e,Ug(n)),e}function XR(n){let e=Me.useContext(W0);return tr(e,Ug(n)),e}function JR(n){let e=Me.useContext(Za);return tr(e,Ug(n)),e}function jg(n){let e=JR(n),t=e.matches[e.matches.length-1];return tr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZR(){return jg("useRouteId")}function eC(){var r;let n=Me.useContext(Mg),e=XR("useRouteError"),t=jg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function tC(){let{router:n}=QR("useNavigate"),e=jg("useNavigate"),t=Me.useRef(!1);return t3(()=>{t.current=!0}),Me.useCallback(async(a,o={})=>{Xa(t.current,e3),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var w_={};function r3(n,e,t){!e&&!w_[n]&&(w_[n]=!0,Xa(!1,t))}Me.memo(nC);function nC({routes:n,future:e,state:t}){return n3(n,void 0,t,e)}function rC({to:n,replace:e,state:t,relative:r}){tr(rf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Me.useContext(Ja);Xa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Me.useContext(Za),{pathname:u}=qu(),h=$0(),f=Dg(n,Og(o),u,r==="path"),m=JSON.stringify(f);return Me.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function _c(n){tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){tr(!rf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Me.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=tf(t));let{pathname:f="/",search:m="",hash:b="",state:A=null,key:T="default"}=t,w=Me.useMemo(()=>{let P=Uu(f,u);return P==null?null:{location:{pathname:P,search:m,hash:b,state:A,key:T},navigationType:r}},[u,f,m,b,A,T,r]);return Xa(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:Me.createElement(Ja.Provider,{value:h},Me.createElement(Pd.Provider,{children:e,value:w}))}function sC({children:n,location:e}){return HR(b1(n),e)}function b1(n,e=[]){let t=[];return Me.Children.forEach(n,(r,a)=>{if(!Me.isValidElement(r))return;let o=[...e,a];if(r.type===Me.Fragment){t.push.apply(t,b1(r.props.children,o));return}tr(r.type===_c,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=b1(r.props.children,o)),t.push(u)}),t}var Jp="get",Zp="application/x-www-form-urlencoded";function Q0(n){return n!=null&&typeof n.tagName=="string"}function aC(n){return Q0(n)&&n.tagName.toLowerCase()==="button"}function oC(n){return Q0(n)&&n.tagName.toLowerCase()==="form"}function lC(n){return Q0(n)&&n.tagName.toLowerCase()==="input"}function uC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cC(n,e){return n.button===0&&(!e||e==="_self")&&!uC(n)}var Mp=null;function hC(){if(Mp===null)try{new FormData(document.createElement("form"),0),Mp=!1}catch{Mp=!0}return Mp}var fC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(n){return n!=null&&!fC.has(n)?(Xa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zp}"`),null):n}function dC(n,e){let t,r,a,o,u;if(oC(n)){let h=n.getAttribute("action");r=h?Uu(h,e):null,t=n.getAttribute("method")||Jp,a=Pm(n.getAttribute("enctype"))||Zp,o=new FormData(n)}else if(aC(n)||lC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Uu(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Jp,a=Pm(n.getAttribute("formenctype"))||Pm(h.getAttribute("enctype"))||Zp,o=new FormData(h,n),!hC()){let{name:m,type:b,value:A}=n;if(b==="image"){let T=m?`${m}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else m&&o.append(m,A)}}else{if(Q0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jp,r=null,a=Zp,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Vg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function pC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gC(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await pC(o,t);return u.links?u.links():[]}return[]}));return bC(r.flat(1).filter(mC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A_(n,e,t,r,a,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var b;return t[m].pathname!==f.pathname||((b=t[m].route.path)==null?void 0:b.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var A;let b=r.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function vC(n,e,{includeHydrateFallback:t}={}){return yC(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function yC(n){return[...new Set(n)]}function _C(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bC(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(_C(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function wC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function AC(){let n=Me.useContext(nf);return Vg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EC(){let n=Me.useContext(W0);return Vg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fg=Me.createContext(void 0);Fg.displayName="FrameworkContext";function i3(){let n=Me.useContext(Fg);return Vg(n,"You must render this element inside a <HydratedRouter> element"),n}function SC(n,e){let t=Me.useContext(Fg),[r,a]=Me.useState(!1),[o,u]=Me.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:b,onTouchStart:A}=e,T=Me.useRef(null);Me.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=k=>{k.forEach(z=>{u(z.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[n]),Me.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let w=()=>{a(!0)},P=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:Kf(h,w),onBlur:Kf(f,P),onMouseEnter:Kf(m,w),onMouseLeave:Kf(b,P),onTouchStart:Kf(A,w)}]:[!1,T,{}]}function Kf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TC({page:n,...e}){let{router:t}=AC(),r=Me.useMemo(()=>Y4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Me.createElement(xC,{page:n,matches:r,...e}):null}function NC(n){let{manifest:e,routeModules:t}=i3(),[r,a]=Me.useState([]);return Me.useEffect(()=>{let o=!1;return gC(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function xC({page:n,matches:e,...t}){let r=qu(),{manifest:a,routeModules:o}=i3(),{loaderData:u,matches:h}=EC(),f=Me.useMemo(()=>A_(n,e,h,a,r,"data"),[n,e,h,a,r]),m=Me.useMemo(()=>A_(n,e,h,a,r,"assets"),[n,e,h,a,r]),b=Me.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,P=!1;if(e.forEach(V=>{var z;let k=a.routes[V.route.id];!k||!k.hasLoader||(!f.some(Z=>Z.route.id===V.route.id)&&V.route.id in u&&((z=o[V.route.id])!=null&&z.shouldRevalidate)||k.hasClientLoader?P=!0:w.add(V.route.id))}),w.size===0)return[];let D=wC(n);return P&&w.size>0&&D.searchParams.set("_routes",e.filter(V=>w.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[u,r,a,f,e,n,o]),A=Me.useMemo(()=>vC(m,a),[m,a]),T=NC(m);return Me.createElement(Me.Fragment,null,b.map(w=>Me.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),A.map(w=>Me.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),T.map(({key:w,link:P})=>Me.createElement("link",{key:w,...P})))}function RC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var s3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s3&&(window.__reactRouterVersion="7.2.0")}catch{}function CC({basename:n,children:e,window:t}){let r=Me.useRef();r.current==null&&(r.current=gR({window:t,v5Compat:!0}));let a=r.current,[o,u]=Me.useState({action:a.action,location:a.location}),h=Me.useCallback(f=>{Me.startTransition(()=>u(f))},[u]);return Me.useLayoutEffect(()=>a.listen(h),[a,h]),Me.createElement(iC,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var a3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=Me.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:b,viewTransition:A,...T},w){let{basename:P}=Me.useContext(Ja),D=typeof m=="string"&&a3.test(m),V,k=!1;if(typeof m=="string"&&D&&(V=m,s3))try{let O=new URL(window.location.href),W=m.startsWith("//")?new URL(O.protocol+m):new URL(m),R=Uu(W.pathname,P);W.origin===O.origin&&R!=null?m=R+W.search+W.hash:k=!0}catch{Xa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=qR(m,{relative:a}),[Z,he,de]=SC(r,T),De=kC(m,{replace:u,state:h,target:f,preventScrollReset:b,relative:a,viewTransition:A});function H(O){e&&e(O),O.defaultPrevented||De(O)}let C=Me.createElement("a",{...T,...de,href:V||z,onClick:k||o?e:H,ref:RC(w,he),target:f,"data-discover":!D&&t==="render"?"true":void 0});return Z&&!D?Me.createElement(Me.Fragment,null,C,Me.createElement(TC,{page:z})):C});Ll.displayName="Link";var IC=Me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...m},b){let A=kd(u,{relative:m.relative}),T=qu(),w=Me.useContext(W0),{navigator:P,basename:D}=Me.useContext(Ja),V=w!=null&&jC(A)&&h===!0,k=P.encodeLocation?P.encodeLocation(A).pathname:A.pathname,z=T.pathname,Z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(z=z.toLowerCase(),Z=Z?Z.toLowerCase():null,k=k.toLowerCase()),Z&&D&&(Z=Uu(Z,D)||Z);const he=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let de=z===k||!a&&z.startsWith(k)&&z.charAt(he)==="/",De=Z!=null&&(Z===k||!a&&Z.startsWith(k)&&Z.charAt(k.length)==="/"),H={isActive:de,isPending:De,isTransitioning:V},C=de?e:void 0,O;typeof r=="function"?O=r(H):O=[r,de?"active":null,De?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(H):o;return Me.createElement(Ll,{...m,"aria-current":C,className:O,ref:b,style:W,to:u,viewTransition:h},typeof f=="function"?f(H):f)});IC.displayName="NavLink";var LC=Me.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=Jp,action:h,onSubmit:f,relative:m,preventScrollReset:b,viewTransition:A,...T},w)=>{let P=MC(),D=UC(h,{relative:m}),V=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&a3.test(h),z=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,de=(he==null?void 0:he.getAttribute("formmethod"))||u;P(he||Z.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:a,state:o,relative:m,preventScrollReset:b,viewTransition:A})};return Me.createElement("form",{ref:w,method:V,action:D,onSubmit:r?f:z,...T,"data-discover":!k&&n==="render"?"true":void 0})});LC.displayName="Form";function PC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o3(n){let e=Me.useContext(nf);return tr(e,PC(n)),e}function kC(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=$0(),f=qu(),m=kd(n,{relative:o});return Me.useCallback(b=>{if(cC(b,e)){b.preventDefault();let A=t!==void 0?t:yd(f)===yd(m);h(n,{replace:A,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,m,t,r,e,n,a,o,u])}var OC=0,DC=()=>`__${String(++OC)}__`;function MC(){let{router:n}=o3("useSubmit"),{basename:e}=Me.useContext(Ja),t=ZR();return Me.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=dC(r,e);if(a.navigate===!1){let b=a.fetcherKey||DC();await n.fetch(b,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function UC(n,{relative:e}={}){let{basename:t}=Me.useContext(Ja),r=Me.useContext(Za);tr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...kd(n||".",{relative:e})},u=qu();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(b=>b==="")){h.delete("index"),f.filter(A=>A).forEach(A=>h.append("index",A));let b=h.toString();o.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Il([t,o.pathname])),yd(o)}function jC(n,e={}){let t=Me.useContext(Z4);tr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o3("useViewTransitionState"),a=kd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Uu(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Uu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return S0(a.pathname,u)!=null||S0(a.pathname,o)!=null}new TextEncoder;function X0(){const[n,e]=Me.useState(null);Me.useEffect(()=>{const r=Ob(Ks,a=>{e(a)});return()=>r()},[]);const t=()=>{Ks.signOut().then(()=>{console.log("User signed out")}).catch(r=>{console.log("Error with signout: ",r.message)})};return ye.jsxs("div",{className:"flex flex-row justify-between border-b border-gray-300 items-center p-4 pl-6 pr-6 w-full m-0 relative top-0 left-0 bg-white",children:[ye.jsx(Ll,{to:"/",children:ye.jsx("img",{src:pR,alt:"Tome Logo",className:"sm"})}),n?ye.jsxs("div",{className:"flex flex-row gap-2",children:[ye.jsx("p",{children:n.email}),ye.jsx("button",{onClick:t,className:"text-blue-500",children:"Sign out"})]}):ye.jsx("p",{children:"Sign in"})]})}var km={exports:{}},Om,E_;function VC(){if(E_)return Om;E_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Om=n,Om}var Dm,S_;function FC(){if(S_)return Dm;S_=1;var n=VC();function e(){}function t(){}return t.resetWarningCache=e,Dm=function(){function r(u,h,f,m,b,A){if(A!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Dm}var T_;function BC(){return T_||(T_=1,km.exports=FC()()),km.exports}var qC=BC();const li=Y_(qC),l3=Me.createContext();function u3({children:n}){const[e,t]=Me.useState([]),[r,a]=Me.useState([]),[o,u]=Me.useState({}),[h,f]=Me.useState(!0),[m,b]=Me.useState(!1);return Me.useEffect(()=>{const A=Ks.currentUser;if(!A)return;const T=H8(w0(Sc,"accounts",A.uid,"artworks"),G8("createdAt","asc")),w=c_(T,V=>{const k=V.docs.map(z=>({id:z.id,...z.data()}));t(k),f(!1)},V=>{console.error("Uh oh, I couldn't get the artworks. The error was: ",V),b(!0)}),P=w0(Sc,"accounts",A.uid,"tags"),D=c_(P,V=>{const k=V.docs.map(z=>({id:z.id,...z.data()}));a(k)},V=>{console.error("Error fetching tags:",V),b(!0)});return()=>{w(),D()}},[Ks.currentUser]),Me.useEffect(()=>{const A={};r.forEach(T=>{Array.isArray(T.artworks)?A[T.id]=T.artworks.map(w=>e.find(P=>P.id===w)).filter(Boolean):A[T.id]=[]}),u(A)},[e,r]),ye.jsx(l3.Provider,{value:{artworks:e,tags:r,taggedArtworks:o,isLoading:h,hasError:m},children:n})}function J0(){return Me.useContext(l3)}u3.propTypes={children:li.node.isRequired};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zC(n,e,t,r){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function h(b){try{m(r.next(b))}catch(A){u(A)}}function f(b){try{m(r.throw(b))}catch(A){u(A)}}function m(b){b.done?o(b.value):a(b.value).then(h,f)}m((r=r.apply(n,[])).next())})}function HC(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(b){return f([m,b])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ih=function(){return Ih=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ih.apply(this,arguments)},c3=function(n){return{loading:n==null,value:n}},GC=function(){return function(n,e){switch(e.type){case"error":return Ih(Ih({},n),{error:e.error,loading:!1,value:void 0});case"reset":return c3(e.defaultValue);case"value":return Ih(Ih({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},KC=function(n){var e=n?n():void 0,t=Me.useReducer(GC(),c3(e)),r=t[0],a=t[1],o=Me.useCallback(function(){var f=n?n():void 0;a({type:"reset",defaultValue:f})},[n]),u=Me.useCallback(function(f){a({type:"error",error:f})},[]),h=Me.useCallback(function(f){a({type:"value",value:f})},[]);return Me.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:h,value:r.value}},[r.error,r.loading,o,u,h,r.value])},Od=function(n,e){var t=KC(function(){return n.currentUser}),r=t.error,a=t.loading,o=t.setError,u=t.setValue,h=t.value;return Me.useEffect(function(){var f=Ob(n,function(m){return zC(void 0,void 0,void 0,function(){var b;return HC(this,function(A){switch(A.label){case 0:return[3,4];case 1:return A.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return A.sent(),[3,4];case 3:return b=A.sent(),o(b),[3,4];case 4:return u(m),[2]}})})},o);return function(){f()}},[n]),[h,a,r]};function h3({children:n}){return ye.jsx("div",{className:"truncate",children:n})}h3.propTypes={children:li.node.isRequired};function Dd(){return ye.jsx("div",{id:"loader",children:ye.jsx("div",{id:"loader-3",children:ye.jsx("div",{id:"loader-b"})})})}var Mm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var N_;function WC(){return N_||(N_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=a(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=a(u,h));return u}function a(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Mm)),Mm.exports}var $C=WC();const x_=Y_($C);function f3({isOn:n,toggle:e}){return ye.jsx("div",{onClick:e,className:x_("flex w-12 h-6 bg-gray-300 m-6 rounded-md transition-all duration-150 flex-shrink-0",{"bg-green-500":n}),children:ye.jsx("span",{className:x_("h-6 w-6 bg-white rounded-md transition-all duration-150 shadow-sm",{"ml-6":n})})})}f3.propTypes={isOn:li.bool.isRequired,toggle:li.func.isRequired};function YC(){const{artworks:n,isLoading:e,hasError:t}=J0(),[r,a]=Me.useState(!1),[o,u]=Od(Ks);return u||e?ye.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:ye.jsx(Dd,{})}):o?t?ye.jsx("h2",{children:"There was an error, Peter. Go fix it"}):ye.jsx(ye.Fragment,{children:ye.jsxs("div",{className:"grid grid-rows-auto gap-4 w-full items-center px-12 pt-4",children:[ye.jsxs("div",{className:"flex flex-row gap-4",children:[ye.jsx("div",{className:"w-72 border border-gray-200 bg-gray-50 rounded items-center justify-center",children:ye.jsxs("div",{className:"flex items-center",children:[ye.jsx(f3,{isOn:r,toggle:()=>a(h=>!h)}),ye.jsx("label",{className:"ms-2 text-sm",children:"Show titles"})]})}),ye.jsxs("div",{className:"border border-gray-200 bg-gray-50 rounded flex justify-between w-full pl-8 pr-4 items-center",children:[ye.jsxs("div",{className:"flex gap-2",children:[ye.jsxs("p",{className:"flex flex-grow",children:["You have ",n.length," ",n.length===1?"artwork":"artworks"," in Tome."]}),ye.jsxs("p",{children:["See them",ye.jsx("span",{className:"text-blue-500",children:ye.jsxs(Ll,{to:"/tags",children:[" "," by tag"]})})]})]}),ye.jsx(Ll,{to:"/new",children:ye.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add an artwork"})})]})]}),ye.jsx("div",{className:"grid gap-4 xs:grid-cols-1  sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 w-full",children:n.map(h=>ye.jsx("div",{className:"flex flex-col gap-2 items-center border border-gray-300 w-full rounded m-auto",children:ye.jsx(Ll,{to:`/artwork/${h.id}`,className:"w-full",children:ye.jsxs("div",{className:"w-full flex flex-col flex-shrink-0",children:[ye.jsx("div",{className:"w-full h-60 flex-shrink-0",children:ye.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover"})}),r?ye.jsx(h3,{children:ye.jsx("div",{className:"p-4 truncate",children:h.title})}):""]})})},h.id))})]})}):ye.jsx("p",{children:"Please sign in to view your artworks."})}function QC(){return ye.jsxs("div",{className:"flex flex-col min-h-screen w-full p-0 border-red-500",children:[ye.jsx(X0,{className:"w-full"}),ye.jsx("div",{className:"flex-grow w-full",children:ye.jsx(YC,{className:"w-full"})})]})}function d3({isOpen:n,onClose:e,children:t,onNext:r,onPrevious:a,hasNext:o,hasPrevious:u}){const[h,f]=Me.useState(!1),m=Me.useRef(null);if(!n)return null;const b=()=>{f(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>f(!1),4e3)};return ye.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",onMouseMove:b,onMouseLeave:()=>f(!1),children:ye.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[t||ye.jsx("p",{className:"text-white",children:"Hm, there's no artwork to see here"}),h&&ye.jsxs("div",{className:"fixed inset-0 z-51 w-full h-full",children:[ye.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Close"}),o&&ye.jsx("button",{onClick:r,disabled:!o,className:"absolute bottom-4 right-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Next"}),u&&ye.jsx("button",{onClick:a,disabled:!u,className:"absolute bottom-4 left-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Previous"})]})]})})}d3.propTypes={isOpen:li.bool.isRequired,onClose:li.func.isRequired,children:li.node,onNext:li.func,onPrevious:li.func,hasNext:li.bool,hasPrevious:li.bool};function XC(){var w;const n=Ks.currentUser,{id:e}=Y0(),{artworks:t}=J0(),[r,a]=Me.useState(!1),o=$0(),u=t.find(P=>P.id===e);if(!u)return ye.jsx("p",{children:"Me no find any artworks."});const h=async()=>{n&&(await Y8(Kh(Sc,"accounts",n.uid,"artworks",e)),o("/"))},f=t.findIndex(P=>P.id===e),m=f>0,b=f<t.length-1,A=()=>m&&o(`/artwork/${t[f-1].id}`),T=()=>b&&o(`/artwork/${t[f+1].id}`);return ye.jsxs(ye.Fragment,{children:[ye.jsxs("div",{className:"flex flex-col min-h-screen w-full p-0",children:[ye.jsx(X0,{}),ye.jsxs("div",{className:"flex flex-row gap-8 h-full p-20",children:[ye.jsx("div",{className:"",children:ye.jsx("img",{src:u.image,alt:`An artwork titled ${u.title} done in ${u.medium}`,className:"object-contain h-full"})}),ye.jsxs("div",{className:"flex flex-col gap-4 w-1/2",children:[ye.jsx("h1",{className:"text-4xl",children:u.title}),ye.jsx("p",{children:u.medium}),ye.jsx("p",{children:`Added ${(w=u.createdAt)==null?void 0:w.toDate().toLocaleString()}`}),ye.jsx("h3",{children:"Tags"}),ye.jsx("p",{children:u.tags}),ye.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:ye.jsxs("div",{className:"w-full flex flex-row gap-2 p-2 justify-center",children:[ye.jsx(Ll,{to:`/edit/${u.id}`,children:ye.jsx("button",{className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Edit"})}),ye.jsx("button",{onClick:()=>h(),className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Delete"}),ye.jsx("button",{onClick:()=>a(!0),className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Fullscreen"})]})})]})]})]}),ye.jsx(d3,{isOpen:r,onClose:()=>a(!1),onNext:T,onPrevious:A,hasNext:b,hasPrevious:m,children:ye.jsx("img",{src:u.image,alt:"Fullscreen artwork",className:"w-full h-full object-contain"})})]})}function p3({selectedValue:n,onChange:e}){const[t,r]=Me.useState(!1),[a,o]=Me.useState(n),u=["Oil on canvas","Oil on linen","Oil on panel","Oil on paper","Oil on canvas mounted on panel","Watercolor","Ink wash","Gouache","Graphite"],h=f=>{o(f),e({target:{value:f}})};return Me.useEffect(()=>{r(!1)},[a]),ye.jsxs("div",{className:"relative w-full",children:[ye.jsxs("button",{type:"button",onClick:()=>r(!t),className:"inline-flex w-full justify-between rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-gray-300 ring-inset hover:bg-gray-50",children:[a||"Choose a medium",ye.jsx("svg",{className:"-mr-1 size-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",children:ye.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]}),t&&ye.jsx("div",{className:"absolute left-0 z-10 mt-2 w-full rounded-md bg-white border border-gray-200 shadow-lg",children:ye.jsx("ul",{className:"py-1 text-sm text-gray-700",children:u.map((f,m)=>ye.jsx("li",{children:ye.jsx("button",{type:"button",onClick:()=>{h(f)},className:"block w-full px-4 py-2 text-left hover:bg-gray-100",children:f})},m))})})]})}p3.propTypes={selectedValue:li.string.isRequired,onChange:li.func.isRequired};function Bg({existingData:n}){const e=Ks.currentUser,{id:t}=Y0(),r=$0(),[a,o]=Me.useState(null),[u,h]=Me.useState(null),[f,m]=Me.useState(""),[b,A]=Me.useState(""),[T,w]=Me.useState(""),[P,D]=Me.useState(!1);Me.useEffect(()=>{n&&(m(n.title||""),A(n.medium||""),w(n.tags||""),h(n.image||""))},[n]);function V(z){const Z=z.target.files[0];Z&&(o(Z),h(URL.createObjectURL(Z)))}const k=async z=>{z.preventDefault();try{let Z=u,he;if(a){D(!0);const H=oR(dR,`artworks/${e.uid}/${a.name}`),C=sR(H,a);await new Promise((O,W)=>{C.on("state_changed",null,R=>W(R),async()=>{Z=await aR(C.snapshot.ref),h(Z),O()})})}const de={title:f,medium:b,tags:T,image:Z,updatedAt:new Date};if(t)await Xp(Kh(Sc,"accounts",e.uid,"artworks",t),de,{merge:!0}),he=t,console.log("Document updated:",t);else{const H=await Q8(w0(Sc,"accounts",e.uid,"artworks"),{...de,createdAt:new Date});he=H.id,console.log("Doc written, id:",H.id),m(""),A(""),o(null),h(null)}const De=T?T.split(",").map(H=>H.trim().toLowerCase()):[];for(const H of De){if(!H)continue;const C=Kh(Sc,"accounts",e.uid,"tags",H),O=await T4(C),W=O.data();O.exists()?await Xp(C,{artworks:Array.from(new Set([...W.artworks,he]))},{merge:!0}):await Xp(C,{name:H,artworks:[he]})}r("/")}catch(Z){console.error("There was a problem:",Z)}finally{D(!1)}};return ye.jsx(ye.Fragment,{children:ye.jsx("div",{className:"flex items-center justify-center bg-gray-100 w-full h-svh",children:ye.jsx("div",{className:"bg-white shadow-md rounded w-[80%] h-[80%] bg-clip-border overflow-hidden",children:ye.jsxs("form",{onSubmit:k,className:"flex flex-row w-full h-full md:flex-row sm:flex-col xs:flex-col",children:[ye.jsxs("div",{className:"flex items-center flex-col justify-center w-1/2 sm:w-full h-full bg-blue-200",children:[ye.jsx("img",{src:u}),ye.jsx("button",{className:"border border-gray-300 py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:ye.jsx("input",{type:"file",onChange:V,className:"border text-blue-600 flex justify-center w-full"})})]}),ye.jsxs("div",{className:"w-1/2 space-y-8 p-8 flex flex-col justify-between sm:w-full sm:h-1/2",children:[ye.jsxs("div",{className:"flex flex-col gap-x-6 gap-y-8 sm:grid-cols-1",children:[ye.jsxs("div",{className:"w-full space-y-6",children:[ye.jsx("label",{htmlFor:"artwork-title",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Title"}),ye.jsx("input",{type:"text",id:"artwork-title",value:f,onChange:z=>m(z.target.value),className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other"})]}),ye.jsx("div",{className:"grid grid-cols-1 gap-y-8 sm:grid-cols-1",children:ye.jsxs("div",{className:"w-full space-y-6",children:[ye.jsx("label",{htmlFor:"artwork-medium",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Medium"}),ye.jsx(p3,{selectedValue:b,onChange:z=>A(z.target.value)})]})}),ye.jsxs("div",{className:"w-full space-y-6",children:[ye.jsx("label",{htmlFor:"artwork-tags",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Tags"}),ye.jsx("input",{type:"text",id:"artwork-tags",value:T,onChange:z=>w(z.target.value),className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other"})]})]}),ye.jsxs("div",{className:"flex flex-row w-full gap-4",children:[ye.jsx("button",{type:"button",onClick:()=>{t||(m(""),A(""),w(""),o(null),h(null)),r("/")},className:"bg-white border border-gray-300 hover:bg-blue-200 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Cancel"}),ye.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:P,children:P?"Uploading...":"Save artwork"})]})]})]})})})})}Bg.propTypes={existingData:li.shape({title:li.string.isRequired,medium:li.string,image:li.string})};function JC(){const[n]=Od(Ks),{id:e}=Y0(),[t,r]=Me.useState(null);return Me.useEffect(()=>{if(!n){console.log("No authenticated user. Skipping Firestore request.");return}(async()=>{try{const o=Kh(Sc,"accounts",n.uid,"artworks",e),u=await T4(o);u.exists()?r(u.data()):console.log("No such document")}catch(o){console.error("Error fecthing document:",o)}})()},[n,e]),console.log(t),ye.jsx(ye.Fragment,{children:t?ye.jsx(Bg,{existingData:t}):ye.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:ye.jsx(Dd,{})})})}const ZC="data:image/svg+xml,%3csvg%20width='57'%20height='61'%20viewBox='0%200%2057%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_30_127)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.4758%201.13986C26.9956%20-0.379955%2029.4597%20-0.379955%2030.9795%201.13986L43.0878%2013.2481C44.6076%2014.7679%2044.6076%2017.2321%2043.0878%2018.7519L30.9795%2030.8601C29.4597%2032.38%2026.9956%2032.38%2025.4758%2030.8601L13.3675%2018.7519C11.8477%2017.2321%2011.8477%2014.7679%2013.3675%2013.2481L25.4758%201.13986ZM29.8788%202.24062C28.9669%201.32872%2027.4884%201.32872%2026.5765%202.24062L20.642%208.1752C27.0348%206.76875%2033.9881%208.55145%2038.96%2013.5233C40.1954%2014.7588%2041.234%2016.1165%2042.0756%2017.5577C42.8979%2016.6409%2042.8684%2015.2302%2041.987%2014.3489L29.8788%202.24062ZM40.9356%2018.7026C40.1257%2017.2402%2039.1003%2015.8651%2037.8592%2014.6241C32.5772%209.342%2024.8683%207.9658%2018.3217%2010.4955L14.4683%2014.3489C13.5564%2015.2608%2013.5564%2016.7392%2014.4683%2017.6511L15.0218%2018.2046C15.1112%2018.1111%2015.2019%2018.0183%2015.2938%2017.9263C21.8291%2011.3911%2032.4248%2011.3911%2038.96%2017.9263C39.4254%2018.3917%2039.8577%2018.8777%2040.2568%2019.3814L40.9356%2018.7026ZM19.4255%2022.6084L16.1229%2019.3057C16.212%2019.212%2016.3026%2019.1191%2016.3946%2019.0271C22.3219%2013.0998%2031.9319%2013.0998%2037.8592%2019.0271C38.3254%2019.4933%2038.7549%2019.9822%2039.1478%2020.4904L38.0995%2021.5386C32.7479%2017.0245%2024.7381%2017.2881%2019.6969%2022.3293C19.6048%2022.4214%2019.5144%2022.5144%2019.4255%2022.6084ZM36.9942%2022.6439C32.2549%2018.7351%2025.2305%2018.9971%2020.7976%2023.4301C20.7055%2023.5221%2020.6152%2023.6153%2020.5268%2023.7096L23.8297%2027.0125C23.9177%2026.9179%2024.0077%2026.8244%2024.0998%2026.7323C27.1253%2023.7069%2031.5367%2022.912%2035.2904%2024.3478L36.9942%2022.6439ZM26.5765%2029.7594L24.9313%2028.1141C25.0186%2028.019%2025.1084%2027.9253%2025.2006%2027.8331C27.5997%2025.434%2031.0218%2024.6814%2034.0627%2025.5754L29.8788%2029.7594C28.9669%2030.6713%2027.4884%2030.6713%2026.5765%2029.7594Z'%20fill='%23666666'/%3e%3c/g%3e%3cpath%20d='M48.7914%2060.424V49.224H56.3434V51.336H51.1434V58.312H56.4554V60.424H48.7914ZM49.9114%2055.736V53.688H55.5754V55.736H49.9114Z'%20fill='black'/%3e%3cpath%20d='M30.9826%2060.424V49.224H33.1746L37.2386%2055.848L35.8146%2055.832L39.9426%2049.224H42.0546V60.424H39.7026V56.632C39.7026%2055.6613%2039.7239%2054.7867%2039.7666%2054.008C39.8199%2053.2293%2039.9053%2052.4613%2040.0226%2051.704L40.2946%2052.456L37.0146%2057.528H35.9426L32.7426%2052.488L32.9986%2051.704C33.1266%2052.4187%2033.2119%2053.1547%2033.2546%2053.912C33.3079%2054.6693%2033.3346%2055.576%2033.3346%2056.632V60.424H30.9826Z'%20fill='black'/%3e%3cpath%20d='M19.2901%2060.584C18.4688%2060.584%2017.7061%2060.44%2017.0021%2060.152C16.3088%2059.864%2015.7061%2059.464%2015.1941%2058.952C14.6928%2058.4293%2014.2981%2057.816%2014.0101%2057.112C13.7328%2056.408%2013.5941%2055.6347%2013.5941%2054.792C13.5941%2053.96%2013.7328%2053.192%2014.0101%2052.488C14.2981%2051.784%2014.6928%2051.1707%2015.1941%2050.648C15.7061%2050.1253%2016.3088%2049.72%2017.0021%2049.432C17.7061%2049.144%2018.4688%2049%2019.2901%2049C20.1114%2049%2020.8634%2049.144%2021.5461%2049.432C22.2395%2049.72%2022.8421%2050.1253%2023.3541%2050.648C23.8661%2051.1707%2024.2608%2051.7893%2024.5381%2052.504C24.8261%2053.208%2024.9701%2053.9707%2024.9701%2054.792C24.9701%2055.624%2024.8261%2056.392%2024.5381%2057.096C24.2608%2057.8%2023.8661%2058.4133%2023.3541%2058.936C22.8421%2059.4587%2022.2395%2059.864%2021.5461%2060.152C20.8634%2060.44%2020.1114%2060.584%2019.2901%2060.584ZM19.2901%2058.312C19.7594%2058.312%2020.1914%2058.2267%2020.5861%2058.056C20.9808%2057.8747%2021.3221%2057.6293%2021.6101%2057.32C21.9088%2057%2022.1381%2056.6267%2022.2981%2056.2C22.4581%2055.7733%2022.5381%2055.304%2022.5381%2054.792C22.5381%2054.2907%2022.4581%2053.8267%2022.2981%2053.4C22.1381%2052.9733%2021.9088%2052.6%2021.6101%2052.28C21.3221%2051.96%2020.9808%2051.7147%2020.5861%2051.544C20.1914%2051.3627%2019.7594%2051.272%2019.2901%2051.272C18.8208%2051.272%2018.3834%2051.3627%2017.9781%2051.544C17.5834%2051.7147%2017.2368%2051.96%2016.9381%2052.28C16.6501%2052.5893%2016.4261%2052.9627%2016.2661%2053.4C16.1061%2053.8267%2016.0261%2054.296%2016.0261%2054.808C16.0261%2055.48%2016.1648%2056.0827%2016.4421%2056.616C16.7301%2057.1387%2017.1141%2057.5547%2017.5941%2057.864C18.0848%2058.1627%2018.6501%2058.312%2019.2901%2058.312Z'%20fill='black'/%3e%3cpath%20d='M3.232%2060.424V51.384H0V49.224H8.992V51.384H5.632V60.424H3.232Z'%20fill='black'/%3e%3cdefs%3e%3cclipPath%20id='clip0_30_127'%3e%3crect%20width='32'%20height='32'%20fill='white'%20transform='translate(12.2277)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function eI(){const[n,e]=Me.useState(""),[t,r]=Me.useState(""),[a,o]=Me.useState(!0),[u,h]=Me.useState(""),[f,m]=Me.useState(!1),b=async A=>{if(A.preventDefault(),h(""),m(!1),!n.trim()||!t.trim()){h("Error: Email and password cannot be empty.");return}try{let T;if(a){T=await ES(Ks,n,t);const w=T.user,P=f4(),D={useruid:w.uid,email:w.email,createdAt:new Date};await Xp(Kh(w0(P,"accounts"),w.uid),D),console.log("Successful signup: ",w),o(!1),window.location.reload()}else T=await SS(Ks,n,t),console.log("Successful sign in: ",T.user)}catch(T){T.code==="auth/email-already-in-use"&&(h("This email is already in use."),m(!0)),h(`Whoops, there was a problem: ${T.message}`)}};return ye.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-[url(././assets/Dec022023Photoshoot-009.jpg)] bg-cover bg-center w-full h-svh",children:ye.jsxs("div",{className:"shadow-md rounded-t-lg border-gray-300 bg-clip-border overflow-hidden",children:[ye.jsx("div",{className:"flex items-center justify-center w-full h-40 bg-blue-200",children:ye.jsx("img",{src:ZC,alt:"Tome Logo",className:"sm"})}),ye.jsxs("form",{onSubmit:b,className:"px-8 pt-6 pb-8 mb-4 bg-white rounded-b-lg",children:[ye.jsx("h2",{className:"text-xl font-semibold pt-4 pb-8",children:a?"Store your artworks":"Sign into an existing account"}),ye.jsxs("div",{className:"mb-6",children:[ye.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",htmlFor:"email",children:"Email"}),ye.jsx("input",{type:"text",id:"email",className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other",placeholder:"Your email",value:n,onChange:A=>e(A.target.value)})]}),ye.jsxs("div",{className:"mb-6",children:[ye.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",htmlFor:"password",children:"Password"}),ye.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other",placeholder:"6+ character password",value:t,onChange:A=>r(A.target.value)})]}),u&&ye.jsxs("div",{className:"text-sm border border-red-300 text-red-700 bg-red-50 p-4 rounded-md mb-4",children:[u,f&&ye.jsxs("p",{className:"mt-2",children:["Did you mean to"," ",ye.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-blue-400",children:"sign in"})," ","instead?"]})]}),ye.jsxs("div",{className:"flex items-center justify-between gap-8",children:[ye.jsxs("p",{className:"text-sm",children:[a?"Already have an account?":"Don't have an account?",ye.jsx("button",{type:"button",className:"text-blue-500 hover:underline ml-1",onClick:()=>o(!a),children:a?"Sign In":"Create one"})]}),ye.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:a?"Create account":"Sign in"})]})]})]})})}function tI(){const{tags:n,taggedArtworks:e,isLoading:t,hasError:r}=J0();return t?ye.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:ye.jsx(Dd,{})}):r?ye.jsx("div",{children:"Error loading tags."}):ye.jsxs("div",{className:"flex h-screen w-full flex-col",children:[ye.jsx(X0,{}),ye.jsx("div",{className:"flex flex-col h-screen w-full p-20",children:ye.jsxs("div",{children:[ye.jsxs("h1",{className:"flex text-2xl font-bold w-full mb-8",children:["Tags  ",ye.jsxs("span",{className:"text-gray-400",children:[n.length," "]})]}),n.map(a=>{var o;return ye.jsx(Ll,{to:`/tag/${a.id}`,children:ye.jsxs("div",{className:"flex flex-row border border-gray-200 rounded p-2 my-2 w-full",children:[ye.jsx("h2",{className:"text-lg font-semibold w-48 text-left",children:a.name}),ye.jsx("div",{className:"flex flex-row justify-center gap-2",children:e[a.id]&&((o=e[a.id])==null?void 0:o.length)>0?e[a.id].map(u=>u?ye.jsx("div",{children:ye.jsx("img",{src:u.image,alt:u.title,className:"w-16 h-16 object-cover rounded-md shadow"})},u.id):null):ye.jsx("p",{children:"This tag does not have any artworks"})})]},a.id)},a.id)})]})})]})}const nI="modulepreload",rI=function(n){return"/"+n},R_={},w1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(t.map(f=>{if(f=rI(f),f in R_)return;R_[f]=!0;const m=f.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const A=document.createElement("link");if(A.rel=m?"stylesheet":nI,m||(A.as="script"),A.crossOrigin="",A.href=f,h&&A.setAttribute("nonce",h),document.head.appendChild(A),m)return new Promise((T,w)=>{A.addEventListener("load",T),A.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Rn(n){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(n)}var Gi=Uint8Array,Gs=Uint16Array,qg=Int32Array,Z0=new Gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e2=new Gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A1=new Gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m3=function(n,e){for(var t=new Gs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new qg(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},g3=m3(Z0,2),v3=g3.b,E1=g3.r;v3[28]=258,E1[258]=28;var y3=m3(e2,0),iI=y3.b,C_=y3.r,S1=new Gs(32768);for(var Wn=0;Wn<32768;++Wn){var gu=(Wn&43690)>>1|(Wn&21845)<<1;gu=(gu&52428)>>2|(gu&13107)<<2,gu=(gu&61680)>>4|(gu&3855)<<4,S1[Wn]=((gu&65280)>>8|(gu&255)<<8)>>1}var Fo=function(n,e,t){for(var r=n.length,a=0,o=new Gs(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new Gs(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var h;if(t){h=new Gs(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],b=e-n[a],A=u[n[a]-1]++<<b,T=A|(1<<b)-1;A<=T;++A)h[S1[A]>>f]=m}else for(h=new Gs(r),a=0;a<r;++a)n[a]&&(h[a]=S1[u[n[a]-1]++]>>15-n[a]);return h},ju=new Gi(288);for(var Wn=0;Wn<144;++Wn)ju[Wn]=8;for(var Wn=144;Wn<256;++Wn)ju[Wn]=9;for(var Wn=256;Wn<280;++Wn)ju[Wn]=7;for(var Wn=280;Wn<288;++Wn)ju[Wn]=8;var _d=new Gi(32);for(var Wn=0;Wn<32;++Wn)_d[Wn]=5;var sI=Fo(ju,9,0),aI=Fo(ju,9,1),oI=Fo(_d,5,0),lI=Fo(_d,5,1),Um=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ha=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},jm=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},zg=function(n){return(n+7)/8|0},_3=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Gi(n.subarray(e,t))},uI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ka=function(n,e,t){var r=new Error(e||uI[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ka),!t)throw r;return r},cI=function(n,e,t,r){var a=n.length,o=0;if(!a||e.f&&!e.l)return t||new Gi(0);var u=!t,h=u||e.i!=2,f=e.i;u&&(t=new Gi(a*3));var m=function(Ye){var it=t.length;if(Ye>it){var tt=new Gi(Math.max(it*2,Ye));tt.set(t),t=tt}},b=e.f||0,A=e.p||0,T=e.b||0,w=e.l,P=e.d,D=e.m,V=e.n,k=a*8;do{if(!w){b=Ha(n,A,1);var z=Ha(n,A+1,3);if(A+=3,z)if(z==1)w=aI,P=lI,D=9,V=5;else if(z==2){var De=Ha(n,A,31)+257,H=Ha(n,A+10,15)+4,C=De+Ha(n,A+5,31)+1;A+=14;for(var O=new Gi(C),W=new Gi(19),R=0;R<H;++R)W[A1[R]]=Ha(n,A+R*3,7);A+=H*3;for(var L=Um(W),U=(1<<L)-1,se=Fo(W,L,1),R=0;R<C;){var ke=se[Ha(n,A,U)];A+=ke&15;var Z=ke>>4;if(Z<16)O[R++]=Z;else{var le=0,Ae=0;for(Z==16?(Ae=3+Ha(n,A,3),A+=2,le=O[R-1]):Z==17?(Ae=3+Ha(n,A,7),A+=3):Z==18&&(Ae=11+Ha(n,A,127),A+=7);Ae--;)O[R++]=le}}var ce=O.subarray(0,De),Le=O.subarray(De);D=Um(ce),V=Um(Le),w=Fo(ce,D,1),P=Fo(Le,V,1)}else Ka(1);else{var Z=zg(A)+4,he=n[Z-4]|n[Z-3]<<8,de=Z+he;if(de>a){f&&Ka(0);break}h&&m(T+he),t.set(n.subarray(Z,de),T),e.b=T+=he,e.p=A=de*8,e.f=b;continue}if(A>k){f&&Ka(0);break}}h&&m(T+131072);for(var X=(1<<D)-1,Te=(1<<V)-1,F=A;;F=A){var le=w[jm(n,A)&X],Y=le>>4;if(A+=le&15,A>k){f&&Ka(0);break}if(le||Ka(2),Y<256)t[T++]=Y;else if(Y==256){F=A,w=null;break}else{var J=Y-254;if(Y>264){var R=Y-257,ie=Z0[R];J=Ha(n,A,(1<<ie)-1)+v3[R],A+=ie}var ae=P[jm(n,A)&Te],Ee=ae>>4;ae||Ka(3),A+=ae&15;var Le=iI[Ee];if(Ee>3){var ie=e2[Ee];Le+=jm(n,A)&(1<<ie)-1,A+=ie}if(A>k){f&&Ka(0);break}h&&m(T+131072);var we=T+J;if(T<Le){var Ne=o-Le,He=Math.min(Le,we);for(Ne+T<0&&Ka(3);T<He;++T)t[T]=r[Ne+T]}for(;T<we;++T)t[T]=t[T-Le]}}e.l=w,e.p=F,e.b=T,e.f=b,w&&(b=1,e.m=D,e.d=P,e.n=V)}while(!b);return T!=t.length&&u?_3(t,0,T):t.subarray(0,T)},Sl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Wf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Vm=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:w3,l:0};if(a==1){var u=new Gi(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(de,De){return de.f-De.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],m=0,b=1,A=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};b!=a-1;)h=t[t[m].f<t[A].f?m++:A++],f=t[m!=b&&t[m].f<t[A].f?m++:A++],t[b++]={s:-1,f:h.f+f.f,l:h,r:f};for(var T=o[0].s,r=1;r<a;++r)o[r].s>T&&(T=o[r].s);var w=new Gs(T+1),P=T1(t[b-1],w,0);if(P>e){var r=0,D=0,V=P-e,k=1<<V;for(o.sort(function(De,H){return w[H.s]-w[De.s]||De.f-H.f});r<a;++r){var z=o[r].s;if(w[z]>e)D+=k-(1<<P-w[z]),w[z]=e;else break}for(D>>=V;D>0;){var Z=o[r].s;w[Z]<e?D-=1<<e-w[Z]++-1:++r}for(;r>=0&&D;--r){var he=o[r].s;w[he]==e&&(--w[he],++D)}P=e}return{t:new Gi(w),l:P}},T1=function(n,e,t){return n.s==-1?Math.max(T1(n.l,e,t+1),T1(n.r,e,t+1)):e[n.s]=t},I_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Gs(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[h]}return{c:t.subarray(0,r),n:e}},$f=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},b3=function(n,e,t){var r=t.length,a=zg(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},L_=function(n,e,t,r,a,o,u,h,f,m,b){Sl(e,b++,t),++a[256];for(var A=Vm(a,15),T=A.t,w=A.l,P=Vm(o,15),D=P.t,V=P.l,k=I_(T),z=k.c,Z=k.n,he=I_(D),de=he.c,De=he.n,H=new Gs(19),C=0;C<z.length;++C)++H[z[C]&31];for(var C=0;C<de.length;++C)++H[de[C]&31];for(var O=Vm(H,7),W=O.t,R=O.l,L=19;L>4&&!W[A1[L-1]];--L);var U=m+5<<3,se=$f(a,ju)+$f(o,_d)+u,ke=$f(a,T)+$f(o,D)+u+14+3*L+$f(H,W)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&U<=se&&U<=ke)return b3(e,b,n.subarray(f,f+m));var le,Ae,ce,Le;if(Sl(e,b,1+(ke<se)),b+=2,ke<se){le=Fo(T,w,0),Ae=T,ce=Fo(D,V,0),Le=D;var X=Fo(W,R,0);Sl(e,b,Z-257),Sl(e,b+5,De-1),Sl(e,b+10,L-4),b+=14;for(var C=0;C<L;++C)Sl(e,b+3*C,W[A1[C]]);b+=3*L;for(var Te=[z,de],F=0;F<2;++F)for(var Y=Te[F],C=0;C<Y.length;++C){var J=Y[C]&31;Sl(e,b,X[J]),b+=W[J],J>15&&(Sl(e,b,Y[C]>>5&127),b+=Y[C]>>12)}}else le=sI,Ae=ju,ce=oI,Le=_d;for(var C=0;C<h;++C){var ie=r[C];if(ie>255){var J=ie>>18&31;Wf(e,b,le[J+257]),b+=Ae[J+257],J>7&&(Sl(e,b,ie>>23&31),b+=Z0[J]);var ae=ie&31;Wf(e,b,ce[ae]),b+=Le[ae],ae>3&&(Wf(e,b,ie>>5&8191),b+=e2[ae])}else Wf(e,b,le[ie]),b+=Ae[ie]}return Wf(e,b,le[256]),b+Ae[256]},hI=new qg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),w3=new Gi(0),fI=function(n,e,t,r,a,o){var u=o.z||n.length,h=new Gi(r+u+5*(1+Math.ceil(u/7e3))+a),f=h.subarray(r,h.length-a),m=o.l,b=(o.r||0)&7;if(e){b&&(f[0]=o.r>>3);for(var A=hI[e-1],T=A>>13,w=A&8191,P=(1<<t)-1,D=o.p||new Gs(32768),V=o.h||new Gs(P+1),k=Math.ceil(t/3),z=2*k,Z=function(_t){return(n[_t]^n[_t+1]<<k^n[_t+2]<<z)&P},he=new qg(25e3),de=new Gs(288),De=new Gs(32),H=0,C=0,O=o.i||0,W=0,R=o.w||0,L=0;O+2<u;++O){var U=Z(O),se=O&32767,ke=V[U];if(D[se]=ke,V[U]=se,R<=O){var le=u-O;if((H>7e3||W>24576)&&(le>423||!m)){b=L_(n,f,0,he,de,De,C,W,L,O-L,b),W=H=C=0,L=O;for(var Ae=0;Ae<286;++Ae)de[Ae]=0;for(var Ae=0;Ae<30;++Ae)De[Ae]=0}var ce=2,Le=0,X=w,Te=se-ke&32767;if(le>2&&U==Z(O-Te))for(var F=Math.min(T,le)-1,Y=Math.min(32767,O),J=Math.min(258,le);Te<=Y&&--X&&se!=ke;){if(n[O+ce]==n[O+ce-Te]){for(var ie=0;ie<J&&n[O+ie]==n[O+ie-Te];++ie);if(ie>ce){if(ce=ie,Le=Te,ie>F)break;for(var ae=Math.min(Te,ie-2),Ee=0,Ae=0;Ae<ae;++Ae){var we=O-Te+Ae&32767,Ne=D[we],He=we-Ne&32767;He>Ee&&(Ee=He,ke=we)}}}se=ke,ke=D[se],Te+=se-ke&32767}if(Le){he[W++]=268435456|E1[ce]<<18|C_[Le];var Ye=E1[ce]&31,it=C_[Le]&31;C+=Z0[Ye]+e2[it],++de[257+Ye],++De[it],R=O+ce,++H}else he[W++]=n[O],++de[n[O]]}}for(O=Math.max(O,R);O<u;++O)he[W++]=n[O],++de[n[O]];b=L_(n,f,m,he,de,De,C,W,L,O-L,b),m||(o.r=b&7|f[b/8|0]<<3,b-=7,o.h=V,o.p=D,o.i=O,o.w=R)}else{for(var O=o.w||0;O<u+m;O+=65535){var tt=O+65535;tt>=u&&(f[b/8|0]=m,tt=u),b=b3(f,b+1,n.subarray(O,tt))}o.i=u}return _3(h,0,r+zg(b)+a)},A3=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},dI=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Gi(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return fI(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},E3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},pI=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=A3();a.p(e.dictionary),E3(n,2,a.d())}},mI=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ka(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ka(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function N1(n,e){e||(e={});var t=A3();t.p(n);var r=dI(n,e,e.dictionary?6:2,4);return pI(r,e),E3(r,r.length-4,t.d()),r}function gI(n,e){return cI(n.subarray(mI(n),-4),{i:2},e,e)}var vI=typeof TextDecoder<"u"&&new TextDecoder,yI=0;try{vI.decode(w3,{stream:!0}),yI=1}catch{}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fm(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Un={log:Fm,warn:function(n){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):Fm.call(null,arguments))},error:function(n){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):Fm(n))}};function Bm(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){bc(r.response,e,t)},r.onerror=function(){Un.error("could not download file")},r.send()}function P_(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Up(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var od,x1,bc=Pt.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Pt.URL||Pt.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?P_(a.href)?Bm(n,e,t):Up(a,a.target="_blank"):Up(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Up(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(P_(n))Bm(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Up(r)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Rn(o)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Bm(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(Pt.HTMLElement)||Pt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=u?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=b:location=b,r=null},h.readAsDataURL(n)}else{var f=Pt.URL||Pt.webkitURL,m=f.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+h+f+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qm(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=Vi(t,r,a,o,e[0],7,-680876936),o=Vi(o,t,r,a,e[1],12,-389564586),a=Vi(a,o,t,r,e[2],17,606105819),r=Vi(r,a,o,t,e[3],22,-1044525330),t=Vi(t,r,a,o,e[4],7,-176418897),o=Vi(o,t,r,a,e[5],12,1200080426),a=Vi(a,o,t,r,e[6],17,-1473231341),r=Vi(r,a,o,t,e[7],22,-45705983),t=Vi(t,r,a,o,e[8],7,1770035416),o=Vi(o,t,r,a,e[9],12,-1958414417),a=Vi(a,o,t,r,e[10],17,-42063),r=Vi(r,a,o,t,e[11],22,-1990404162),t=Vi(t,r,a,o,e[12],7,1804603682),o=Vi(o,t,r,a,e[13],12,-40341101),a=Vi(a,o,t,r,e[14],17,-1502002290),t=Fi(t,r=Vi(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Fi(o,t,r,a,e[6],9,-1069501632),a=Fi(a,o,t,r,e[11],14,643717713),r=Fi(r,a,o,t,e[0],20,-373897302),t=Fi(t,r,a,o,e[5],5,-701558691),o=Fi(o,t,r,a,e[10],9,38016083),a=Fi(a,o,t,r,e[15],14,-660478335),r=Fi(r,a,o,t,e[4],20,-405537848),t=Fi(t,r,a,o,e[9],5,568446438),o=Fi(o,t,r,a,e[14],9,-1019803690),a=Fi(a,o,t,r,e[3],14,-187363961),r=Fi(r,a,o,t,e[8],20,1163531501),t=Fi(t,r,a,o,e[13],5,-1444681467),o=Fi(o,t,r,a,e[2],9,-51403784),a=Fi(a,o,t,r,e[7],14,1735328473),t=Bi(t,r=Fi(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Bi(o,t,r,a,e[8],11,-2022574463),a=Bi(a,o,t,r,e[11],16,1839030562),r=Bi(r,a,o,t,e[14],23,-35309556),t=Bi(t,r,a,o,e[1],4,-1530992060),o=Bi(o,t,r,a,e[4],11,1272893353),a=Bi(a,o,t,r,e[7],16,-155497632),r=Bi(r,a,o,t,e[10],23,-1094730640),t=Bi(t,r,a,o,e[13],4,681279174),o=Bi(o,t,r,a,e[0],11,-358537222),a=Bi(a,o,t,r,e[3],16,-722521979),r=Bi(r,a,o,t,e[6],23,76029189),t=Bi(t,r,a,o,e[9],4,-640364487),o=Bi(o,t,r,a,e[12],11,-421815835),a=Bi(a,o,t,r,e[15],16,530742520),t=qi(t,r=Bi(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=qi(o,t,r,a,e[7],10,1126891415),a=qi(a,o,t,r,e[14],15,-1416354905),r=qi(r,a,o,t,e[5],21,-57434055),t=qi(t,r,a,o,e[12],6,1700485571),o=qi(o,t,r,a,e[3],10,-1894986606),a=qi(a,o,t,r,e[10],15,-1051523),r=qi(r,a,o,t,e[1],21,-2054922799),t=qi(t,r,a,o,e[8],6,1873313359),o=qi(o,t,r,a,e[15],10,-30611744),a=qi(a,o,t,r,e[6],15,-1560198380),r=qi(r,a,o,t,e[13],21,1309151649),t=qi(t,r,a,o,e[4],6,-145523070),o=qi(o,t,r,a,e[11],10,-1120210379),a=qi(a,o,t,r,e[2],15,718787259),r=qi(r,a,o,t,e[9],21,-343485551),n[0]=Su(t,n[0]),n[1]=Su(r,n[1]),n[2]=Su(a,n[2]),n[3]=Su(o,n[3])}function t2(n,e,t,r,a,o){return e=Su(Su(e,n),Su(r,o)),Su(e<<a|e>>>32-a,t)}function Vi(n,e,t,r,a,o,u){return t2(e&t|~e&r,n,e,a,o,u)}function Fi(n,e,t,r,a,o,u){return t2(e&r|t&~r,n,e,a,o,u)}function Bi(n,e,t,r,a,o,u){return t2(e^t^r,n,e,a,o,u)}function qi(n,e,t,r,a,o,u){return t2(t^(e|~r),n,e,a,o,u)}function T3(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)qm(r,_I(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(qm(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,qm(r,a),r}function _I(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}od=Pt.atob.bind(Pt),x1=Pt.btoa.bind(Pt);var k_="0123456789abcdef".split("");function bI(n){for(var e="",t=0;t<4;t++)e+=k_[n>>8*t+4&15]+k_[n>>8*t&15];return e}function wI(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function R1(n){return T3(n).map(wI).join("")}var AI=function(n){for(var e=0;e<n.length;e++)n[e]=bI(n[e]);return n.join("")}(T3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Su(n,e){if(AI){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C1(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length>>0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var m=0;for(f=0;f<256;f++){var b=h[f];m=(m+b+u.charCodeAt(f))%256,h[f]=h[m],h[m]=b}t=n,r=h}else h=r;var A=e.length,T=0,w=0,P="";for(f=0;f<A;f++)w=(w+(b=h[T=(T+1)%256]))%256,h[T]=h[w],h[w]=b,u=h[(h[T]+h[w])%256],P+=String.fromCharCode(e.charCodeAt(f)^u);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var O_={print:4,modify:8,copy:16,"annot-forms":32};function Nh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(O_.perm!==void 0)throw new Error("Invalid permission: "+h);a+=O_[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=R1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=C1(this.encryptionKey,this.padding)}function xh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=n[r]}return e}function D_(n){if(Rn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(h){Pt.console&&Un.error("jsPDF PubSub Error",h.message,h)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function T0(n){if(!(this instanceof T0))return new T0(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function N3(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function wc(n,e,t,r,a){if(!(this instanceof wc))return new wc(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,N3.call(this,r,a)}function Lh(n,e,t,r,a){if(!(this instanceof Lh))return new Lh(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,N3.call(this,r,a)}function It(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],h=1,f=16,m="S",b=null;Rn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),m=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,T={},w={internal:{},__private__:{}};w.__private__.PubSub=D_;var P="1.3",D=w.__private__.getPdfVersion=function(){return P};w.__private__.setPdfVersion=function(_){P=_};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return V};var k=w.__private__.getPageFormat=function(_){return V[_]};a=a||"a4";var z={COMPAT:"compat",ADVANCED:"advanced"},Z=z.COMPAT;function he(){this.saveGraphicsState(),ne(new ct(lt,0,0,-lt,0,ei()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),m="n",Z=z.ADVANCED}function de(){this.restoreGraphicsState(),m="S",Z=z.COMPAT}var De=w.__private__.combineFontStyleAndFontWeight=function(_,j){if(_=="bold"&&j=="normal"||_=="bold"&&j==400||_=="normal"&&j=="italic"||_=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(_=j==400||j==="normal"?_==="italic"?"italic":"normal":j!=700&&j!=="bold"||_!=="normal"?(j==700?"bold":j)+""+_:"bold"),_};w.advancedAPI=function(_){var j=Z===z.COMPAT;return j&&he.call(this),typeof _!="function"||(_(this),j&&de.call(this)),this},w.compatAPI=function(_){var j=Z===z.ADVANCED;return j&&de.call(this),typeof _!="function"||(_(this),j&&he.call(this)),this},w.isAdvancedAPI=function(){return Z===z.ADVANCED};var H,C=function(_){if(Z!==z.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=w.roundToPrecision=w.__private__.roundToPrecision=function(_,j){var te=e||j;if(isNaN(_)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(te).replace(/0+$/,"")};H=w.hpf=w.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,16)};var W=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return O(_,2)},R=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return O(_,3)},L=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return Z===z.COMPAT?_*lt:Z===z.ADVANCED?_:void 0},U=function(_){return Z===z.COMPAT?ei()-_:Z===z.ADVANCED?_:void 0},se=function(_){return L(U(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ke,le="00000000000000000000000000000000",Ae=w.__private__.getFileId=function(){return le},ce=w.__private__.setFileId=function(_){return le=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(Tn=new Nh(b.userPermissions,b.userPassword,b.ownerPassword,le)),le};w.setFileId=function(_){return ce(_),this},w.getFileId=function(){return Ae()};var Le=w.__private__.convertDateToPDFDate=function(_){var j=_.getTimezoneOffset(),te=j<0?"+":"-",ue=Math.floor(Math.abs(j/60)),be=Math.abs(j%60),Ve=[te,J(ue),"'",J(be),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),Ve].join("")},X=w.__private__.convertPDFDateToDate=function(_){var j=parseInt(_.substr(2,4),10),te=parseInt(_.substr(6,2),10)-1,ue=parseInt(_.substr(8,2),10),be=parseInt(_.substr(10,2),10),Ve=parseInt(_.substr(12,2),10),Qe=parseInt(_.substr(14,2),10);return new Date(j,te,ue,be,Ve,Qe,0)},Te=w.__private__.setCreationDate=function(_){var j;if(_===void 0&&(_=new Date),_ instanceof Date)j=Le(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=_}return ke=j},F=w.__private__.getCreationDate=function(_){var j=ke;return _==="jsDate"&&(j=X(ke)),j};w.setCreationDate=function(_){return Te(_),this},w.getCreationDate=function(_){return F(_)};var Y,J=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ae=0,Ee=[],we=[],Ne=0,He=[],Ye=[],it=!1,tt=we,_t=function(){ae=0,Ne=0,we=[],Ee=[],He=[],In=qn(),wn=qn()};w.__private__.setCustomOutputDestination=function(_){it=!0,tt=_};var je=function(_){it||(tt=_)};w.__private__.resetCustomOutputDestination=function(){it=!1,tt=we};var ne=w.__private__.out=function(_){return _=_.toString(),Ne+=_.length+1,tt.push(_),tt},Lt=w.__private__.write=function(_){return ne(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ft=w.__private__.getArrayBuffer=function(_){for(var j=_.length,te=new ArrayBuffer(j),ue=new Uint8Array(te);j--;)ue[j]=_.charCodeAt(j);return te},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Ze};var nt=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return nt=Z===z.ADVANCED?_/lt:_,this};var at,ot=w.__private__.getFontSize=w.getFontSize=function(){return Z===z.COMPAT?nt:nt*lt},gt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return gt=_,this},w.__private__.getR2L=w.getR2L=function(){return gt};var vt,Dt=w.__private__.setZoomMode=function(_){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))at=_;else if(isNaN(_)){if(j.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');at=_}else at=parseInt(_,10)};w.__private__.getZoomMode=function(){return at};var bt,Nt=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');vt=_};w.__private__.getPageMode=function(){return vt};var Yt=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');bt=_};w.__private__.getLayoutMode=function(){return bt},w.__private__.setDisplayMode=w.setDisplayMode=function(_,j,te){return Dt(_),Yt(j),Nt(te),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[_]},w.__private__.getDocumentProperties=function(){return xt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var j in xt)xt.hasOwnProperty(j)&&_[j]&&(xt[j]=_[j]);return this},w.__private__.setDocumentProperty=function(_,j){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[_]=j};var qt,lt,Yn,zt,Cn,mn={},an={},jn=[],en={},Ws={},On={},hr={},Wr=null,hn=0,wt=[],Kt=new D_(w),ss=n.hotfixes||[],nr={},Or={},ui=[],ct=function _(j,te,ue,be,Ve,Qe){if(!(this instanceof _))return new _(j,te,ue,be,Ve,Qe);isNaN(j)&&(j=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(be)&&(be=1),isNaN(Ve)&&(Ve=0),isNaN(Qe)&&(Qe=0),this._matrix=[j,te,ue,be,Ve,Qe]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(_)},ct.prototype.multiply=function(_){var j=_.sx*this.sx+_.shy*this.shx,te=_.sx*this.shy+_.shy*this.sy,ue=_.shx*this.sx+_.sy*this.shx,be=_.shx*this.shy+_.sy*this.sy,Ve=_.tx*this.sx+_.ty*this.shx+this.tx,Qe=_.tx*this.shy+_.ty*this.sy+this.ty;return new ct(j,te,ue,be,Ve,Qe)},ct.prototype.decompose=function(){var _=this.sx,j=this.shy,te=this.shx,ue=this.sy,be=this.tx,Ve=this.ty,Qe=Math.sqrt(_*_+j*j),st=(_/=Qe)*te+(j/=Qe)*ue;te-=_*st,ue-=j*st;var p=Math.sqrt(te*te+ue*ue);return st/=p,_*(ue/=p)<j*(te/=p)&&(_=-_,j=-j,st=-st,Qe=-Qe),{scale:new ct(Qe,0,0,p,0,0),translate:new ct(1,0,0,1,be,Ve),rotate:new ct(_,j,-j,_,0,0),skew:new ct(1,0,st,1,0,0)}},ct.prototype.toString=function(_){return this.join(" ")},ct.prototype.inversed=function(){var _=this.sx,j=this.shy,te=this.shx,ue=this.sy,be=this.tx,Ve=this.ty,Qe=1/(_*ue-j*te),st=ue*Qe,p=-j*Qe,S=-te*Qe,x=_*Qe;return new ct(st,p,S,x,-st*be-S*Ve,-p*be-x*Ve)},ct.prototype.applyToPoint=function(_){var j=_.x*this.sx+_.y*this.shx+this.tx,te=_.x*this.shy+_.y*this.sy+this.ty;return new Sa(j,te)},ct.prototype.applyToRectangle=function(_){var j=this.applyToPoint(_),te=this.applyToPoint(new Sa(_.x+_.w,_.y+_.h));return new lo(j.x,j.y,te.x-j.x,te.y-j.y)},ct.prototype.clone=function(){var _=this.sx,j=this.shy,te=this.shx,ue=this.sy,be=this.tx,Ve=this.ty;return new ct(_,j,te,ue,be,Ve)},w.Matrix=ct;var Si=w.matrixMult=function(_,j){return j.multiply(_)},Dr=new ct(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Dr;var rr=function(_,j){if(!Ws[_]){var te=(j instanceof wc?"Sh":"P")+(Object.keys(en).length+1).toString(10);j.id=te,Ws[_]=te,en[te]=j,Kt.publish("addPattern",j)}};w.ShadingPattern=wc,w.TilingPattern=Lh,w.addShadingPattern=function(_,j){return C("addShadingPattern()"),rr(_,j),this},w.beginTilingPattern=function(_){C("beginTilingPattern()"),ra(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,j){C("endTilingPattern()"),j.stream=Ye[Y].join(`
`),rr(_,j),Kt.publish("endTilingPattern",j),ui.pop().restore()};var Qn=w.__private__.newObject=function(){var _=qn();return fr(_,!0),_},qn=w.__private__.newObjectDeferred=function(){return ae++,Ee[ae]=function(){return Ne},ae},fr=function(_,j){return j=typeof j=="boolean"&&j,Ee[_]=Ne,j&&ne(_+" 0 obj"),_},ci=w.__private__.newAdditionalObject=function(){var _={objId:qn(),content:""};return He.push(_),_},In=qn(),wn=qn(),br=w.__private__.decodeColorString=function(_){var j=_.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var te=parseFloat(j[0]);j=[te,te,te,"r"]}for(var ue="#",be=0;be<3;be++)ue+=("0"+Math.floor(255*parseFloat(j[be])).toString(16)).slice(-2);return ue},Mr=w.__private__.encodeColorString=function(_){var j;typeof _=="string"&&(_={ch1:_});var te=_.ch1,ue=_.ch2,be=_.ch3,Ve=_.ch4,Qe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var st=new S3(te);if(st.ok)te=st.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var p=parseInt(te.substr(1),16);te=p>>16&255,ue=p>>8&255,be=255&p}if(ue===void 0||Ve===void 0&&te===ue&&ue===be)if(typeof te=="string")j=te+" "+Qe[0];else switch(_.precision){case 2:j=W(te/255)+" "+Qe[0];break;case 3:default:j=R(te/255)+" "+Qe[0]}else if(Ve===void 0||Rn(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return j=["1.","1.","1.",Qe[1]].join(" ");if(typeof te=="string")j=[te,ue,be,Qe[1]].join(" ");else switch(_.precision){case 2:j=[W(te/255),W(ue/255),W(be/255),Qe[1]].join(" ");break;default:case 3:j=[R(te/255),R(ue/255),R(be/255),Qe[1]].join(" ")}}else if(typeof te=="string")j=[te,ue,be,Ve,Qe[2]].join(" ");else switch(_.precision){case 2:j=[W(te),W(ue),W(be),W(Ve),Qe[2]].join(" ");break;case 3:default:j=[R(te),R(ue),R(be),R(Ve),Qe[2]].join(" ")}return j},hi=w.__private__.getFilters=function(){return u},ir=w.__private__.putStream=function(_){var j=(_=_||{}).data||"",te=_.filters||hi(),ue=_.alreadyAppliedFilters||[],be=_.addLength1||!1,Ve=j.length,Qe=_.objectId,st=function(Rt){return Rt};if(b!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(st=Tn.encryptor(Qe,0));var p={};te===!0&&(te=["FlateEncode"]);var S=_.additionalKeyValues||[],x=(p=It.API.processDataByFilters!==void 0?It.API.processDataByFilters(j,te):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(p.data.length!==0&&(S.push({key:"Length",value:p.data.length}),be===!0&&S.push({key:"Length1",value:Ve})),x.length!=0)if(x.split("/").length-1==1)S.push({key:"Filter",value:x});else{S.push({key:"Filter",value:"["+x+"]"});for(var G=0;G<S.length;G+=1)if(S[G].key==="DecodeParms"){for(var ge=[],Ie=0;Ie<p.reverseChain.split("/").length-1;Ie+=1)ge.push("null");ge.push(S[G].value),S[G].value="["+ge.join(" ")+"]"}}ne("<<");for(var Xe=0;Xe<S.length;Xe++)ne("/"+S[Xe].key+" "+S[Xe].value);ne(">>"),p.data.length!==0&&(ne("stream"),ne(st(p.data)),ne("endstream"))},Ti=w.__private__.putPage=function(_){var j=_.number,te=_.data,ue=_.objId,be=_.contentsObjId;fr(ue,!0),ne("<</Type /Page"),ne("/Parent "+_.rootDictionaryObjId+" 0 R"),ne("/Resources "+_.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(H(_.mediaBox.bottomLeftX))+" "+parseFloat(H(_.mediaBox.bottomLeftY))+" "+H(_.mediaBox.topRightX)+" "+H(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ne("/CropBox ["+H(_.cropBox.bottomLeftX)+" "+H(_.cropBox.bottomLeftY)+" "+H(_.cropBox.topRightX)+" "+H(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ne("/BleedBox ["+H(_.bleedBox.bottomLeftX)+" "+H(_.bleedBox.bottomLeftY)+" "+H(_.bleedBox.topRightX)+" "+H(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ne("/TrimBox ["+H(_.trimBox.bottomLeftX)+" "+H(_.trimBox.bottomLeftY)+" "+H(_.trimBox.topRightX)+" "+H(_.trimBox.topRightY)+"]"),_.artBox!==null&&ne("/ArtBox ["+H(_.artBox.bottomLeftX)+" "+H(_.artBox.bottomLeftY)+" "+H(_.artBox.topRightX)+" "+H(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ne("/UserUnit "+_.userUnit),Kt.publish("putPage",{objId:ue,pageContext:wt[j],pageNumber:j,page:te}),ne("/Contents "+be+" 0 R"),ne(">>"),ne("endobj");var Ve=te.join(`
`);return Z===z.ADVANCED&&(Ve+=`
Q`),fr(be,!0),ir({data:Ve,filters:hi(),objectId:be}),ne("endobj"),ue},Ni=w.__private__.putPages=function(){var _,j,te=[];for(_=1;_<=hn;_++)wt[_].objId=qn(),wt[_].contentsObjId=qn();for(_=1;_<=hn;_++)te.push(Ti({number:_,data:Ye[_],objId:wt[_].objId,contentsObjId:wt[_].contentsObjId,mediaBox:wt[_].mediaBox,cropBox:wt[_].cropBox,bleedBox:wt[_].bleedBox,trimBox:wt[_].trimBox,artBox:wt[_].artBox,userUnit:wt[_].userUnit,rootDictionaryObjId:In,resourceDictionaryObjId:wn}));fr(In,!0),ne("<</Type /Pages");var ue="/Kids [";for(j=0;j<hn;j++)ue+=te[j]+" 0 R ";ne(ue+"]"),ne("/Count "+hn),ne(">>"),ne("endobj"),Kt.publish("postPutPages")},as=function(_){Kt.publish("putFont",{font:_,out:ne,newObject:Qn,putStream:ir}),_.isAlreadyPutted!==!0&&(_.objectNumber=Qn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+xh(_.postScriptName)),ne("/Subtype /Type1"),typeof _.encoding=="string"&&ne("/Encoding /"+_.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},$r=function(){for(var _ in mn)mn.hasOwnProperty(_)&&(A===!1||A===!0&&T.hasOwnProperty(_))&&as(mn[_])},xi=function(_){_.objectNumber=Qn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[H(_.x),H(_.y),H(_.x+_.width),H(_.y+_.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var te=_.pages[1].join(`
`);ir({data:te,additionalKeyValues:j,objectId:_.objectNumber}),ne("endobj")},Wi=function(){for(var _ in nr)nr.hasOwnProperty(_)&&xi(nr[_])},As=function(_,j){var te,ue=[],be=1/(j-1);for(te=0;te<1;te+=be)ue.push(te);if(ue.push(1),_[0].offset!=0){var Ve={offset:0,color:_[0].color};_.unshift(Ve)}if(_[_.length-1].offset!=1){var Qe={offset:1,color:_[_.length-1].color};_.push(Qe)}for(var st="",p=0,S=0;S<ue.length;S++){for(te=ue[S];te>_[p+1].offset;)p++;var x=_[p].offset,G=(te-x)/(_[p+1].offset-x),ge=_[p].color,Ie=_[p+1].color;st+=ie(Math.round((1-G)*ge[0]+G*Ie[0]).toString(16))+ie(Math.round((1-G)*ge[1]+G*Ie[1]).toString(16))+ie(Math.round((1-G)*ge[2]+G*Ie[2]).toString(16))}return st.trim()},Dn=function(_,j){j||(j=21);var te=Qn(),ue=As(_.colors,j),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+j+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ir({data:ue,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),ne("endobj"),_.objectNumber=Qn(),ne("<< /ShadingType "+_.type),ne("/ColorSpace /DeviceRGB");var Ve="/Coords ["+H(parseFloat(_.coords[0]))+" "+H(parseFloat(_.coords[1]))+" ";_.type===2?Ve+=H(parseFloat(_.coords[2]))+" "+H(parseFloat(_.coords[3])):Ve+=H(parseFloat(_.coords[2]))+" "+H(parseFloat(_.coords[3]))+" "+H(parseFloat(_.coords[4]))+" "+H(parseFloat(_.coords[5])),ne(Ve+="]"),_.matrix&&ne("/Matrix ["+_.matrix.toString()+"]"),ne("/Function "+te+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ho=function(_,j){var te=qn(),ue=Qn();j.push({resourcesOid:te,objectOid:ue}),_.objectNumber=ue;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+_.boundingBox.map(H).join(" ")+"]"}),be.push({key:"XStep",value:H(_.xStep)}),be.push({key:"YStep",value:H(_.yStep)}),be.push({key:"Resources",value:te+" 0 R"}),_.matrix&&be.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ir({data:_.stream,additionalKeyValues:be,objectId:_.objectNumber}),ne("endobj")},Es=function(_){var j;for(j in en)en.hasOwnProperty(j)&&(en[j]instanceof wc?Dn(en[j]):en[j]instanceof Lh&&Ho(en[j],_))},Yr=function(_){for(var j in _.objectNumber=Qn(),ne("<<"),_)switch(j){case"opacity":ne("/ca "+W(_[j]));break;case"stroke-opacity":ne("/CA "+W(_[j]))}ne(">>"),ne("endobj")},Qr=function(){var _;for(_ in On)On.hasOwnProperty(_)&&Yr(On[_])},Ur=function(){for(var _ in ne("/XObject <<"),nr)nr.hasOwnProperty(_)&&nr[_].objectNumber>=0&&ne("/"+_+" "+nr[_].objectNumber+" 0 R");Kt.publish("putXobjectDict"),ne(">>")},zu=function(){Tn.oid=Qn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Tn.v),ne("/R "+Tn.r),ne("/U <"+Tn.toHexString(Tn.U)+">"),ne("/O <"+Tn.toHexString(Tn.O)+">"),ne("/P "+Tn.P),ne(">>"),ne("endobj")},no=function(){for(var _ in ne("/Font <<"),mn)mn.hasOwnProperty(_)&&(A===!1||A===!0&&T.hasOwnProperty(_))&&ne("/"+_+" "+mn[_].objectNumber+" 0 R");ne(">>")},Go=function(){if(Object.keys(en).length>0){for(var _ in ne("/Shading <<"),en)en.hasOwnProperty(_)&&en[_]instanceof wc&&en[_].objectNumber>=0&&ne("/"+_+" "+en[_].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),ne(">>")}},ga=function(_){if(Object.keys(en).length>0){for(var j in ne("/Pattern <<"),en)en.hasOwnProperty(j)&&en[j]instanceof w.TilingPattern&&en[j].objectNumber>=0&&en[j].objectNumber<_&&ne("/"+j+" "+en[j].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),ne(">>")}},$s=function(){if(Object.keys(On).length>0){var _;for(_ in ne("/ExtGState <<"),On)On.hasOwnProperty(_)&&On[_].objectNumber>=0&&ne("/"+_+" "+On[_].objectNumber+" 0 R");Kt.publish("putGStateDict"),ne(">>")}},An=function(_){fr(_.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),no(),Go(),ga(_.objectOid),$s(),Ur(),ne(">>"),ne("endobj")},fi=function(){var _=[];$r(),Qr(),Wi(),Es(_),Kt.publish("putResources"),_.forEach(An),An({resourcesOid:wn,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},Cr=function(){Kt.publish("putAdditionalObjects");for(var _=0;_<He.length;_++){var j=He[_];fr(j.objId,!0),ne(j.content),ne("endobj")}Kt.publish("postPutAdditionalObjects")},Ko=function(_){an[_.fontName]=an[_.fontName]||{},an[_.fontName][_.fontStyle]=_.id},Wo=function(_,j,te,ue,be){var Ve={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:_,fontName:j,fontStyle:te,encoding:ue,isStandardFont:be||!1,metadata:{}};return Kt.publish("addFont",{font:Ve,instance:this}),mn[Ve.id]=Ve,Ko(Ve),Ve.id},va=function(_){for(var j=0,te=Ze.length;j<te;j++){var ue=Wo.call(this,_[j][0],_[j][1],_[j][2],Ze[j][3],!0);A===!1&&(T[ue]=!0);var be=_[j][0].split("-");Ko({id:ue,fontName:be[0],fontStyle:be[1]||""})}Kt.publish("addFonts",{fonts:mn,dictionary:an})},di=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(ue){var j=ue.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var te="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Pt.console)throw new Error(te);Pt.console.error(te,ue),Pt.alert&&alert(te)}},_.foo.bar=_,_.foo},Ss=function(_,j){var te,ue,be,Ve,Qe,st,p,S,x;if(be=(j=j||{}).sourceEncoding||"Unicode",Qe=j.outputEncoding,(j.autoencode||Qe)&&mn[qt].metadata&&mn[qt].metadata[be]&&mn[qt].metadata[be].encoding&&(Ve=mn[qt].metadata[be].encoding,!Qe&&mn[qt].encoding&&(Qe=mn[qt].encoding),!Qe&&Ve.codePages&&(Qe=Ve.codePages[0]),typeof Qe=="string"&&(Qe=Ve[Qe]),Qe)){for(p=!1,st=[],te=0,ue=_.length;te<ue;te++)(S=Qe[_.charCodeAt(te)])?st.push(String.fromCharCode(S)):st.push(_[te]),st[te].charCodeAt(0)>>8&&(p=!0);_=st.join("")}for(te=_.length;p===void 0&&te!==0;)_.charCodeAt(te-1)>>8&&(p=!0),te--;if(!p)return _;for(st=j.noBOM?[]:[254,255],te=0,ue=_.length;te<ue;te++){if((x=(S=_.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(x),st.push(S-(x<<8))}return String.fromCharCode.apply(void 0,st)},Xn=w.__private__.pdfEscape=w.pdfEscape=function(_,j){return Ss(_,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ln=w.__private__.beginPage=function(_){Ye[++hn]=[],wt[hn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},_a(hn),je(Ye[Y])},Ts=function(_,j){var te,ue,be;switch(t=j||t,typeof _=="string"&&(te=k(_.toLowerCase()),Array.isArray(te)&&(ue=te[0],be=te[1])),Array.isArray(_)&&(ue=_[0]*lt,be=_[1]*lt),isNaN(ue)&&(ue=a[0],be=a[1]),(ue>14400||be>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),be=Math.min(14400,be)),a=[ue,be],t.substr(0,1)){case"l":be>ue&&(a=[be,ue]);break;case"p":ue>be&&(a=[be,ue])}Ln(a),Xo(Zs),ne(jr),Jo!==0&&ne(Jo+" J"),Ea!==0&&ne(Ea+" j"),Kt.publish("addPage",{pageNumber:hn})},ya=function(_){_>0&&_<=hn&&(Ye.splice(_,1),wt.splice(_,1),hn--,Y>hn&&(Y=hn),this.setPage(Y))},_a=function(_){_>0&&_<=hn&&(Y=_)},tn=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ye.length-1},Ys=function(_,j,te){var ue,be=void 0;return te=te||{},_=_!==void 0?_:mn[qt].fontName,j=j!==void 0?j:mn[qt].fontStyle,ue=_.toLowerCase(),an[ue]!==void 0&&an[ue][j]!==void 0?be=an[ue][j]:an[_]!==void 0&&an[_][j]!==void 0?be=an[_][j]:te.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+_+"', '"+j+"'. Refer to getFontList() for available fonts."),be||te.noFallback||(be=an.times[j])==null&&(be=an.times.normal),be},Qs=w.__private__.putInfo=function(){var _=Qn(),j=function(ue){return ue};for(var te in b!==null&&(j=Tn.encryptor(_,0)),ne("<<"),ne("/Producer ("+Xn(j("jsPDF "+It.version))+")"),xt)xt.hasOwnProperty(te)&&xt[te]&&ne("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Xn(j(xt[te]))+")");ne("/CreationDate ("+Xn(j(ke))+")"),ne(">>"),ne("endobj")},Xr=w.__private__.putCatalog=function(_){var j=(_=_||{}).rootDictionaryObjId||In;switch(Qn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+j+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+at;te.substr(te.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+W(at)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}vt&&ne("/PageMode /"+vt),Kt.publish("putCatalog"),ne(">>"),ne("endobj")},Hu=w.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ae+1)),ne("/Root "+ae+" 0 R"),ne("/Info "+(ae-1)+" 0 R"),b!==null&&ne("/Encrypt "+Tn.oid+" 0 R"),ne("/ID [ <"+le+"> <"+le+"> ]"),ne(">>")},$o=w.__private__.putHeader=function(){ne("%PDF-"+P),ne("%")},Ml=w.__private__.putXRef=function(){var _="0000000000";ne("xref"),ne("0 "+(ae+1)),ne("0000000000 65535 f ");for(var j=1;j<=ae;j++)typeof Ee[j]=="function"?ne((_+Ee[j]()).slice(-10)+" 00000 n "):Ee[j]!==void 0?ne((_+Ee[j]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},$i=w.__private__.buildDocument=function(){_t(),je(we),Kt.publish("buildDocument"),$o(),Ni(),Cr(),fi(),b!==null&&zu(),Qs(),Xr();var _=Ne;return Ml(),Hu(),ne("startxref"),ne(""+_),ne("%%EOF"),je(Ye[Y]),we.join(`
`)},ro=w.__private__.getBlob=function(_){return new Blob([ft(_)],{type:"application/pdf"})},io=w.output=w.__private__.output=di(function(_,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",_){case void 0:return $i();case"save":w.save(j.filename);break;case"arraybuffer":return ft($i());case"blob":return ro($i());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(ro($i()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=$i();try{te=x1(ue)}catch{te=x1(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+j.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(be=j.pdfObjectUrl,Ve="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",st=Pt.open();return st!==null&&st.document.write(Qe),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var p='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',S=Pt.open();if(S!==null){S.document.write(p);var x=this;S.document.documentElement.querySelector("#pdfViewer").onload=function(){S.document.title=j.filename,S.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(x.output("bloburl"))}}return S}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',ge=Pt.open();if(ge!==null&&(ge.document.write(G),ge.document.title=j.filename),ge||typeof safari>"u")return ge;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",j);default:return null}}),Yi=function(_){return Array.isArray(ss)===!0&&ss.indexOf(_)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var Tn=null;Te(),ce();var so=function(_){return b!==null?Tn.encryptor(_,0):function(j){return j}},os=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[_].objId,pageNumber:_,pageContext:wt[_]}},Et=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in wt)if(wt[j].objId===_)break;return os(j)},Ns=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:wt[Y].objId,pageNumber:Y,pageContext:wt[Y]}};w.addPage=function(){return Ts.apply(this,arguments),this},w.setPage=function(){return _a.apply(this,arguments),je.call(this,Ye[Y]),this},w.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},w.movePage=function(_,j){var te,ue;if(_>j){te=Ye[_],ue=wt[_];for(var be=_;be>j;be--)Ye[be]=Ye[be-1],wt[be]=wt[be-1];Ye[j]=te,wt[j]=ue,this.setPage(j)}else if(_<j){te=Ye[_],ue=wt[_];for(var Ve=_;Ve<j;Ve++)Ye[Ve]=Ye[Ve+1],wt[Ve]=wt[Ve+1];Ye[j]=te,wt[j]=ue,this.setPage(j)}return this},w.deletePage=function(){return ya.apply(this,arguments),this},w.__private__.text=w.text=function(_,j,te,ue,be){var Ve,Qe,st,p,S,x,G,ge,Ie,Xe=(ue=ue||{}).scope||this;if(typeof _=="number"&&typeof j=="number"&&(typeof te=="string"||Array.isArray(te))){var Rt=te;te=j,j=_,_=Rt}if(arguments[3]instanceof ct?(C("The transform parameter of text() with a Matrix value"),Ie=be):(st=arguments[4],p=arguments[5],Rn(G=arguments[3])==="object"&&G!==null||(typeof st=="string"&&(p=st,st=null),typeof G=="string"&&(p=G,G=null),typeof G=="number"&&(st=G,G=null),ue={flags:G,angle:st,align:p})),isNaN(j)||isNaN(te)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Xe;var Xt="",Mt=!1,yn=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Qt,En=Xe.internal.scaleFactor;function hs(Wt){return Wt=Wt.split("	").join(Array(ue.TabLen||9).join(" ")),Xn(Wt,G)}function sr(Wt){for(var gn,Hn=Wt.concat(),Zn=[],ds=Hn.length;ds--;)typeof(gn=Hn.shift())=="string"?Zn.push(gn):Array.isArray(Wt)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?Zn.push(gn[0]):Zn.push([gn[0],gn[1],gn[2]]);return Zn}function Ii(Wt,gn){var Hn;if(typeof Wt=="string")Hn=gn(Wt)[0];else if(Array.isArray(Wt)){for(var Zn,ds,il=Wt.concat(),es=[],$u=il.length;$u--;)typeof(Zn=il.shift())=="string"?es.push(gn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(ds=gn(Zn[0],Zn[1],Zn[2]),es.push([ds[0],ds[1],ds[2]]));Hn=es}return Hn}var sa=!1,co=!0;if(typeof _=="string")sa=!0;else if(Array.isArray(_)){var Vl=_.concat();Qe=[];for(var Zo,wr=Vl.length;wr--;)(typeof(Zo=Vl.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(co=!1);sa=co}if(sa===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var ho=nt/Xe.internal.scaleFactor,el=ho*(yn-1);switch(ue.baseline){case"bottom":te-=el;break;case"top":te+=ho-el;break;case"hanging":te+=ho-2*el;break;case"middle":te+=ho/2-el}if((x=ue.maxWidth||0)>0&&(typeof _=="string"?_=Xe.splitTextToSize(_,x):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Wt,gn){return Wt.concat(Xe.splitTextToSize(gn,x))},[]))),Ve={text:_,x:j,y:te,options:ue,mutex:{pdfEscape:Xn,activeFontKey:qt,fonts:mn,activeFontSize:nt}},Kt.publish("preProcessText",Ve),_=Ve.text,st=(ue=Ve.options).angle,!(Ie instanceof ct)&&st&&typeof st=="number"){st*=Math.PI/180,ue.rotationDirection===0&&(st=-st),Z===z.ADVANCED&&(st=-st);var tl=Math.cos(st),Fl=Math.sin(st);Ie=new ct(tl,Fl,-Fl,tl,0,0)}else st&&st instanceof ct&&(Ie=st);Z!==z.ADVANCED||Ie||(Ie=Dr),(S=ue.charSpace||Aa)!==void 0&&(Xt+=H(L(S))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ge=ue.horizontalScale)!==void 0&&(Xt+=H(100*ge)+` Tz
`),ue.lang;var Li=-1,sf=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Gu=Xe.internal.getCurrentPageInfo().pageContext;switch(sf){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var qc=Gu.usedRenderingMode!==void 0?Gu.usedRenderingMode:-1;Li!==-1?Xt+=Li+` Tr
`:qc!==-1&&(Xt+=`0 Tr
`),Li!==-1&&(Gu.usedRenderingMode=Li),p=ue.align||"left";var fs,Ir=nt*yn,fo=Xe.internal.pageSize.getWidth(),Ku=mn[qt];S=ue.charSpace||Aa,x=ue.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var xa=[],po=function(Wt){return Xe.getStringUnitWidth(Wt,{font:Ku,charSpace:S,fontSize:nt,doKerning:!1})*nt/En};if(Object.prototype.toString.call(_)==="[object Array]"){var mi;Qe=sr(_),p!=="left"&&(fs=Qe.map(po));var Vr,mo=0;if(p==="right"){j-=fs[0],_=[],wr=Qe.length;for(var Ra=0;Ra<wr;Ra++)Ra===0?(Vr=Zr(j),mi=pr(te)):(Vr=L(mo-fs[Ra]),mi=-Ir),_.push([Qe[Ra],Vr,mi]),mo=fs[Ra]}else if(p==="center"){j-=fs[0]/2,_=[],wr=Qe.length;for(var Pi=0;Pi<wr;Pi++)Pi===0?(Vr=Zr(j),mi=pr(te)):(Vr=L((mo-fs[Pi])/2),mi=-Ir),_.push([Qe[Pi],Vr,mi]),mo=fs[Pi]}else if(p==="left"){_=[],wr=Qe.length;for(var go=0;go<wr;go++)_.push(Qe[go])}else if(p==="justify"&&Ku.encoding==="Identity-H"){_=[],wr=Qe.length,x=x!==0?x:fo;for(var Ji=0,zn=0;zn<wr;zn++)if(mi=zn===0?pr(te):-Ir,Vr=zn===0?Zr(j):Ji,zn<wr-1){var Bl=L((x-fs[zn])/(Qe[zn].split(" ").length-1)),ar=Qe[zn].split(" ");_.push([ar[0]+" ",Vr,mi]),Ji=0;for(var Fr=1;Fr<ar.length;Fr++){var vo=(po(ar[Fr-1]+" "+ar[Fr])-po(ar[Fr]))*En+Bl;Fr==ar.length-1?_.push([ar[Fr],vo,0]):_.push([ar[Fr]+" ",vo,0]),Ji-=vo}}else _.push([Qe[zn],Vr,mi]);_.push(["",Ji,0])}else{if(p!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],wr=Qe.length,x=x!==0?x:fo,zn=0;zn<wr;zn++)mi=zn===0?pr(te):-Ir,Vr=zn===0?Zr(j):0,zn<wr-1?xa.push(H(L((x-fs[zn])/(Qe[zn].split(" ").length-1)))):xa.push(0),_.push([Qe[zn],Vr,mi])}}var Wu=typeof ue.R2L=="boolean"?ue.R2L:gt;Wu===!0&&(_=Ii(_,function(Wt,gn,Hn){return[Wt.split("").reverse().join(""),gn,Hn]})),Ve={text:_,x:j,y:te,options:ue,mutex:{pdfEscape:Xn,activeFontKey:qt,fonts:mn,activeFontSize:nt}},Kt.publish("postProcessText",Ve),_=Ve.text,Mt=Ve.mutex.isHex||!1;var Is=mn[qt].encoding;Is!=="WinAnsiEncoding"&&Is!=="StandardEncoding"||(_=Ii(_,function(Wt,gn,Hn){return[hs(Wt),gn,Hn]})),Qe=sr(_),_=[];for(var yo,_o,Ca,nl=0,ql=1,rl=Array.isArray(Qe[0])?ql:nl,Ia="",zl=function(Wt,gn,Hn){var Zn="";return Hn instanceof ct?(Hn=typeof ue.angle=="number"?Si(Hn,new ct(1,0,0,1,Wt,gn)):Si(new ct(1,0,0,1,Wt,gn),Hn),Z===z.ADVANCED&&(Hn=Si(new ct(1,0,0,-1,0,0),Hn)),Zn=Hn.join(" ")+` Tm
`):Zn=H(Wt)+" "+H(gn)+` Td
`,Zn},Zi=0;Zi<Qe.length;Zi++){switch(Ia="",rl){case ql:Ca=(Mt?"<":"(")+Qe[Zi][0]+(Mt?">":")"),yo=parseFloat(Qe[Zi][1]),_o=parseFloat(Qe[Zi][2]);break;case nl:Ca=(Mt?"<":"(")+Qe[Zi]+(Mt?">":")"),yo=Zr(j),_o=pr(te)}xa!==void 0&&xa[Zi]!==void 0&&(Ia=xa[Zi]+` Tw
`),Zi===0?_.push(Ia+zl(yo,_o,Ie)+Ca):rl===nl?_.push(Ia+Ca):rl===ql&&_.push(Ia+zl(yo,_o,Ie)+Ca)}_=rl===nl?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Jn=`BT
/`;return Jn+=qt+" "+nt+` Tf
`,Jn+=H(nt*yn)+` TL
`,Jn+=Rs+`
`,Jn+=Xt,Jn+=_,ne(Jn+="ET"),T[qt]=!0,Xe};var Yo=w.__private__.clip=w.clip=function(_){return ne(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Yo("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ne("n"),this};var Qi=w.__private__.isValidStyle=function(_){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(j=!0),j};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return Qi(_)&&(m=_),this};var Xs=w.__private__.getStyle=w.getStyle=function(_){var j=m;switch(_){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=_}return j},pi=w.close=function(){return ne("h"),this};w.stroke=function(){return ne("S"),this},w.fill=function(_){return ls("f",_),this},w.fillEvenOdd=function(_){return ls("f*",_),this},w.fillStroke=function(_){return ls("B",_),this},w.fillStrokeEvenOdd=function(_){return ls("B*",_),this};var ls=function(_,j){Rn(j)==="object"?xs(j,_):ne(_)},Ri=function(_){_===null||Z===z.ADVANCED&&_===void 0||(_=Xs(_),ne(_))};function Js(_,j,te,ue,be){var Ve=new Lh(j||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,be||this.matrix);Ve.stream=this.stream;var Qe=_+"$$"+this.cloneIndex+++"$$";return rr(Qe,Ve),Ve}var xs=function(_,j){var te=Ws[_.key],ue=en[te];if(ue instanceof wc)ne("q"),ne(Qo(j)),ue.gState&&w.setGState(ue.gState),ne(_.matrix.toString()+" cm"),ne("/"+te+" sh"),ne("Q");else if(ue instanceof Lh){var be=new ct(1,0,0,-1,0,ei());_.matrix&&(be=be.multiply(_.matrix||Dr),te=Js.call(ue,_.key,_.boundingBox,_.xStep,_.yStep,be).id),ne("q"),ne("/Pattern cs"),ne("/"+te+" scn"),ue.gState&&w.setGState(ue.gState),ne(j),ne("Q")}},Qo=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ci=w.moveTo=function(_,j){return ne(H(L(_))+" "+H(se(j))+" m"),this},Jr=w.lineTo=function(_,j){return ne(H(L(_))+" "+H(se(j))+" l"),this},us=w.curveTo=function(_,j,te,ue,be,Ve){return ne([H(L(_)),H(se(j)),H(L(te)),H(se(ue)),H(L(be)),H(se(Ve)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,j,te,ue,be){if(isNaN(_)||isNaN(j)||isNaN(te)||isNaN(ue)||!Qi(be))throw new Error("Invalid arguments passed to jsPDF.line");return Z===z.COMPAT?this.lines([[te-_,ue-j]],_,j,[1,1],be||"S"):this.lines([[te-_,ue-j]],_,j,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,j,te,ue,be,Ve){var Qe,st,p,S,x,G,ge,Ie,Xe,Rt,Xt,Mt;if(typeof _=="number"&&(Mt=te,te=j,j=_,_=Mt),ue=ue||[1,1],Ve=Ve||!1,isNaN(j)||isNaN(te)||!Array.isArray(_)||!Array.isArray(ue)||!Qi(be)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ci(j,te),Qe=ue[0],st=ue[1],S=_.length,Rt=j,Xt=te,p=0;p<S;p++)(x=_[p]).length===2?(Rt=x[0]*Qe+Rt,Xt=x[1]*st+Xt,Jr(Rt,Xt)):(G=x[0]*Qe+Rt,ge=x[1]*st+Xt,Ie=x[2]*Qe+Rt,Xe=x[3]*st+Xt,Rt=x[4]*Qe+Rt,Xt=x[5]*st+Xt,us(G,ge,Ie,Xe,Rt,Xt));return Ve&&pi(),Ri(be),this},w.path=function(_){for(var j=0;j<_.length;j++){var te=_[j],ue=te.c;switch(te.op){case"m":Ci(ue[0],ue[1]);break;case"l":Jr(ue[0],ue[1]);break;case"c":us.apply(this,ue);break;case"h":pi()}}return this},w.__private__.rect=w.rect=function(_,j,te,ue,be){if(isNaN(_)||isNaN(j)||isNaN(te)||isNaN(ue)||!Qi(be))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===z.COMPAT&&(ue=-ue),ne([H(L(_)),H(se(j)),H(L(te)),H(L(ue)),"re"].join(" ")),Ri(be),this},w.__private__.triangle=w.triangle=function(_,j,te,ue,be,Ve,Qe){if(isNaN(_)||isNaN(j)||isNaN(te)||isNaN(ue)||isNaN(be)||isNaN(Ve)||!Qi(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-_,ue-j],[be-te,Ve-ue],[_-be,j-Ve]],_,j,[1,1],Qe,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,j,te,ue,be,Ve,Qe){if(isNaN(_)||isNaN(j)||isNaN(te)||isNaN(ue)||isNaN(be)||isNaN(Ve)||!Qi(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*te),Ve=Math.min(Ve,.5*ue),this.lines([[te-2*be,0],[be*st,0,be,Ve-Ve*st,be,Ve],[0,ue-2*Ve],[0,Ve*st,-be*st,Ve,-be,Ve],[2*be-te,0],[-be*st,0,-be,-Ve*st,-be,-Ve],[0,2*Ve-ue],[0,-Ve*st,be*st,-Ve,be,-Ve]],_+be,j,[1,1],Qe,!0),this},w.__private__.ellipse=w.ellipse=function(_,j,te,ue,be){if(isNaN(_)||isNaN(j)||isNaN(te)||isNaN(ue)||!Qi(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*te,Qe=4/3*(Math.SQRT2-1)*ue;return Ci(_+te,j),us(_+te,j-Qe,_+Ve,j-ue,_,j-ue),us(_-Ve,j-ue,_-te,j-Qe,_-te,j),us(_-te,j+Qe,_-Ve,j+ue,_,j+ue),us(_+Ve,j+ue,_+te,j+Qe,_+te,j),Ri(be),this},w.__private__.circle=w.circle=function(_,j,te,ue){if(isNaN(_)||isNaN(j)||isNaN(te)||!Qi(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,j,te,te,ue)},w.setFont=function(_,j,te){return te&&(j=De(j,te)),qt=Ys(_,j,{disableWarning:!1}),this};var dr=w.__private__.getFont=w.getFont=function(){return mn[Ys.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,j,te={};for(_ in an)if(an.hasOwnProperty(_))for(j in te[_]=[],an[_])an[_].hasOwnProperty(j)&&te[_].push(j);return te},w.addFont=function(_,j,te,ue,be){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(te=De(te,ue)),be=be||"Identity-H",Wo.call(this,_,j,te,be)};var Qt,Zs=n.lineWidth||.200025,cs=w.__private__.getLineWidth=w.getLineWidth=function(){return Zs},Xo=w.__private__.setLineWidth=w.setLineWidth=function(_){return Zs=_,ne(H(L(_))+" w"),this};w.__private__.setLineDash=It.API.setLineDash=It.API.setLineDashPattern=function(_,j){if(_=_||[],j=j||0,isNaN(j)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(te){return H(L(te))}).join(" "),j=H(L(j)),ne("["+_+"] "+j+" d"),this};var ba=w.__private__.getLineHeight=w.getLineHeight=function(){return nt*Qt};w.__private__.getLineHeight=w.getLineHeight=function(){return nt*Qt};var wa=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Qt=_),this},Xi=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Qt};wa(n.lineHeight);var Zr=w.__private__.getHorizontalCoordinate=function(_){return L(_)},pr=w.__private__.getVerticalCoordinate=function(_){return Z===z.ADVANCED?_:wt[Y].mediaBox.topRightY-wt[Y].mediaBox.bottomLeftY-L(_)},Ul=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return H(Zr(_))},ea=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return H(pr(_))},jr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return br(jr)},w.__private__.setStrokeColor=w.setDrawColor=function(_,j,te,ue){return jr=Mr({ch1:_,ch2:j,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),ne(jr),this};var ta=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return br(ta)},w.__private__.setFillColor=w.setFillColor=function(_,j,te,ue){return ta=Mr({ch1:_,ch2:j,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),ne(ta),this};var Rs=n.textColor||"0 g",ao=w.__private__.getTextColor=w.getTextColor=function(){return br(Rs)};w.__private__.setTextColor=w.setTextColor=function(_,j,te,ue){return Rs=Mr({ch1:_,ch2:j,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var Aa=n.charSpace,oo=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Aa||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Aa=_,this};var Jo=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var j=w.CapJoinStyles[_];if(j===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jo=j,ne(j+" J"),this};var Ea=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var j=w.CapJoinStyles[_];if(j===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=j,ne(j+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(H(L(_))+" M"),this},w.GState=T0,w.setGState=function(_){(_=typeof _=="string"?On[hr[_]]:na(null,_)).equals(Wr)||(ne("/"+_.id+" gs"),Wr=_)};var na=function(_,j){if(!_||!hr[_]){var te=!1;for(var ue in On)if(On.hasOwnProperty(ue)&&On[ue].equals(j)){te=!0;break}if(te)j=On[ue];else{var be="GS"+(Object.keys(On).length+1).toString(10);On[be]=j,j.id=be}return _&&(hr[_]=j.id),Kt.publish("addGState",j),j}};w.addGState=function(_,j){return na(_,j),this},w.saveGraphicsState=function(){return ne("q"),jn.push({key:qt,size:nt,color:Rs}),this},w.restoreGraphicsState=function(){ne("Q");var _=jn.pop();return qt=_.key,nt=_.size,Rs=_.color,Wr=null,this},w.setCurrentTransformationMatrix=function(_){return ne(_.toString()+" cm"),this},w.comment=function(_){return ne("#"+_),this};var Sa=function(_,j){var te=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ve){isNaN(Ve)||(te=parseFloat(Ve))}});var ue=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ve){isNaN(Ve)||(ue=parseFloat(Ve))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ve){be=Ve.toString()}}),this},lo=function(_,j,te,ue){Sa.call(this,_,j),this.type="rect";var be=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var Ve=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Qe){isNaN(Qe)||(Ve=parseFloat(Qe))}}),this},Ta=function(){this.page=hn,this.currentPage=Y,this.pages=Ye.slice(0),this.pagesContext=wt.slice(0),this.x=Yn,this.y=zt,this.matrix=Cn,this.width=ia(Y),this.height=ei(Y),this.outputDestination=tt,this.id="",this.objectNumber=-1};Ta.prototype.restore=function(){hn=this.page,Y=this.currentPage,wt=this.pagesContext,Ye=this.pages,Yn=this.x,zt=this.y,Cn=this.matrix,Na(Y,this.width),uo(Y,this.height),tt=this.outputDestination};var ra=function(_,j,te,ue,be){ui.push(new Ta),hn=Y=0,Ye=[],Yn=_,zt=j,Cn=be,Ln([te,ue])},jl=function(_){if(Or[_])ui.pop().restore();else{var j=new Ta,te="Xo"+(Object.keys(nr).length+1).toString(10);j.id=te,Or[_]=te,nr[te]=j,Kt.publish("addFormObject",j),ui.pop().restore()}};for(var Cs in w.beginFormObject=function(_,j,te,ue,be){return ra(_,j,te,ue,be),this},w.endFormObject=function(_){return jl(_),this},w.doFormObject=function(_,j){var te=nr[Or[_]];return ne("q"),ne(j.toString()+" cm"),ne("/"+te.id+" Do"),ne("Q"),this},w.getFormObject=function(_){var j=nr[Or[_]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},w.save=function(_,j){return _=_||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(bc(ro($i()),_),typeof bc.unload=="function"&&Pt.setTimeout&&setTimeout(bc.unload,911),this):new Promise(function(te,ue){try{var be=bc(ro($i()),_);typeof bc.unload=="function"&&Pt.setTimeout&&setTimeout(bc.unload,911),te(be)}catch(Ve){ue(Ve.message)}})},It.API)It.API.hasOwnProperty(Cs)&&(Cs==="events"&&It.API.events.length?function(_,j){var te,ue,be;for(be=j.length-1;be!==-1;be--)te=j[be][0],ue=j[be][1],_.subscribe.apply(_,[te].concat(typeof ue=="function"?[ue]:ue))}(Kt,It.API.events):w[Cs]=It.API[Cs]);var ia=w.getPageWidth=function(_){return(wt[_=_||Y].mediaBox.topRightX-wt[_].mediaBox.bottomLeftX)/lt},Na=w.setPageWidth=function(_,j){wt[_].mediaBox.topRightX=j*lt+wt[_].mediaBox.bottomLeftX},ei=w.getPageHeight=function(_){return(wt[_=_||Y].mediaBox.topRightY-wt[_].mediaBox.bottomLeftY)/lt},uo=w.setPageHeight=function(_,j){wt[_].mediaBox.topRightY=j*lt+wt[_].mediaBox.bottomLeftY};return w.internal={pdfEscape:Xn,getStyle:Xs,getFont:dr,getFontSize:ot,getCharSpace:oo,getTextColor:ao,getLineHeight:ba,getLineHeightFactor:Xi,getLineWidth:cs,write:Lt,getHorizontalCoordinate:Zr,getVerticalCoordinate:pr,getCoordinateString:Ul,getVerticalCoordinateString:ea,collections:{},newObject:Qn,newAdditionalObject:ci,newObjectDeferred:qn,newObjectDeferredBegin:fr,getFilters:hi,putStream:ir,events:Kt,scaleFactor:lt,pageSize:{getWidth:function(){return ia(Y)},setWidth:function(_){Na(Y,_)},getHeight:function(){return ei(Y)},setHeight:function(_){uo(Y,_)}},encryptionOptions:b,encryption:Tn,getEncryptor:so,output:io,getNumberOfPages:tn,pages:Ye,out:ne,f2:W,f3:R,getPageInfo:os,getPageInfoByObjId:Et,getCurrentPageInfo:Ns,getPDFVersion:D,Point:Sa,Rectangle:lo,Matrix:ct,hasHotfix:Yi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return ia(Y)},set:function(_){Na(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return ei(Y)},set:function(_){uo(Y,_)},enumerable:!0,configurable:!0}),va.call(w,Ze),qt="F1",Ts(a,t),Kt.publish("initialized"),w}Nh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Nh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Nh.prototype.processOwnerPassword=function(n,e){return C1(R1(e).substr(0,5),n)},Nh.prototype.encryptor=function(n,e){var t=R1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return C1(t,r)}},T0.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Rn(n)!==Rn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},It.API={events:[]},It.version="3.0.1";var _r=It.API,Hg=1,Bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_h=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(n){return n.toFixed(2)},vu=function(n){return n.toFixed(5)};_r.__acroform__={};var ws=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},M_=function(n){return n*Hg},Io=function(n){var e=new R3,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ft(r)),Number(Ft(t))],e},EI=_r.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},SI=_r.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},TI=_r.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Nr=_r.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TI(n,e-1)},xr=_r.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EI(n,e-1)},Rr=_r.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return SI(n,e-1)},NI=_r.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(Ft(f.lowerLeft_X)),Number(Ft(f.lowerLeft_Y)),Number(Ft(f.upperRight_X)),Number(Ft(f.upperRight_Y))]},xI=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=I1(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+Ft(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Io(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},I1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(R){return R.split(`
`)}):a.map(function(R){return[R]});var o=t,u=mt.internal.getHeight(n)||0;u=u<0?-u:u;var h=mt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(R,L,U){if(R+1<a.length){var se=L+" "+a[R+1][0];return jp(se,n,U).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var m,b,A=jp("3",n,o).height,T=n.multiline?u-o:(u-A)/2,w=T+=2,P=0,D=0,V=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+jp(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var k="",z=0,Z=0;Z<a.length;Z++)if(a.hasOwnProperty(Z)){var he=!1;if(a[Z].length!==1&&V!==a[Z].length-1){if((A+2)*(z+2)+2>u)continue e;k+=a[Z][V],he=!0,D=Z,Z--}else{k=(k+=a[Z][V]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var de=parseInt(Z),De=f(de,k,o),H=Z>=a.length-1;if(De&&!H){k+=" ",V=0;continue}if(De||H){if(H)D=de;else if(n.multiline&&(A+2)*(z+2)+2>u)continue e}else{if(!n.multiline||(A+2)*(z+2)+2>u)continue e;D=de}}for(var C="",O=P;O<=D;O++){var W=a[O];if(n.multiline){if(O===D){C+=W[V]+" ",V=(V+1)%W.length;continue}if(O===P){C+=W[W.length-1]+" ";continue}}C+=W[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,b=jp(C,n,o).width,n.textAlign){case"right":m=h-b-2;break;case"center":m=(h-b)/2;break;case"left":default:m=2}e+=Ft(m)+" "+Ft(w)+` Td
`,e+="("+Bc(C)+`) Tj
`,e+=-Ft(m)+` 0 Td
`,w=-(o+2),b=0,P=he?D:D+1,z++,k=""}break}return r.text=e,r.fontSize=o,r},jp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},RI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CI=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},II=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,a=n[t];e.internal.newObjectDeferredBegin(a.objId,!0),Rn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete n[r]}},LI=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(eo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(RI)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hg=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new C3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&CI(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],m=h.Rect;if(h.Rect&&(h.Rect=NI(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),Rn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=xI(h);f.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var A="";for(var T in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(T)){var w=h.appearanceStreamContent[T];if(A+="/"+T+" ",A+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var P=w[u];typeof P=="function"&&(P=P.call(a,h)),A+="/"+u+" "+P+" ",a.internal.acroformPlugin.xForms.indexOf(P)>=0||a.internal.acroformPlugin.xForms.push(P)}}else typeof(P=w)=="function"&&(P=P.call(a,h)),A+="/"+u+" "+P,a.internal.acroformPlugin.xForms.indexOf(P)>=0||a.internal.acroformPlugin.xForms.push(P);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&II(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},x3=_r.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Rn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Bc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zm=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Bc(r(n))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:x3(a,this.objId,this.scope)}):a instanceof ko?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var R3=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ws(R3,ko);var C3=function(){ko.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Bc(t(n))+")"}},set:function(t){n=t}})};ws(C3,ko);var eo=function n(){ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(e,3)},set:function(k){k?this.F=xr(e,3):this.F=Rr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof N0)return;o="FieldObject"+n.FieldNum++}var k=function(z){return z};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Bc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Hg:m},set:function(k){m=k}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(k){b=k}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof N0||this instanceof Tc))return zm(A,this.objId,this.scope)},set:function(k){k=k.toString(),A=k}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof oi?T:zm(T,this.objId,this.scope)},set:function(k){k=k.toString(),T=this instanceof oi?k:k.substr(0,1)==="("?_h(k.substr(1,k.length-2)):_h(k)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?_h(T.substr(1,T.length-1)):T},set:function(k){k=k.toString(),T=this instanceof oi?"/"+k:k}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof oi?w:zm(w,this.objId,this.scope)},set:function(k){k=k.toString(),w=this instanceof oi?k:k.substr(0,1)==="("?_h(k.substr(1,k.length-2)):_h(k)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?_h(w.substr(1,w.length-1)):w},set:function(k){k=k.toString(),w=this instanceof oi?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(k){k=!!k,D=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(k){P=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(k){k?this.Ff=xr(this.Ff,1):this.Ff=Rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(k){k?this.Ff=xr(this.Ff,2):this.Ff=Rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(k){k?this.Ff=xr(this.Ff,3):this.Ff=Rr(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(V!==null)return V},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');V=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(V){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:V=2;break;case"center":case 1:V=1;break;case"left":case 0:default:V=0}}})};ws(eo,ko);var Mh=function(){eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return x3(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=function(o,u,h){h||(h=1);for(var f,m=[];f=u.exec(o);)m.push(f[h]);return m}(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(t){t?this.Ff=xr(this.Ff,18):this.Ff=Rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=xr(this.Ff,19):this.Ff=Rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(t){t?(this.Ff=xr(this.Ff,20),e.sort()):this.Ff=Rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(t){t?this.Ff=xr(this.Ff,22):this.Ff=Rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(t){t?this.Ff=xr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(t){t?this.Ff=xr(this.Ff,27):this.Ff=Rr(this.Ff,27)}}),this.hasAppearanceStream=!1};ws(Mh,eo);var Uh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};ws(Uh,Mh);var jh=function(){Uh.call(this),this.combo=!0};ws(jh,Uh);var e0=function(){jh.call(this),this.edit=!0};ws(e0,jh);var oi=function(){eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(t){t?this.Ff=xr(this.Ff,15):this.Ff=Rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(t){t?this.Ff=xr(this.Ff,16):this.Ff=Rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(t){t?this.Ff=xr(this.Ff,17):this.Ff=Rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(t){t?this.Ff=xr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Bc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Rn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ws(oi,eo);var t0=function(){oi.call(this),this.pushButton=!0};ws(t0,oi);var Vh=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ws(Vh,oi);var N0=function(){var n,e;eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Bc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Rn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ws(N0,eo),Vh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vh.prototype.createOption=function(n){var e=new N0;return e.Parent=this,e.optionName=n,this.Kids.push(e),PI.call(this.scope,e),e};var n0=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};ws(n0,oi);var Tc=function(){eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(e){e?this.Ff=xr(this.Ff,13):this.Ff=Rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(e){e?this.Ff=xr(this.Ff,21):this.Ff=Rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(e){e?this.Ff=xr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(e){e?this.Ff=xr(this.Ff,24):this.Ff=Rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(e){e?this.Ff=xr(this.Ff,25):this.Ff=Rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(e){e?this.Ff=xr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ws(Tc,eo);var r0=function(){Tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(n){n?this.Ff=xr(this.Ff,14):this.Ff=Rr(this.Ff,14)}}),this.password=!0};ws(r0,Tc);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=I1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Ft(mt.internal.getWidth(n))+" "+Ft(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Ft(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=mt.internal.getHeight(n),u=mt.internal.getWidth(n),h=I1(n,n.caption);return a.push("1 g"),a.push("0 0 "+Ft(u)+" "+Ft(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ft(u-1)+" "+Ft(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Ft(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ft(mt.internal.getWidth(n))+" "+Ft(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=mt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vu(mt.internal.getWidth(n)/2)+" "+vu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5)),u=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vu(mt.internal.getWidth(n)/2)+" "+vu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vu(mt.internal.getWidth(n)/2)+" "+vu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vu(mt.internal.getWidth(n)/2)+" "+vu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Ft(mt.internal.getWidth(n)-2)+" "+Ft(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Ft(r.x1.x)+" "+Ft(r.x1.y)+" m"),t.push(Ft(r.x2.x)+" "+Ft(r.x2.y)+" l"),t.push(Ft(r.x4.x)+" "+Ft(r.x4.y)+" m"),t.push(Ft(r.x3.x)+" "+Ft(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(mt.internal.getWidth(n))+" "+Ft(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ft(mt.internal.getWidth(n)-2)+" "+Ft(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ft(t.x1.x)+" "+Ft(t.x1.y)+" m"),r.push(Ft(t.x2.x)+" "+Ft(t.x2.y)+" l"),r.push(Ft(t.x4.x)+" "+Ft(t.x4.y)+" m"),r.push(Ft(t.x3.x)+" "+Ft(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ft(mt.internal.getWidth(n))+" "+Ft(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return Rn(n)==="object"&&(e=M_(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Rn(n)==="object"&&(e=M_(n.Rect[3])),e};var PI=_r.addField=function(n){if(LI(this,n),!(n instanceof eo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=Mh,_r.AcroFormListBox=Uh,_r.AcroFormComboBox=jh,_r.AcroFormEditBox=e0,_r.AcroFormButton=oi,_r.AcroFormPushButton=t0,_r.AcroFormRadioButton=Vh,_r.AcroFormCheckBox=n0,_r.AcroFormTextField=Tc,_r.AcroFormPasswordField=r0,_r.AcroFormAppearance=mt,_r.AcroForm={ChoiceField:Mh,ListBox:Uh,ComboBox:jh,EditBox:e0,Button:oi,PushButton:t0,RadioButton:Vh,CheckBox:n0,TextField:Tc,PasswordField:r0,Appearance:mt},It.AcroForm={ChoiceField:Mh,ListBox:Uh,ComboBox:jh,EditBox:e0,Button:oi,PushButton:t0,RadioButton:Vh,CheckBox:n0,TextField:Tc,PasswordField:r0,Appearance:mt};It.AcroForm;function I3(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(R,L){var U,se,ke,le,Ae,ce=e;if((L=L||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(De(R))for(Ae in t)for(ke=t[Ae],U=0;U<ke.length;U+=1){for(le=!0,se=0;se<ke[U].length;se+=1)if(ke[U][se]!==void 0&&ke[U][se]!==R[se]){le=!1;break}if(le===!0){ce=Ae;break}}else for(Ae in t)for(ke=t[Ae],U=0;U<ke.length;U+=1){for(le=!0,se=0;se<ke[U].length;se+=1)if(ke[U][se]!==void 0&&ke[U][se]!==R.charCodeAt(se)){le=!1;break}if(le===!0){ce=Ae;break}}return ce===e&&L!==e&&(ce=L),ce},a=function R(L){for(var U=this.internal.write,se=this.internal.putStream,ke=(0,this.internal.getFilters)();ke.indexOf("FlateEncode")!==-1;)ke.splice(ke.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:L.width}),le.push({key:"Height",value:L.height}),L.colorSpace===V.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===V.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var Ae="",ce=0,Le=L.transparency.length;ce<Le;ce++)Ae+=L.transparency[ce]+" "+L.transparency[ce]+" ";le.push({key:"Mask",value:"["+Ae+"]"})}L.sMask!==void 0&&le.push({key:"SMask",value:L.objectId+1+" 0 R"});var X=L.filter!==void 0?["/"+L.filter]:void 0;if(se({data:L.data,additionalKeyValues:le,alreadyAppliedFilters:X,objectId:L.objectId}),U("endobj"),"sMask"in L&&L.sMask!==void 0){var Te="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,F={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:Te,data:L.sMask};"filter"in L&&(F.filter=L.filter),R.call(this,F)}if(L.colorSpace===V.INDEXED){var Y=this.internal.newObject();se({data:C(new Uint8Array(L.palette)),objectId:Y}),U("endobj")}},o=function(){var R=this.internal.collections.addImage_images;for(var L in R)a.call(this,R[L])},u=function(){var R,L=this.internal.collections.addImage_images,U=this.internal.write;for(var se in L)U("/I"+(R=L[se]).index,R.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var R=this.internal.collections.addImage_images;return h.call(this),R},m=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(R){return typeof n["process"+R.toUpperCase()]=="function"},A=function(R){return Rn(R)==="object"&&R.nodeType===1},T=function(R,L){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var U=""+R.getAttribute("src");if(U.indexOf("data:image/")===0)return od(unescape(U).split("base64,").pop());var se=n.loadFile(U,!0);if(se!==void 0)return se}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ke;switch(L){case"PNG":ke="image/png";break;case"WEBP":ke="image/webp";break;case"JPEG":case"JPG":default:ke="image/jpeg"}return od(R.toDataURL(ke,1).split("base64,").pop())}},w=function(R){var L=this.internal.collections.addImage_images;if(L){for(var U in L)if(R===L[U].alias)return L[U]}},P=function(R,L,U){return R||L||(R=-96,L=-96),R<0&&(R=-1*U.width*72/R/this.internal.scaleFactor),L<0&&(L=-1*U.height*72/L/this.internal.scaleFactor),R===0&&(R=L*U.width/U.height),L===0&&(L=R*U.height/U.width),[R,L]},D=function(R,L,U,se,ke,le){var Ae=P.call(this,U,se,ke),ce=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,X=f.call(this);if(U=Ae[0],se=Ae[1],X[ke.index]=ke,le){le*=Math.PI/180;var Te=Math.cos(le),F=Math.sin(le),Y=function(ie){return ie.toFixed(4)},J=[Y(Te),Y(F),Y(-1*F),Y(Te),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,ce(R),Le(L+se),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ce(U),"0","0",ce(se),"0","0","cm"].join(" "))):this.internal.write([ce(U),"0","0",ce(se),ce(R),Le(L+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ke.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=n.__addimage__.sHashCode=function(R){var L,U,se=0;if(typeof R=="string")for(U=R.length,L=0;L<U;L++)se=(se<<5)-se+R.charCodeAt(L),se|=0;else if(De(R))for(U=R.byteLength/2,L=0;L<U;L++)se=(se<<5)-se+R[L],se|=0;return se},Z=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var L=!0;return R.length===0&&(L=!1),R.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(L=!1),L},he=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var L=R.indexOf(",");return L<0?null:R.substring(0,L).trim().endsWith("base64")?R.substring(L+1):null},de=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return de()&&R instanceof ArrayBuffer};var De=n.__addimage__.isArrayBufferView=function(R){return de()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},H=n.__addimage__.binaryStringToUint8Array=function(R){for(var L=R.length,U=new Uint8Array(L),se=0;se<L;se++)U[se]=R.charCodeAt(se);return U},C=n.__addimage__.arrayBufferToBinaryString=function(R){for(var L="",U=De(R)?R:new Uint8Array(R),se=0;se<U.length;se+=8192)L+=String.fromCharCode.apply(null,U.subarray(se,se+8192));return L};n.addImage=function(){var R,L,U,se,ke,le,Ae,ce,Le;if(typeof arguments[1]=="number"?(L=e,U=arguments[1],se=arguments[2],ke=arguments[3],le=arguments[4],Ae=arguments[5],ce=arguments[6],Le=arguments[7]):(L=arguments[1],U=arguments[2],se=arguments[3],ke=arguments[4],le=arguments[5],Ae=arguments[6],ce=arguments[7],Le=arguments[8]),Rn(R=arguments[0])==="object"&&!A(R)&&"imageData"in R){var X=R;R=X.imageData,L=X.format||L||e,U=X.x||U||0,se=X.y||se||0,ke=X.w||X.width||ke,le=X.h||X.height||le,Ae=X.alias||Ae,ce=X.compression||ce,Le=X.rotation||X.angle||Le}var Te=this.internal.getFilters();if(ce===void 0&&Te.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(U)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var F=O.call(this,R,L,Ae,ce);return D.call(this,U,se,ke,le,F,Le),this};var O=function(R,L,U,se){var ke,le,Ae;if(typeof R=="string"&&r(R)===e){R=unescape(R);var ce=W(R,!1);(ce!==""||(ce=n.loadFile(R,!0))!==void 0)&&(R=ce)}if(A(R)&&(R=T(R,L)),L=r(R,L),!b(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((Ae=U)==null||Ae.length===0)&&(U=function(Le){return typeof Le=="string"||De(Le)?z(Le):De(Le.data)?z(Le.data):null}(R)),(ke=w.call(this,U))||(de()&&(R instanceof Uint8Array||L==="RGBA"||(le=R,R=H(R))),ke=this["process"+L.toUpperCase()](R,m.call(this),U,function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in n.image_compression?Le:k.NONE}(se),le)),!ke)throw new Error("An unknown error occurred whilst processing the image.");return ke},W=n.__addimage__.convertBase64ToBinaryString=function(R,L){L=typeof L!="boolean"||L;var U,se="";if(typeof R=="string"){var ke;U=(ke=he(R))!==null&&ke!==void 0?ke:R;try{se=od(U)}catch(le){if(L)throw Z(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(R){var L,U,se="";if(A(R)&&(R=T(R)),typeof R=="string"&&r(R)===e&&((se=W(R,!1))===""&&(se=n.loadFile(R)||""),R=se),U=r(R),!b(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!de()||R instanceof Uint8Array||(R=H(R)),!(L=this["process"+U.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=U,L}})(It.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};It.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,b=!1,A=0;A<m.length&&!b;A++)switch((r=m[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var T=0;T<m.length;T++){r=m[T];var w=this.internal.pdfEscape,P=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(D.objId),z=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+w(k(r.contents))+")",o+=" /Popup "+V.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(k(z))+") >>",D.content=o;var Z=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+Z,r.open&&(o+=" /Open true"),o+=" >>",V.content=o,this.internal.write(D.objId,"0 R",V.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var he=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(P(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+he+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var de=this.annotations._nameMap[r.options.name];r.options.pageNumber=de.page,r.options.top=de.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var De=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+De+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:m(r),w:f(t+a),h:m(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,h,f=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var b=this.splitTextToSize(t,h).length;u=Math.ceil(m*b)}else h=f,u=m;return this.text(t,r,a,o),a+=.2*m,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-m,h,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(It.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(D){return e[D.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},h=n.__arabicParser__.isArabicEndLetter=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(D){return u(D)&&a.indexOf(D.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(D){var V=0,k=t,z="",Z=0;for(V=0;V<D.length;V+=1)k[D.charCodeAt(V)]!==void 0?(Z++,typeof(k=k[D.charCodeAt(V)])=="number"&&(z+=String.fromCharCode(k),k=t,Z=0),V===D.length-1&&(k=t,z+=D.charAt(V-(Z-1)),V-=Z-1,Z=0)):(k=t,z+=D.charAt(V-Z),V-=Z,Z=0);return z};n.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&r[D.charCodeAt(0)]!==void 0};var T=n.__arabicParser__.getCorrectForm=function(D,V,k){return u(D)?o(D)===!1?-1:!m(D)||!u(V)&&!u(k)||!u(k)&&h(V)||h(D)&&!u(V)||h(D)&&f(V)||h(D)&&h(V)?0:b(D)&&u(V)&&!h(V)&&u(k)&&m(k)?3:h(D)||!u(k)?1:2:-1},w=function(D){var V=0,k=0,z=0,Z="",he="",de="",De=(D=D||"").split("\\s+"),H=[];for(V=0;V<De.length;V+=1){for(H.push(""),k=0;k<De[V].length;k+=1)Z=De[V][k],he=De[V][k-1],de=De[V][k+1],u(Z)?(z=T(Z,he,de),H[V]+=z!==-1?String.fromCharCode(e[Z.charCodeAt(0)][z]):Z):H[V]+=Z;H[V]=A(H[V])}return H.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var D,V=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(V)){var z=0;for(k=[],z=0;z<V.length;z+=1)Array.isArray(V[z])?k.push([w(V[z][0]),V[z][1],V[z][2]]):k.push([w(V[z])]);D=k}else D=w(V);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};n.events.push(["preProcessText",P])}(It.API),It.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(It.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(D){f=D}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(D){m=D}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(D){b=D}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(D){A=D}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(D){T=D}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(D){w=D}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(D){P=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,m){r.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),A=m.font||this.getFont(),T=m.scaleFactor||this.internal.scaleFactor,w=0,P=0,D=0,V=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=m.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Z,he){return Z.concat(V.splitTextToSize(he,k))},[])):f=Array.isArray(f)?f:[f];for(var z=0;z<f.length;z++)w<(D=this.getStringUnitWidth(f[z],{font:A})*b)&&(w=D);return w!==0&&(P=f.length),{w:w/=T,h:Math.max((P*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/T,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,T=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,w&&T&&(this.printHeaderRow(f.lineNumber,!0),f.y+=T[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-b,f.y+b,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+b,{align:"center",baseline:"top",maxWidth:f.width-b-b}):this.text(f.text,f.x+b,f.y+b,{align:"left",baseline:"top",maxWidth:f.width-b-b})),this.internal.__cell__.lastCell=f,this};n.table=function(f,m,b,A,T){if(r.call(this),!b)throw new Error("No data for PDF table.");var w,P,D,V,k=[],z=[],Z=[],he={},de={},De=[],H=[],C=(T=T||{}).autoSize||!1,O=T.printHeaders!==!1,W=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,R=T.margins||Object.assign({width:this.getPageWidth()},e),L=typeof T.padding=="number"?T.padding:3,U=T.headerBackgroundColor||"#c8c8c8",se=T.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=se,this.setFontSize(W),A==null)z=k=Object.keys(b[0]),Z=k.map(function(){return"left"});else if(Array.isArray(A)&&Rn(A[0])==="object")for(k=A.map(function(X){return X.name}),z=A.map(function(X){return X.prompt||X.name||""}),Z=A.map(function(X){return X.align||"left"}),w=0;w<A.length;w+=1)de[A[w].name]=A[w].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(z=k=A,Z=k.map(function(){return"left"}));if(C||Array.isArray(A)&&typeof A[0]=="string")for(w=0;w<k.length;w+=1){for(he[V=k[w]]=b.map(function(X){return X[V]}),this.setFont(void 0,"bold"),De.push(this.getTextDimensions(z[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=he[V],this.setFont(void 0,"normal"),D=0;D<P.length;D+=1)De.push(this.getTextDimensions(P[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);de[V]=Math.max.apply(null,De)+L+L,De=[]}if(O){var ke={};for(w=0;w<k.length;w+=1)ke[k[w]]={},ke[k[w]].text=z[w],ke[k[w]].align=Z[w];var le=h.call(this,ke,de);H=k.map(function(X){return new o(f,m,de[X],le,ke[X].text,void 0,ke[X].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var Ae=A.reduce(function(X,Te){return X[Te.name]=Te.align,X},{});for(w=0;w<b.length;w+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:w,data:b[w]},this);var ce=h.call(this,b[w],de);for(D=0;D<k.length;D+=1){var Le=b[w][k[D]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:w,col:D,data:Le},this),u.call(this,new o(f,m,de[k[D]],ce,Le,w+2,Ae[k[D]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var h=function(f,m){var b=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(f).map(function(w){var P=f[w];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,m[w]-b-b)},this).map(function(w){return this.getLineHeightFactor()*w.length*A/T+b+b},this).reduce(function(w,P){return Math.max(w,P)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,T.push(b)),b.lineNumber=f;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,b),this.setTextColor(P)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),t=!1}}(It.API);var L3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},P3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L1=I3(P3),k3=[100,200,300,400,500,600,700,800,900],kI=I3(k3);function P1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return L3[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),a=function(o){return typeof L1[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function U_(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var OI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function V_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function DI(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},OI,t.genericFontFamilies||{}),o=null,u=null,h=0;h<e.length;++h)if(a[(o=P1(e[h])).family]&&(o.family=a[o.family]),n.hasOwnProperty(o.family)){u=n[o.family];break}if(!(u=u||n[r]))throw new Error("Could not find a font-family for the rule '"+V_(o)+"' and default family '"+r+"'.");if(u=function(f,m){if(m[f])return m[f];var b=L1[f],A=b<=L1.normal?-1:1,T=U_(m,P3,b,A);if(!T)throw new Error("Could not find a matching font-stretch value for "+f);return T}(o.stretch,u),u=function(f,m){if(m[f])return m[f];for(var b=L3[f],A=0;A<b.length;++A)if(m[b[A]])return m[b[A]];throw new Error("Could not find a matching font-style for "+f)}(o.style,u),!(u=function(f,m){if(m[f])return m[f];if(f===400&&m[500])return m[500];if(f===500&&m[400])return m[400];var b=kI[f],A=U_(m,k3,b,f<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+f);return A}(o.weight,u)))throw new Error("Failed to resolve a font for the rule '"+V_(o)+"'.");return u}function F_(n){return n.trimLeft()}function MI(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function UI(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Vp,B_,q_,Hm=["times"];(function(n){var e,t,r,a,o,u,h,f,m,b=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new f,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new u,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new u,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,m=new b}]);var A=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=F;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(je){J=!!je}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(je){ie=!!je}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(je){isNaN(je)||(ae=je)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(je){isNaN(je)||(Ee=je)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(je){var ne;typeof je=="number"?ne=[je,je,je,je]:((ne=new Array(4))[0]=je[0],ne[1]=je.length>=2?je[1]:ne[0],ne[2]=je.length>=3?je[2]:ne[0],ne[3]=je.length>=4?je[3]:ne[1]),m.margin=ne}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(je){we=je}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(je){Ne=je}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(je){He=je}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(je){je instanceof b&&(m=je)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(je){m.path=je}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(je){Ye=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var ne;ne=T(je),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var ne=T(je);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var it=null;function tt(je,ne){if(it===null){var Lt=function(ft){var Ze=[];return Object.keys(ft).forEach(function(nt){ft[nt].forEach(function(at){var ot=null;switch(at){case"bold":ot={family:nt,weight:"bold"};break;case"italic":ot={family:nt,style:"italic"};break;case"bolditalic":ot={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:nt}}ot!==null&&(ot.ref={name:nt,style:at},Ze.push(ot))})}),Ze}(je.getFontList());it=function(ft){for(var Ze={},nt=0;nt<ft.length;++nt){var at=P1(ft[nt]),ot=at.family,gt=at.stretch,vt=at.style,Dt=at.weight;Ze[ot]=Ze[ot]||{},Ze[ot][gt]=Ze[ot][gt]||{},Ze[ot][gt][vt]=Ze[ot][gt][vt]||{},Ze[ot][gt][vt][Dt]=at}return Ze}(Lt.concat(ne))}return it}var _t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(je){it=null,_t=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var ne;if(this.ctx.font=je,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Lt=ne[1];ne[2];var ft=ne[3],Ze=ne[4];ne[5];var nt=ne[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(at==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ot=function(xt){var qt,lt,Yn=[],zt=xt.trim();if(zt==="")return Hm;if(zt in j_)return[j_[zt]];for(;zt!=="";){switch(lt=null,qt=(zt=F_(zt)).charAt(0)){case'"':case"'":lt=MI(zt.substring(1),qt);break;default:lt=UI(zt)}if(lt===null||(Yn.push(lt[0]),(zt=F_(lt[1]))!==""&&zt.charAt(0)!==","))return Hm;zt=zt.replace(/^,/,"")}return Yn}(nt);if(this.fontFaces){var gt=DI(tt(this.pdf,this.fontFaces),ot.map(function(xt){return{family:xt,stretch:"normal",weight:ft,style:Lt}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var vt="";(ft==="bold"||parseInt(ft,10)>=700||Lt==="bold")&&(vt="bold"),Lt==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Dt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<ot.length;Nt++){if(this.pdf.internal.getFont(ot[Nt],vt,{noFallback:!0,disableWarning:!0})!==void 0){Dt=ot[Nt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(ot[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=ot[Nt],vt="bold";else if(this.pdf.internal.getFont(ot[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=ot[Nt],vt="normal";break}}if(Dt===""){for(var Yt=0;Yt<ot.length;Yt++)if(bt[ot[Yt]]){Dt=bt[ot[Yt]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};A.prototype.setLineDash=function(F){this.lineDash=F},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){he.call(this,"fill",!1)},A.prototype.stroke=function(){he.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(F,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(F,Y)},A.prototype.closePath=function(){var F=new u(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Rn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){F=new u(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(F.x,F.y)},A.prototype.lineTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(F,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),he.call(this,null,!0)},A.prototype.quadraticCurveTo=function(F,Y,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(F)||isNaN(Y))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(J,ie)),Ee=this.ctx.transform.applyToPoint(new u(F,Y));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},A.prototype.bezierCurveTo=function(F,Y,J,ie,ae,Ee){if(isNaN(ae)||isNaN(Ee)||isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new u(ae,Ee)),Ne=this.ctx.transform.applyToPoint(new u(F,Y)),He=this.ctx.transform.applyToPoint(new u(J,ie));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:He.x,y2:He.y,x:we.x,y:we.y}),this.ctx.lastPoint=new u(we.x,we.y)},A.prototype.arc=function(F,Y,J,ie,ae,Ee){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie)||isNaN(ae))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new u(F,Y));F=we.x,Y=we.y;var Ne=this.ctx.transform.applyToPoint(new u(0,J)),He=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(Ne.x-He.x,2)+Math.pow(Ne.y-He.y,2))}Math.abs(ae-ie)>=2*Math.PI&&(ie=0,ae=2*Math.PI),this.path.push({type:"arc",x:F,y:Y,radius:J,startAngle:ie,endAngle:ae,counterclockwise:Ee})},A.prototype.arcTo=function(F,Y,J,ie,ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function(F,Y,J,ie){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Y),this.lineTo(F+J,Y),this.lineTo(F+J,Y+ie),this.lineTo(F,Y+ie),this.lineTo(F,Y),this.lineTo(F+J,Y),this.lineTo(F,Y)},A.prototype.fillRect=function(F,Y,J,ie){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Y,J,ie),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},A.prototype.strokeRect=function(F,Y,J,ie){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(F,Y,J,ie),this.stroke())},A.prototype.clearRect=function(F,Y,J,ie){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Y,J,ie))},A.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},A.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(F){var Y,J,ie,ae;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Y=0,J=0,ie=0,ae=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Ee!==null)Y=parseInt(Ee[1]),J=parseInt(Ee[2]),ie=parseInt(Ee[3]),ae=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Y=parseInt(Ee[1]),J=parseInt(Ee[2]),ie=parseInt(Ee[3]),ae=parseFloat(Ee[4]);else{if(ae=1,typeof F=="string"&&F.charAt(0)!=="#"){var we=new S3(F);F=we.ok?we.toHex():"#000000"}F.length===4?(Y=F.substring(1,2),Y+=Y,J=F.substring(2,3),J+=J,ie=F.substring(3,4),ie+=ie):(Y=F.substring(1,3),J=F.substring(3,5),ie=F.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:Y,g:J,b:ie,a:ae,style:F}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(F,Y,J,ie){if(isNaN(Y)||isNaN(J)||typeof F!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!w.call(this)){var ae=ce(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;L.call(this,{text:F,x:Y,y:J,scale:Ee,angle:ae,align:this.textAlign,maxWidth:ie})}},A.prototype.strokeText=function(F,Y,J,ie){if(isNaN(Y)||isNaN(J)||typeof F!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){ie=isNaN(ie)?void 0:ie;var ae=ce(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;L.call(this,{text:F,x:Y,y:J,scale:Ee,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ie})}},A.prototype.measureText=function(F){if(typeof F!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ie=Y.internal.getFontSize(),ae=Y.getStringUnitWidth(F)*ie/Y.internal.scaleFactor,Ee=function(we){var Ne=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new Ee({width:ae*=Math.round(96*J/72*1e4)/1e4})},A.prototype.scale=function(F,Y){if(isNaN(F)||isNaN(Y))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(F,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.rotate=function(F){if(isNaN(F))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(F,Y){if(isNaN(F)||isNaN(Y))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,F,Y);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.transform=function(F,Y,J,ie,ae,Ee){if(isNaN(F)||isNaN(Y)||isNaN(J)||isNaN(ie)||isNaN(ae)||isNaN(Ee))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new f(F,Y,J,ie,ae,Ee);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(F,Y,J,ie,ae,Ee){F=isNaN(F)?1:F,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,ae=isNaN(ae)?0:ae,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new f(F,Y,J,ie,ae,Ee)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(F,Y,J,ie,ae,Ee,we,Ne,He){var Ye=this.pdf.getImageProperties(F),it=1,tt=1,_t=1,je=1;ie!==void 0&&Ne!==void 0&&(_t=Ne/ie,je=He/ae,it=Ye.width/ie*Ne/ie,tt=Ye.height/ae*He/ae),Ee===void 0&&(Ee=Y,we=J,Y=0,J=0),ie!==void 0&&Ne===void 0&&(Ne=ie,He=ae),ie===void 0&&Ne===void 0&&(Ne=Ye.width,He=Ye.height);for(var ne,Lt=this.ctx.transform.decompose(),ft=ce(Lt.rotate.shx),Ze=new f,nt=(Ze=(Ze=(Ze=Ze.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale)).applyToRectangle(new h(Ee-Y*_t,we-J*je,ie*it,ae*tt)),at=V.call(this,nt),ot=[],gt=0;gt<at.length;gt+=1)ot.indexOf(at[gt])===-1&&ot.push(at[gt]);if(Z(ot),this.autoPaging)for(var vt=ot[0],Dt=ot[ot.length-1],bt=vt;bt<Dt+1;bt++){this.pdf.setPage(bt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=bt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=bt===1?0:xt+(bt-2)*qt;if(this.ctx.clip_path.length!==0){var Yn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(ne,this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset),de.call(this,"fill",!0),this.path=Yn}var zt=JSON.parse(JSON.stringify(nt));zt=z([zt],this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset)[0];var Cn=(bt>vt||bt<Dt)&&D.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,qt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,ft),Cn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,ft)};var V=function(F,Y,J){var ie=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ie.push(Math.floor((F.y+ae)/J)+1);break;case"arc":ie.push(Math.floor((F.y+ae-F.radius)/J)+1),ie.push(Math.floor((F.y+ae+F.radius)/J)+1);break;case"qct":var Ee=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ie.push(Math.floor((Ee.y+ae)/J)+1),ie.push(Math.floor((Ee.y+Ee.h+ae)/J)+1);break;case"bct":var we=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ie.push(Math.floor((we.y+ae)/J)+1),ie.push(Math.floor((we.y+we.h+ae)/J)+1);break;case"rect":ie.push(Math.floor((F.y+ae)/J)+1),ie.push(Math.floor((F.y+F.h+ae)/J)+1)}for(var Ne=0;Ne<ie.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ne];)k.call(this);return ie},k=function(){var F=this.fillStyle,Y=this.strokeStyle,J=this.font,ie=this.lineCap,ae=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Y,this.font=J,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=Ee},z=function(F,Y,J){for(var ie=0;ie<F.length;ie++)switch(F[ie].type){case"bct":F[ie].x2+=Y,F[ie].y2+=J;case"qct":F[ie].x1+=Y,F[ie].y1+=J;case"mt":case"lt":case"arc":default:F[ie].x+=Y,F[ie].y+=J}return F},Z=function(F){return F.sort(function(Y,J){return Y-J})},he=function(F,Y){for(var J,ie,ae=this.fillStyle,Ee=this.strokeStyle,we=this.lineCap,Ne=this.lineWidth,He=Math.abs(Ne*this.ctx.transform.scaleX),Ye=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),_t=[],je=0;je<tt.length;je++)if(tt[je].x!==void 0)for(var ne=V.call(this,tt[je]),Lt=0;Lt<ne.length;Lt+=1)_t.indexOf(ne[Lt])===-1&&_t.push(ne[Lt]);for(var ft=0;ft<_t.length;ft++)for(;this.pdf.internal.getNumberOfPages()<_t[ft];)k.call(this);if(Z(_t),this.autoPaging)for(var Ze=_t[0],nt=_t[_t.length-1],at=Ze;at<nt+1;at++){this.pdf.setPage(at),this.fillStyle=ae,this.strokeStyle=Ee,this.lineCap=we,this.lineWidth=He,this.lineJoin=Ye;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=at===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=at===1?0:vt+(at-2)*Dt;if(this.ctx.clip_path.length!==0){var Nt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(J,this.posX+this.margin[3],-bt+gt+this.ctx.prevPageLastElemOffset),de.call(this,F,!0),this.path=Nt}if(ie=JSON.parse(JSON.stringify(it)),this.path=z(ie,this.posX+this.margin[3],-bt+gt+this.ctx.prevPageLastElemOffset),Y===!1||at===0){var Yt=(at>Ze||at<nt)&&D.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Dt,null).clip().discardPath()),de.call(this,F,Y),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=He,de.call(this,F,Y),this.lineWidth=Ne;this.path=it},de=function(F,Y){if((F!=="stroke"||Y||!P.call(this))&&(F==="stroke"||Y||!w.call(this))){for(var J,ie,ae=[],Ee=this.path,we=0;we<Ee.length;we++){var Ne=Ee[we];switch(Ne.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ne,deltas:[],abs:[]});break;case"lt":var He=ae.length;if(Ee[we-1]&&!isNaN(Ee[we-1].x)&&(J=[Ne.x-Ee[we-1].x,Ne.y-Ee[we-1].y],He>0)){for(;He>=0;He--)if(ae[He-1].close!==!0&&ae[He-1].begin!==!0){ae[He-1].deltas.push(J),ae[He-1].abs.push(Ne);break}}break;case"bct":J=[Ne.x1-Ee[we-1].x,Ne.y1-Ee[we-1].y,Ne.x2-Ee[we-1].x,Ne.y2-Ee[we-1].y,Ne.x-Ee[we-1].x,Ne.y-Ee[we-1].y],ae[ae.length-1].deltas.push(J);break;case"qct":var Ye=Ee[we-1].x+2/3*(Ne.x1-Ee[we-1].x),it=Ee[we-1].y+2/3*(Ne.y1-Ee[we-1].y),tt=Ne.x+2/3*(Ne.x1-Ne.x),_t=Ne.y+2/3*(Ne.y1-Ne.y),je=Ne.x,ne=Ne.y;J=[Ye-Ee[we-1].x,it-Ee[we-1].y,tt-Ee[we-1].x,_t-Ee[we-1].y,je-Ee[we-1].x,ne-Ee[we-1].y],ae[ae.length-1].deltas.push(J);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ne)}}ie=Y?null:F==="stroke"?"stroke":"fill";for(var Lt=!1,ft=0;ft<ae.length;ft++)if(ae[ft].arc)for(var Ze=ae[ft].abs,nt=0;nt<Ze.length;nt++){var at=Ze[nt];at.type==="arc"?C.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Y,!Lt):U.call(this,at.x,at.y),Lt=!0}else if(ae[ft].close===!0)this.pdf.internal.out("h"),Lt=!1;else if(ae[ft].begin!==!0){var ot=ae[ft].start.x,gt=ae[ft].start.y;se.call(this,ae[ft].deltas,ot,gt),Lt=!0}ie&&O.call(this,ie),Y&&W.call(this)}},De=function(F){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-J;case"top":return F+Y-J;case"hanging":return F+Y-2*J;case"middle":return F+Y/2-J;case"ideographic":return F;case"alphabetic":default:return F}},H=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Y,J){this.colorStops.push([Y,J])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(F,Y,J,ie,ae,Ee,we,Ne,He){for(var Ye=le.call(this,J,ie,ae,Ee),it=0;it<Ye.length;it++){var tt=Ye[it];it===0&&(He?R.call(this,tt.x1+F,tt.y1+Y):U.call(this,tt.x1+F,tt.y1+Y)),ke.call(this,F,Y,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Ne?W.call(this):O.call(this,we)},O=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(F,Y){this.pdf.internal.out(t(F)+" "+r(Y)+" m")},L=function(F){var Y;switch(F.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var J=this.pdf.getTextDimensions(F.text),ie=De.call(this,F.y),ae=H.call(this,ie)-J.h,Ee=this.ctx.transform.applyToPoint(new u(F.x,ie)),we=this.ctx.transform.decompose(),Ne=new f;Ne=(Ne=(Ne=Ne.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var He,Ye,it,tt=this.ctx.transform.applyToRectangle(new h(F.x,ie,J.w,J.h)),_t=Ne.applyToRectangle(new h(F.x,ae,J.w,J.h)),je=V.call(this,_t),ne=[],Lt=0;Lt<je.length;Lt+=1)ne.indexOf(je[Lt])===-1&&ne.push(je[Lt]);if(Z(ne),this.autoPaging)for(var ft=ne[0],Ze=ne[ne.length-1],nt=ft;nt<Ze+1;nt++){this.pdf.setPage(nt);var at=nt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],vt=gt-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],bt=Dt-this.margin[3],Nt=nt===1?0:ot+(nt-2)*vt;if(this.ctx.clip_path.length!==0){var Yt=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(He,this.posX+this.margin[3],-1*Nt+at),de.call(this,"fill",!0),this.path=Yt}var xt=z([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-Nt+at+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*F.scale),it=this.lineWidth,this.lineWidth=it*F.scale);var qt=this.autoPaging!=="text";if(qt||xt.y+xt.h<=gt){if(qt||xt.y>=at&&xt.x<=Dt){var lt=qt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Dt-xt.x)[0],Yn=z([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Nt+at+this.ctx.prevPageLastElemOffset)[0],zt=qt&&(nt>ft||nt<Ze)&&D.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,vt,null).clip().discardPath()),this.pdf.text(lt,Yn.x,Yn.y,{angle:F.angle,align:Y,renderingMode:F.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else xt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-xt.y);F.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=it)}else F.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*F.scale),it=this.lineWidth,this.lineWidth=it*F.scale),this.pdf.text(F.text,Ee.x+this.posX,Ee.y+this.posY,{angle:F.angle,align:Y,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=it)},U=function(F,Y,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(t(F+J)+" "+r(Y+ie)+" l")},se=function(F,Y,J){return this.pdf.lines(F,Y,J,null,null)},ke=function(F,Y,J,ie,ae,Ee,we,Ne){this.pdf.internal.out([e(a(J+F)),e(o(ie+Y)),e(a(ae+F)),e(o(Ee+Y)),e(a(we+F)),e(o(Ne+Y)),"c"].join(" "))},le=function(F,Y,J,ie){for(var ae=2*Math.PI,Ee=Math.PI/2;Y>J;)Y-=ae;var we=Math.abs(J-Y);we<ae&&ie&&(we=ae-we);for(var Ne=[],He=ie?-1:1,Ye=Y;we>1e-5;){var it=Ye+He*Math.min(we,Ee);Ne.push(Ae.call(this,F,Ye,it)),we-=Math.abs(it-Ye),Ye=it}return Ne},Ae=function(F,Y,J){var ie=(J-Y)/2,ae=F*Math.cos(ie),Ee=F*Math.sin(ie),we=ae,Ne=-Ee,He=we*we+Ne*Ne,Ye=He+we*ae+Ne*Ee,it=4/3*(Math.sqrt(2*He*Ye)-Ye)/(we*Ee-Ne*ae),tt=we-it*Ne,_t=Ne+it*we,je=tt,ne=-_t,Lt=ie+Y,ft=Math.cos(Lt),Ze=Math.sin(Lt);return{x1:F*Math.cos(Y),y1:F*Math.sin(Y),x2:tt*ft-_t*Ze,y2:tt*Ze+_t*ft,x3:je*ft-ne*Ze,y3:je*Ze+ne*ft,x4:F*Math.cos(J),y4:F*Math.sin(J)}},ce=function(F){return 180*F/Math.PI},Le=function(F,Y,J,ie,ae,Ee){var we=F+.5*(J-F),Ne=Y+.5*(ie-Y),He=ae+.5*(J-ae),Ye=Ee+.5*(ie-Ee),it=Math.min(F,ae,we,He),tt=Math.max(F,ae,we,He),_t=Math.min(Y,Ee,Ne,Ye),je=Math.max(Y,Ee,Ne,Ye);return new h(it,_t,tt-it,je-_t)},X=function(F,Y,J,ie,ae,Ee,we,Ne){var He,Ye,it,tt,_t,je,ne,Lt,ft,Ze,nt,at,ot,gt,vt=J-F,Dt=ie-Y,bt=ae-J,Nt=Ee-ie,Yt=we-ae,xt=Ne-Ee;for(Ye=0;Ye<41;Ye++)ft=(ne=(it=F+(He=Ye/40)*vt)+He*((_t=J+He*bt)-it))+He*(_t+He*(ae+He*Yt-_t)-ne),Ze=(Lt=(tt=Y+He*Dt)+He*((je=ie+He*Nt)-tt))+He*(je+He*(Ee+He*xt-je)-Lt),Ye==0?(nt=ft,at=Ze,ot=ft,gt=Ze):(nt=Math.min(nt,ft),at=Math.min(at,Ze),ot=Math.max(ot,ft),gt=Math.max(gt,Ze));return new h(Math.round(nt),Math.round(at),Math.round(ot-nt),Math.round(gt-at))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Y,J=(F=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(It.API),function(n){var e=function(o){var u,h,f,m,b,A,T,w,P,D;for(h=[],f=0,m=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;m>f;f+=4)(b=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(A=(b=((b=((b=((b=(b-(D=b%85))/85)-(P=b%85))/85)-(w=b%85))/85)-(T=b%85))/85)%85,h.push(A+33,T+33,w+33,P+33,D+33)):h.push(122);return function(V,k){for(var z=k;z>0;z--)V.pop()}(h,u.length),String.fromCharCode.apply(String,h)+"~>"},t=function(o){var u,h,f,m,b,A=String,T="length",w=255,P="charCodeAt",D="slice",V="replace";for(o[D](-2),o=o[D](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),f=[],m=0,b=(o+=u="uuuuu"[D](o[T]%5||5))[T];b>m;m+=5)h=52200625*(o[P](m)-33)+614125*(o[P](m+1)-33)+7225*(o[P](m+2)-33)+85*(o[P](m+3)-33)+(o[P](m+4)-33),f.push(w&h>>24,w&h>>16,w&h>>8,w&h);return function(k,z){for(var Z=z;Z>0;Z--)k.pop()}(f,u[T]),A.fromCharCode.apply(A,f)},r=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var h="",f=0;f<o.length;f+=2)h+=String.fromCharCode("0x"+(o[f]+o[f+1]));return h},a=function(o){for(var u=new Uint8Array(o.length),h=o.length;h--;)u[h]=o.charCodeAt(h);return o=(u=N1(u)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};n.processDataByFilters=function(o,u){var h=0,f=o||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(It.API),function(n){n.loadFile=function(e,t,r){return function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=function(f,m,b){var A=new XMLHttpRequest,T=0,w=function(P){var D=P.length,V=[],k=String.fromCharCode;for(T=0;T<D;T+=1)V.push(k(255&P.charCodeAt(T)));return V.join("")};if(A.open("GET",f,!m),A.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(A.onload=function(){A.status===200?b(w(this.responseText)):b(void 0)}),A.send(null),m&&A.status===200)return w(A.responseText)}(a,o,u)}catch{}return h}(e,t,r)},n.loadImageFile=n.loadFile}(It.API),function(n){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):w1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):w1(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var h=Rn(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(u,h){var f=document.createElement(u);for(var m in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[m]=h.style[m];return f},o=function u(h){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),f);return m=(m=m.setProgress(1,u,1,[u])).set(h)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,h){return u.__proto__=h||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,h){return this.then(function(){switch(h=h||function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function f(m,b){for(var A=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),T=m.firstChild;T;T=T.nextSibling)b!==!0&&T.nodeType===1&&T.nodeName==="SCRIPT"||A.appendChild(f(T,b));return m.nodeType===1&&(m.nodeName==="CANVAS"?(A.width=m.width,A.height=m.height,A.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(A.value=m.value),A.addEventListener("load",function(){A.scrollTop=m.scrollTop,A.scrollLeft=m.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var T=0;T<m.length;++T){var w=m[T],P=w.src.find(function(D){return D.format==="truetype"});P&&f.addFont(P.url,w.ref.name,w.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,f.context2d.save(!0),h(this.prop.container,A)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},o.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(r(u)!=="object")return this;var h=Object.keys(u||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(h)})},o.prototype.get=function(u,h){return this.then(function(){var f=u in o.template.prop?this.prop[u]:this.opt[u];return h?h(f):f})},o.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function h(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(u=u||It.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,h,f,m){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,h,f,m){return this.setProgress(u?this.progress.val+u:null,h||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(u,h){var f=this;return this.thenCore(u,h,function(m,b){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(A){return f.updateProgress(null,m),A}).then(m,b).then(function(A){return f.updateProgress(1),A})})},o.prototype.thenCore=function(u,h,f){f=f||Promise.prototype.then,u&&(u=u.bind(this)),h&&(h=h.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),b=f.call(m,u,h);return o.convert(b,this.__proto__)},o.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},o.prototype.thenList=function(u){var h=this;return u.forEach(function(f){h=h.thenCore(f)}),h},o.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return o.convert(h,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,It.getPageSize=function(u,h,f){if(Rn(u)==="object"){var m=u;u=m.orientation,h=m.unit||h,f=m.format||f}h=h||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var b,A=(""+f).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var w,P=0,D=0;if(T.hasOwnProperty(A))P=T[A][1]/b,D=T[A][0]/b;else try{P=f[1],D=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",D>P&&(w=D,D=P,P=w);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",P>D&&(w=D,D=P,P=w)}return{width:D,height:P,unit:h,k:b,orientation:u}},n.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(P1):null;var f=new o(h);return h.worker?f:f.from(u).doCallback()}}(It.API),It.API.addJS=function(n){return q_=n,this.internal.events.subscribe("postPutResources",function(){Vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),B_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vp!==void 0&&B_!==void 0&&this.internal.out("/Names <</JavaScript "+Vp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],h=r.exec(u);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(o=0;o<m;o++){var A=t.internal.newObject();b.push(A);var T=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<b.length;o++)t.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])}(It.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,h){var f,m=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(f=function(A){for(var T,w=256*A.charCodeAt(4)+A.charCodeAt(5),P=A.length,D={width:0,height:0,numcomponents:1},V=4;V<P;V+=2){if(V+=w,e.indexOf(A.charCodeAt(V+1))!==-1){T=256*A.charCodeAt(V+5)+A.charCodeAt(V+6),D={width:256*A.charCodeAt(V+7)+A.charCodeAt(V+8),height:T,numcomponents:A.charCodeAt(V+9)};break}w=256*A.charCodeAt(V+2)+A.charCodeAt(V+3)}return D}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return b}}(It.API);var bh,Fp,z_,H_,G_,jI=function(){var n,e,t;function r(o){var u,h,f,m,b,A,T,w,P,D,V,k,z,Z;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(u=this.readUInt32(),P=(function(){var he,de;for(de=[],he=0;he<4;++he)de.push(String.fromCharCode(this.data[this.pos++]));return de}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),m=this.readUInt16()||100,A.delay=1e3*b/m,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,u-=4),o=(A!=null?A.data:void 0)||this.imgData,k=0;0<=u?k<u:k>u;0<=u?++k:--k)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((D=f-this.transparency.indexed.length)>0)for(z=0;0<=D?z<D:z>D;0<=D?++z:--z)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":T=(V=this.read(u)).indexOf(0),w=String.fromCharCode.apply(String,V.slice(0,T)),this.text[w]=String.fromCharCode.apply(String,V.slice(T+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Z=this.colorType)===4||Z===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var u,h;for(h=[],u=0;0<=o?u<o:u>o;0<=o?++u:--u)h.push(this.data[this.pos++]);return h},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var u=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*u),f=0,m=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function b(A,T,w,P){var D,V,k,z,Z,he,de,De,H,C,O,W,R,L,U,se,ke,le,Ae,ce,Le,X=Math.ceil((m.width-A)/w),Te=Math.ceil((m.height-T)/P),F=m.width==X&&m.height==Te;for(L=u*X,W=F?h:new Uint8Array(L*Te),he=o.length,R=0,V=0;R<Te&&f<he;){switch(o[f++]){case 0:for(z=ke=0;ke<L;z=ke+=1)W[V++]=o[f++];break;case 1:for(z=le=0;le<L;z=le+=1)D=o[f++],Z=z<u?0:W[V-u],W[V++]=(D+Z)%256;break;case 2:for(z=Ae=0;Ae<L;z=Ae+=1)D=o[f++],k=(z-z%u)/u,U=R&&W[(R-1)*L+k*u+z%u],W[V++]=(U+D)%256;break;case 3:for(z=ce=0;ce<L;z=ce+=1)D=o[f++],k=(z-z%u)/u,Z=z<u?0:W[V-u],U=R&&W[(R-1)*L+k*u+z%u],W[V++]=(D+Math.floor((Z+U)/2))%256;break;case 4:for(z=Le=0;Le<L;z=Le+=1)D=o[f++],k=(z-z%u)/u,Z=z<u?0:W[V-u],R===0?U=se=0:(U=W[(R-1)*L+k*u+z%u],se=k&&W[(R-1)*L+(k-1)*u+z%u]),de=Z+U-se,De=Math.abs(de-Z),C=Math.abs(de-U),O=Math.abs(de-se),H=De<=C&&De<=O?Z:C<=O?U:se,W[V++]=(D+H)%256;break;default:throw new Error("Invalid filter algorithm: "+o[f-1])}if(!F){var Y=((T+R*P)*m.width+A)*u,J=R*L;for(z=0;z<X;z+=1){for(var ie=0;ie<u;ie+=1)h[Y++]=W[J++];Y+=(w-1)*u}}R++}}return o=gI(o),m.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),h},r.prototype.decodePalette=function(){var o,u,h,f,m,b,A,T,w;for(h=this.palette,b=this.transparency.indexed||[],m=new Uint8Array((b.length||0)+h.length),f=0,o=0,u=A=0,T=h.length;A<T;u=A+=3)m[f++]=h[u],m[f++]=h[u+1],m[f++]=h[u+2],m[f++]=(w=b[o++])!=null?w:255;return m},r.prototype.copyToImageData=function(o,u){var h,f,m,b,A,T,w,P,D,V,k;if(f=this.colors,D=null,h=this.hasAlphaChannel,this.palette.length&&(D=(k=this._decodedPalette)!=null?k:this._decodedPalette=this.decodePalette(),f=4,h=!0),P=(m=o.data||o).length,A=D||u,b=T=0,f===1)for(;b<P;)w=D?4*u[b/4]:T,V=A[w++],m[b++]=V,m[b++]=V,m[b++]=V,m[b++]=h?A[w++]:255,T=w;else for(;b<P;)w=D?4*u[b/4]:T,m[b++]=A[w++],m[b++]=A[w++],m[b++]=A[w++],m[b++]=h?A[w++]:255,T=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(Pt)==="[object Window]"){try{e=Pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),n=function(o){var u;if(a()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var u,h,f,m,b,A,T,w;if(this.animation){for(w=[],h=b=0,A=(T=this.animation.frames).length;b<A;h=++b)u=T[h],f=o.createImageData(u.width,u.height),m=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(f,m),u.imageData=f,w.push(u.image=n(f));return w}},r.prototype.renderFrame=function(o,u){var h,f,m;return h=(f=this.animation.frames)[u],m=f[u-1],u===0&&o.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?o.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&o.putImageData(m.imageData,m.xOffset,m.yOffset),h.blendOp===0&&o.clearRect(h.xOffset,h.yOffset,h.width,h.height),o.drawImage(h.image,h.xOffset,h.yOffset)},r.prototype.animate=function(o){var u,h,f,m,b,A,T=this;return h=0,A=this.animation,m=A.numFrames,f=A.frames,b=A.numPlays,(u=function(){var w,P;if(w=h++%m,P=f[w],T.renderFrame(o,w),m>1&&h/m<b)return T.animation._timeout=setTimeout(u,P.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var u,h;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,u=o.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(h=u.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),u.putImageData(h,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VI(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<(7&a)+1;n[e++],n[e++];var h=null,f=null;o&&(h=e,f=u,e+=3*u);var m=!0,b=[],A=0,T=null,w=0,P=null;for(this.width=t,this.height=r;m&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,P=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var D=n[e++];A=n[e++]|n[e++]<<8,T=n[e++],(1&D)==0&&(T=null),w=D>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var V=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,z=n[e++]|n[e++]<<8,Z=n[e++]|n[e++]<<8,he=n[e++],de=he>>6&1,De=1<<(7&he)+1,H=h,C=f,O=!1;he>>7&&(O=!0,H=e,C=De,e+=3*De);var W=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}b.push({x:V,y:k,width:z,height:Z,has_local_palette:O,palette_offset:H,palette_size:C,data_offset:W,data_length:e-W,transparent_index:T,interlaced:!!de,delay:A,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return P},this.frameInfo=function(L){if(L<0||L>=b.length)throw new Error("Frame index out of range.");return b[L]},this.decodeAndBlitFrameBGRA=function(L,U){var se=this.frameInfo(L),ke=se.width*se.height,le=new Uint8Array(ke);K_(n,se.data_offset,le,ke);var Ae=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var Le=se.width,X=t-Le,Te=Le,F=4*(se.y*t+se.x),Y=4*((se.y+se.height)*t+se.x),J=F,ie=4*X;se.interlaced===!0&&(ie+=4*t*7);for(var ae=8,Ee=0,we=le.length;Ee<we;++Ee){var Ne=le[Ee];if(Te===0&&(Te=Le,(J+=ie)>=Y&&(ie=4*X+4*t*(ae-1),J=F+(Le+X)*(ae<<1),ae>>=1)),Ne===ce)J+=4;else{var He=n[Ae+3*Ne],Ye=n[Ae+3*Ne+1],it=n[Ae+3*Ne+2];U[J++]=it,U[J++]=Ye,U[J++]=He,U[J++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(L,U){var se=this.frameInfo(L),ke=se.width*se.height,le=new Uint8Array(ke);K_(n,se.data_offset,le,ke);var Ae=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var Le=se.width,X=t-Le,Te=Le,F=4*(se.y*t+se.x),Y=4*((se.y+se.height)*t+se.x),J=F,ie=4*X;se.interlaced===!0&&(ie+=4*t*7);for(var ae=8,Ee=0,we=le.length;Ee<we;++Ee){var Ne=le[Ee];if(Te===0&&(Te=Le,(J+=ie)>=Y&&(ie=4*X+4*t*(ae-1),J=F+(Le+X)*(ae<<1),ae>>=1)),Ne===ce)J+=4;else{var He=n[Ae+3*Ne],Ye=n[Ae+3*Ne+1],it=n[Ae+3*Ne+2];U[J++]=He,U[J++]=Ye,U[J++]=it,U[J++]=255}--Te}}}function K_(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,h=u+1,f=a+1,m=(1<<f)-1,b=0,A=0,T=0,w=n[e++],P=new Int32Array(4096),D=null;;){for(;b<16&&w!==0;)A|=n[e++]<<b,b+=8,w===1?w=n[e++]:--w;if(b<f)break;var V=A&m;if(A>>=f,b-=f,V!==o){if(V===u)break;for(var k=V<h?V:D,z=0,Z=k;Z>o;)Z=P[Z]>>8,++z;var he=Z;if(T+z+(k!==V?1:0)>r)return void Un.log("Warning, gif stream longer than expected.");t[T++]=he;var de=T+=z;for(k!==V&&(t[T++]=he),Z=k;z--;)Z=P[Z],t[--de]=255&Z,Z>>=8;D!==null&&h<4096&&(P[h++]=D<<8|he,h>=m+1&&f<12&&(++f,m=m<<1|1)),D=V}else h=u+1,m=(1<<(f=a+1))-1,D=null}return T!==r&&Un.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gm(n){var e,t,r,a,o,u=Math.floor,h=new Array(64),f=new Array(64),m=new Array(64),b=new Array(64),A=new Array(65535),T=new Array(65535),w=new Array(64),P=new Array(64),D=[],V=0,k=7,z=new Array(64),Z=new Array(64),he=new Array(64),de=new Array(256),De=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ke=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(F,Y){for(var J=0,ie=0,ae=new Array,Ee=1;Ee<=16;Ee++){for(var we=1;we<=F[Ee];we++)ae[Y[ie]]=[],ae[Y[ie]][0]=J,ae[Y[ie]][1]=Ee,ie++,J++;J*=2}return ae}function Ae(F){for(var Y=F[0],J=F[1]-1;J>=0;)Y&1<<J&&(V|=1<<k),J--,--k<0&&(V==255?(ce(255),ce(0)):ce(V),k=7,V=0)}function ce(F){D.push(F)}function Le(F){ce(F>>8&255),ce(255&F)}function X(F,Y,J,ie,ae){for(var Ee,we=ae[0],Ne=ae[240],He=function(Ze,nt){var at,ot,gt,vt,Dt,bt,Nt,Yt,xt,qt,lt=0;for(xt=0;xt<8;++xt){at=Ze[lt],ot=Ze[lt+1],gt=Ze[lt+2],vt=Ze[lt+3],Dt=Ze[lt+4],bt=Ze[lt+5],Nt=Ze[lt+6];var Yn=at+(Yt=Ze[lt+7]),zt=at-Yt,Cn=ot+Nt,mn=ot-Nt,an=gt+bt,jn=gt-bt,en=vt+Dt,Ws=vt-Dt,On=Yn+en,hr=Yn-en,Wr=Cn+an,hn=Cn-an;Ze[lt]=On+Wr,Ze[lt+4]=On-Wr;var wt=.707106781*(hn+hr);Ze[lt+2]=hr+wt,Ze[lt+6]=hr-wt;var Kt=.382683433*((On=Ws+jn)-(hn=mn+zt)),ss=.5411961*On+Kt,nr=1.306562965*hn+Kt,Or=.707106781*(Wr=jn+mn),ui=zt+Or,ct=zt-Or;Ze[lt+5]=ct+ss,Ze[lt+3]=ct-ss,Ze[lt+1]=ui+nr,Ze[lt+7]=ui-nr,lt+=8}for(lt=0,xt=0;xt<8;++xt){at=Ze[lt],ot=Ze[lt+8],gt=Ze[lt+16],vt=Ze[lt+24],Dt=Ze[lt+32],bt=Ze[lt+40],Nt=Ze[lt+48];var Si=at+(Yt=Ze[lt+56]),Dr=at-Yt,rr=ot+Nt,Qn=ot-Nt,qn=gt+bt,fr=gt-bt,ci=vt+Dt,In=vt-Dt,wn=Si+ci,br=Si-ci,Mr=rr+qn,hi=rr-qn;Ze[lt]=wn+Mr,Ze[lt+32]=wn-Mr;var ir=.707106781*(hi+br);Ze[lt+16]=br+ir,Ze[lt+48]=br-ir;var Ti=.382683433*((wn=In+fr)-(hi=Qn+Dr)),Ni=.5411961*wn+Ti,as=1.306562965*hi+Ti,$r=.707106781*(Mr=fr+Qn),xi=Dr+$r,Wi=Dr-$r;Ze[lt+40]=Wi+Ni,Ze[lt+24]=Wi-Ni,Ze[lt+8]=xi+as,Ze[lt+56]=xi-as,lt++}for(xt=0;xt<64;++xt)qt=Ze[xt]*nt[xt],w[xt]=qt>0?qt+.5|0:qt-.5|0;return w}(F,Y),Ye=0;Ye<64;++Ye)P[H[Ye]]=He[Ye];var it=P[0]-J;J=P[0],it==0?Ae(ie[0]):(Ae(ie[T[Ee=32767+it]]),Ae(A[Ee]));for(var tt=63;tt>0&&P[tt]==0;)tt--;if(tt==0)return Ae(we),J;for(var _t,je=1;je<=tt;){for(var ne=je;P[je]==0&&je<=tt;)++je;var Lt=je-ne;if(Lt>=16){_t=Lt>>4;for(var ft=1;ft<=_t;++ft)Ae(Ne);Lt&=15}Ee=32767+P[je],Ae(ae[(Lt<<4)+T[Ee]]),Ae(A[Ee]),je++}return tt!=63&&Ae(we),J}function Te(F){F=Math.min(Math.max(F,1),100),o!=F&&(function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ae=u((J[ie]*Y+50)/100);ae=Math.min(Math.max(ae,1),255),h[H[ie]]=ae}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ne=u((Ee[we]*Y+50)/100);Ne=Math.min(Math.max(Ne,1),255),f[H[we]]=Ne}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,it=0;it<8;it++)for(var tt=0;tt<8;tt++)m[Ye]=1/(h[H[Ye]]*He[it]*He[tt]*8),b[Ye]=1/(f[H[Ye]]*He[it]*He[tt]*8),Ye++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,Y){Y&&Te(Y),D=new Array,V=0,k=7,Le(65496),Le(65504),Le(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Le(1),Le(1),ce(0),ce(0),function(){Le(65499),Le(132),ce(0);for(var ot=0;ot<64;ot++)ce(h[ot]);ce(1);for(var gt=0;gt<64;gt++)ce(f[gt])}(),function(ot,gt){Le(65472),Le(17),ce(8),Le(gt),Le(ot),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){Le(65476),Le(418),ce(0);for(var ot=0;ot<16;ot++)ce(C[ot+1]);for(var gt=0;gt<=11;gt++)ce(O[gt]);ce(16);for(var vt=0;vt<16;vt++)ce(W[vt+1]);for(var Dt=0;Dt<=161;Dt++)ce(R[Dt]);ce(1);for(var bt=0;bt<16;bt++)ce(L[bt+1]);for(var Nt=0;Nt<=11;Nt++)ce(U[Nt]);ce(17);for(var Yt=0;Yt<16;Yt++)ce(se[Yt+1]);for(var xt=0;xt<=161;xt++)ce(ke[xt])}(),Le(65498),Le(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var J=0,ie=0,ae=0;V=0,k=7,this.encode.displayName="_encode_";for(var Ee,we,Ne,He,Ye,it,tt,_t,je,ne=F.data,Lt=F.width,ft=F.height,Ze=4*Lt,nt=0;nt<ft;){for(Ee=0;Ee<Ze;){for(Ye=Ze*nt+Ee,tt=-1,_t=0,je=0;je<64;je++)it=Ye+(_t=je>>3)*Ze+(tt=4*(7&je)),nt+_t>=ft&&(it-=Ze*(nt+1+_t-ft)),Ee+tt>=Ze&&(it-=Ee+tt-Ze+4),we=ne[it++],Ne=ne[it++],He=ne[it++],z[je]=(De[we]+De[Ne+256>>0]+De[He+512>>0]>>16)-128,Z[je]=(De[we+768>>0]+De[Ne+1024>>0]+De[He+1280>>0]>>16)-128,he[je]=(De[we+1280>>0]+De[Ne+1536>>0]+De[He+1792>>0]>>16)-128;J=X(z,m,J,e,r),ie=X(Z,b,ie,t,a),ae=X(he,b,ae,t,a),Ee+=32}nt+=8}if(k>=0){var at=[];at[1]=k+1,at[0]=(1<<k+1)-1,Ae(at)}return Le(65497),new Uint8Array(D)},n=n||50,function(){for(var F=String.fromCharCode,Y=0;Y<256;Y++)de[Y]=F(Y)}(),e=le(C,O),t=le(L,U),r=le(W,R),a=le(se,ke),function(){for(var F=1,Y=2,J=1;J<=15;J++){for(var ie=F;ie<Y;ie++)T[32767+ie]=J,A[32767+ie]=[],A[32767+ie][1]=J,A[32767+ie][0]=ie;for(var ae=-(Y-1);ae<=-F;ae++)T[32767+ae]=J,A[32767+ae]=[],A[32767+ae][1]=J,A[32767+ae][0]=Y-1+ae;F<<=1,Y<<=1}}(),function(){for(var F=0;F<256;F++)De[F]=19595*F,De[F+256>>0]=38470*F,De[F+512>>0]=7471*F+32768,De[F+768>>0]=-11059*F,De[F+1024>>0]=-21709*F,De[F+1280>>0]=32768*F+8421375,De[F+1536>>0]=-27439*F,De[F+1792>>0]=-5329*F}(),Te(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ga(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function W_(n){function e(C){if(!C)throw Error("assert :P")}function t(C,O,W){for(var R=0;4>R;R++)if(C[O+R]!=W.charCodeAt(R))return!0;return!1}function r(C,O,W,R,L){for(var U=0;U<L;U++)C[O+U]=W[R+U]}function a(C,O,W,R){for(var L=0;L<R;L++)C[O+L]=W}function o(C){return new Int32Array(C)}function u(C,O){for(var W=[],R=0;R<C;R++)W.push(new O);return W}function h(C,O){var W=[];return function R(L,U,se){for(var ke=se[U],le=0;le<ke&&(L.push(se.length>U+1?[]:new O),!(se.length<U+1));le++)R(L[le],U+1,se)}(W,0,C),W}var f=function(){var C=this;function O(d,v){for(var E=1<<v-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function W(d,v,E,N,M){e(!(N%E));do d[v+(N-=E)]=M;while(0<N)}function R(d,v,E,N,M){if(e(2328>=M),512>=M)var B=o(512);else if((B=o(M))==null)return 0;return function(q,K,Q,ee,fe,xe){var Ce,ve,Oe=K,Re=1<<Q,oe=o(16),pe=o(16);for(e(fe!=0),e(ee!=null),e(q!=null),e(0<Q),ve=0;ve<fe;++ve){if(15<ee[ve])return 0;++oe[ee[ve]]}if(oe[0]==fe)return 0;for(pe[1]=0,Ce=1;15>Ce;++Ce){if(oe[Ce]>1<<Ce)return 0;pe[Ce+1]=pe[Ce]+oe[Ce]}for(ve=0;ve<fe;++ve)Ce=ee[ve],0<ee[ve]&&(xe[pe[Ce]++]=ve);if(pe[15]==1)return(ee=new L).g=0,ee.value=xe[0],W(q,Oe,1,Re,ee),Re;var Be,Ge=-1,ze=Re-1,ut=0,rt=1,St=1,et=1<<Q;for(ve=0,Ce=1,fe=2;Ce<=Q;++Ce,fe<<=1){if(rt+=St<<=1,0>(St-=oe[Ce]))return 0;for(;0<oe[Ce];--oe[Ce])(ee=new L).g=Ce,ee.value=xe[ve++],W(q,Oe+ut,fe,et,ee),ut=O(ut,Ce)}for(Ce=Q+1,fe=2;15>=Ce;++Ce,fe<<=1){if(rt+=St<<=1,0>(St-=oe[Ce]))return 0;for(;0<oe[Ce];--oe[Ce]){if(ee=new L,(ut&ze)!=Ge){for(Oe+=et,Be=1<<(Ge=Ce)-Q;15>Ge&&!(0>=(Be-=oe[Ge]));)++Ge,Be<<=1;Re+=et=1<<(Be=Ge-Q),q[K+(Ge=ut&ze)].g=Be+Q,q[K+Ge].value=Oe-K-Ge}ee.g=Ce-Q,ee.value=xe[ve++],W(q,Oe+(ut>>Q),fe,et,ee),ut=O(ut,Ce)}}return rt!=2*pe[15]-1?0:Re}(d,v,E,N,M,B)}function L(){this.value=this.g=0}function U(){this.value=this.g=0}function se(){this.G=u(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(wr,U)}function ke(d,v,E,N){e(d!=null),e(v!=null),e(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=E,d.Jd=v,d.Yc=E+N,d.Zc=4<=N?E+N-4+1:E,Ee(d)}function le(d,v){for(var E=0;0<v--;)E|=Ne(d,128)<<v;return E}function Ae(d,v){var E=le(d,v);return we(d)?-E:E}function ce(d,v,E,N){var M,B=0;for(e(d!=null),e(v!=null),e(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),M=0;M<N;++M)B+=v[E+M]<<8*M;d.Ra=B,d.bb=N,d.oa=v,d.pa=E}function Le(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<tl-8>>>0,++d.bb,d.u-=8;J(d)&&(d.h=1,d.u=0)}function X(d,v){if(e(0<=v),!d.h&&v<=el){var E=Y(d)&ho[v];return d.u+=v,Le(d),E}return d.h=1,d.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(d){return d.Ra>>>(d.u&tl-1)>>>0}function J(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>tl}function ie(d,v){d.u=v,d.h=J(d)}function ae(d){d.u>=Fl&&(e(d.u>=Fl),Le(d))}function Ee(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function we(d){return le(d,1)}function Ne(d,v){var E=d.Ca;0>d.b&&Ee(d);var N=d.b,M=E*v>>>8,B=(d.I>>>N>M)+0;for(B?(E-=M,d.I-=M+1<<N>>>0):E=M+1,N=E,M=0;256<=N;)M+=8,N>>=8;return N=7^M+Li[N],d.b-=N,d.Ca=(E<<N)-1,B}function He(d,v,E){d[v+0]=E>>24&255,d[v+1]=E>>16&255,d[v+2]=E>>8&255,d[v+3]=E>>0&255}function Ye(d,v){return d[v+0]<<0|d[v+1]<<8}function it(d,v){return Ye(d,v)|d[v+2]<<16}function tt(d,v){return Ye(d,v)|Ye(d,v+2)<<16}function _t(d,v){var E=1<<v;return e(d!=null),e(0<v),d.X=o(E),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function je(d,v){e(d!=null),e(v!=null),e(d.Xa==v.Xa),r(v.X,0,d.X,0,1<<v.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Lt(d,v,E,N){e(E!=null),e(N!=null);var M=E[0],B=N[0];return M==0&&(M=(d*B+v/2)/v),B==0&&(B=(v*M+d/2)/d),0>=M||0>=B?0:(E[0]=M,N[0]=B,1)}function ft(d,v){return d+(1<<v)-1>>>v}function Ze(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function nt(d,v){C[v]=function(E,N,M,B,q,K,Q){var ee;for(ee=0;ee<q;++ee){var fe=C[d](K[Q+ee-1],M,B+ee);K[Q+ee]=Ze(E[N+ee],fe)}}}function at(){this.ud=this.hd=this.jd=0}function ot(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function gt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function vt(d,v){return gt(d+(d-v+.5>>1))}function Dt(d,v,E){return Math.abs(v-E)-Math.abs(d-E)}function bt(d,v,E,N,M,B,q){for(N=B[q-1],E=0;E<M;++E)B[q+E]=N=Ze(d[v+E],N)}function Nt(d,v,E,N,M){var B;for(B=0;B<E;++B){var q=d[v+B],K=q>>8&255,Q=16711935&(Q=(Q=16711935&q)+((K<<16)+K));N[M+B]=(4278255360&q)+Q>>>0}}function Yt(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function xt(d,v,E,N,M,B){var q;for(q=0;q<N;++q){var K=v[E+q],Q=K>>>8,ee=K,fe=255&(fe=(fe=K>>>16)+((d.jd<<24>>24)*(Q<<24>>24)>>>5));ee=255&(ee=(ee=ee+((d.hd<<24>>24)*(Q<<24>>24)>>>5))+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),M[B+q]=(4278255360&K)+(fe<<16)+ee}}function qt(d,v,E,N,M){C[v]=function(B,q,K,Q,ee,fe,xe,Ce,ve){for(Q=xe;Q<Ce;++Q)for(xe=0;xe<ve;++xe)ee[fe++]=M(K[N(B[q++])])},C[d]=function(B,q,K,Q,ee,fe,xe){var Ce=8>>B.b,ve=B.Ea,Oe=B.K[0],Re=B.w;if(8>Ce)for(B=(1<<B.b)-1,Re=(1<<Ce)-1;q<K;++q){var oe,pe=0;for(oe=0;oe<ve;++oe)oe&B||(pe=N(Q[ee++])),fe[xe++]=M(Oe[pe&Re]),pe>>=Ce}else C["VP8LMapColor"+E](Q,ee,Oe,Re,fe,xe,q,K,ve)}}function lt(d,v,E,N,M){for(E=v+E;v<E;){var B=d[v++];N[M++]=B>>16&255,N[M++]=B>>8&255,N[M++]=B>>0&255}}function Yn(d,v,E,N,M){for(E=v+E;v<E;){var B=d[v++];N[M++]=B>>16&255,N[M++]=B>>8&255,N[M++]=B>>0&255,N[M++]=B>>24&255}}function zt(d,v,E,N,M){for(E=v+E;v<E;){var B=(q=d[v++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;N[M++]=B,N[M++]=q}}function Cn(d,v,E,N,M){for(E=v+E;v<E;){var B=(q=d[v++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;N[M++]=B,N[M++]=q}}function mn(d,v,E,N,M){for(E=v+E;v<E;){var B=d[v++];N[M++]=B>>0&255,N[M++]=B>>8&255,N[M++]=B>>16&255}}function an(d,v,E,N,M,B){if(B==0)for(E=v+E;v<E;)He(N,((B=d[v++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),M+=32;else r(N,M,d,v,E)}function jn(d,v){C[v][0]=C[d+"0"],C[v][1]=C[d+"1"],C[v][2]=C[d+"2"],C[v][3]=C[d+"3"],C[v][4]=C[d+"4"],C[v][5]=C[d+"5"],C[v][6]=C[d+"6"],C[v][7]=C[d+"7"],C[v][8]=C[d+"8"],C[v][9]=C[d+"9"],C[v][10]=C[d+"10"],C[v][11]=C[d+"11"],C[v][12]=C[d+"12"],C[v][13]=C[d+"13"],C[v][14]=C[d+"0"],C[v][15]=C[d+"0"]}function en(d){return d==Ls||d==Ps||d==aa||d==zc}function Ws(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ws,this.f.kb=new On,this.sd=null}function Wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Kt(d,v){var E=d.T,N=v.ba.f.RGBA,M=N.eb,B=N.fb+d.ka*N.A,q=vi[v.ba.S],K=d.y,Q=d.O,ee=d.f,fe=d.N,xe=d.ea,Ce=d.W,ve=v.cc,Oe=v.dc,Re=v.Mc,oe=v.Nc,pe=d.ka,Be=d.ka+d.T,Ge=d.U,ze=Ge+1>>1;for(pe==0?q(K,Q,null,null,ee,fe,xe,Ce,ee,fe,xe,Ce,M,B,null,null,Ge):(q(v.ec,v.fc,K,Q,ve,Oe,Re,oe,ee,fe,xe,Ce,M,B-N.A,M,B,Ge),++E);pe+2<Be;pe+=2)ve=ee,Oe=fe,Re=xe,oe=Ce,fe+=d.Rc,Ce+=d.Rc,B+=2*N.A,q(K,(Q+=2*d.fa)-d.fa,K,Q,ve,Oe,Re,oe,ee,fe,xe,Ce,M,B-N.A,M,B,Ge);return Q+=d.fa,d.j+Be<d.o?(r(v.ec,v.fc,K,Q,Ge),r(v.cc,v.dc,ee,fe,ze),r(v.Mc,v.Nc,xe,Ce,ze),E--):1&Be||q(K,Q,null,null,ee,fe,xe,Ce,ee,fe,xe,Ce,M,B+N.A,null,null,Ge),E}function ss(d,v,E){var N=d.F,M=[d.J];if(N!=null){var B=d.U,q=v.ba.S,K=q==gi||q==aa;v=v.ba.f.RGBA;var Q=[0],ee=d.ka;Q[0]=d.T,d.Kb&&(ee==0?--Q[0]:(--ee,M[0]-=d.width),d.j+d.ka+d.T==d.o&&(Q[0]=d.o-d.j-ee));var fe=v.eb;ee=v.fb+ee*v.A,d=gn(N,M[0],d.width,B,Q,fe,ee+(K?0:3),v.A),e(E==Q),d&&en(q)&&Jn(fe,ee,K,B,Q,v.A)}return 0}function nr(d){var v=d.ma,E=v.ba.S,N=11>E,M=E==ka||E==sl||E==gi||E==Oi||E==12||en(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!co(v.Oa,d,M?11:12))return 0;if(M&&en(E)&&Qe(),d.da)alert("todo:use_scaling");else{if(N){if(v.Ib=wt,d.Kb){if(E=d.U+1>>1,v.memory=o(d.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=Kt,Qe()}}else alert("todo:EmitYUV");M&&(v.Jb=ss,N&&be())}if(N&&!Ds){for(d=0;256>d;++d)Ao[d]=89858*(d-128)+ec>>ol,Da[d]=-22014*(d-128)+ec,Eo[d]=-45773*(d-128),Vd[d]=113618*(d-128)+ec>>ol;for(d=ll;d<tc;++d)v=76283*(d-16)+ec>>ol,Ar[d-ll]=yn(v,255),Kc[d-ll]=yn(v+8>>4,15);Ds=1}return 1}function Or(d){var v=d.ma,E=d.U,N=d.T;return e(!(1&d.ka)),0>=E||0>=N?0:(E=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,E),v.Dc+=E,1)}function ui(d){d.ma.memory=null}function ct(d,v,E,N){return X(d,8)!=47?0:(v[0]=X(d,14)+1,E[0]=X(d,14)+1,N[0]=X(d,1),X(d,3)!=0?0:!d.h)}function Si(d,v){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+X(v,E)+1}function Dr(d,v){return 120<v?v-120:1<=(E=((E=ks[v-1])>>4)*d+(8-(15&E)))?E:1;var E}function rr(d,v,E){var N=Y(E),M=d[v+=255&N].g-8;return 0<M&&(ie(E,E.u+8),N=Y(E),v+=d[v].value,v+=N&(1<<M)-1),ie(E,E.u+d[v].g),d[v].value}function Qn(d,v,E){return E.g+=d.g,E.value+=d.value<<v>>>0,e(8>=E.g),d.g}function qn(d,v,E){var N=d.xc;return e((v=N==0?0:d.vc[d.md*(E>>N)+(v>>N)])<d.Wb),d.Ya[v]}function fr(d,v,E,N){var M=d.ab,B=d.c*v,q=d.C;v=q+v;var K=E,Q=N;for(N=d.Ta,E=d.Ua;0<M--;){var ee=d.gc[M],fe=q,xe=v,Ce=K,ve=Q,Oe=(Q=N,K=E,ee.Ea);switch(e(fe<xe),e(xe<=ee.nc),ee.hc){case 2:qc(Ce,ve,(xe-fe)*Oe,Q,K);break;case 0:var Re=fe,oe=xe,pe=Q,Be=K,Ge=(et=ee).Ea;Re==0&&(sf(Ce,ve,null,null,1,pe,Be),bt(Ce,ve+1,0,0,Ge-1,pe,Be+1),ve+=Ge,Be+=Ge,++Re);for(var ze=1<<et.b,ut=ze-1,rt=ft(Ge,et.b),St=et.K,et=et.w+(Re>>et.b)*rt;Re<oe;){var on=St,vn=et,nn=1;for(Gu(Ce,ve,pe,Be-Ge,1,pe,Be);nn<Ge;){var $t=(nn&~ut)+ze;$t>Ge&&($t=Ge),(0,xa[on[vn++]>>8&15])(Ce,ve+ +nn,pe,Be+nn-Ge,$t-nn,pe,Be+nn),nn=$t}ve+=Ge,Be+=Ge,++Re&ut||(et+=rt)}xe!=ee.nc&&r(Q,K-Oe,Q,K+(xe-fe-1)*Oe,Oe);break;case 1:for(Oe=Ce,oe=ve,Ge=(Ce=ee.Ea)-(Be=Ce&~(pe=(ve=1<<ee.b)-1)),Re=ft(Ce,ee.b),ze=ee.K,ee=ee.w+(fe>>ee.b)*Re;fe<xe;){for(ut=ze,rt=ee,St=new at,et=oe+Be,on=oe+Ce;oe<et;)Yt(ut[rt++],St),po(St,Oe,oe,ve,Q,K),oe+=ve,K+=ve;oe<on&&(Yt(ut[rt++],St),po(St,Oe,oe,Ge,Q,K),oe+=Ge,K+=Ge),++fe&pe||(ee+=Re)}break;case 3:if(Ce==Q&&ve==K&&0<ee.b){for(oe=Q,Ce=Oe=K+(xe-fe)*Oe-(Be=(xe-fe)*ft(ee.Ea,ee.b)),ve=Q,pe=K,Re=[],Be=(Ge=Be)-1;0<=Be;--Be)Re[Be]=ve[pe+Be];for(Be=Ge-1;0<=Be;--Be)oe[Ce+Be]=Re[Be];fs(ee,fe,xe,Q,Oe,Q,K)}else fs(ee,fe,xe,Ce,ve,Q,K)}K=N,Q=E}Q!=E&&r(N,E,K,Q,B)}function ci(d,v){var E=d.V,N=d.Ba+d.c*d.C,M=v-d.C;if(e(v<=d.l.o),e(16>=M),0<M){var B=d.l,q=d.Ta,K=d.Ua,Q=B.width;if(fr(d,M,E,N),M=K=[K],e((E=d.C)<(N=v)),e(B.v<B.va),N>B.o&&(N=B.o),E<B.j){var ee=B.j-E;E=B.j,M[0]+=ee*Q}if(E>=N?E=0:(M[0]+=4*B.v,B.ka=E-B.j,B.U=B.va-B.v,B.T=N-E,E=1),E){if(K=K[0],11>(E=d.ca).S){var fe=E.f.RGBA,xe=(N=E.S,M=B.U,B=B.T,ee=fe.eb,fe.A),Ce=B;for(fe=fe.fb+d.Ma*fe.A;0<Ce--;){var ve=q,Oe=K,Re=M,oe=ee,pe=fe;switch(N){case Pa:mi(ve,Oe,Re,oe,pe);break;case ka:Vr(ve,Oe,Re,oe,pe);break;case Ls:Vr(ve,Oe,Re,oe,pe),Jn(oe,pe,0,Re,1,0);break;case Yu:Pi(ve,Oe,Re,oe,pe);break;case sl:an(ve,Oe,Re,oe,pe,1);break;case Ps:an(ve,Oe,Re,oe,pe,1),Jn(oe,pe,0,Re,1,0);break;case gi:an(ve,Oe,Re,oe,pe,0);break;case aa:an(ve,Oe,Re,oe,pe,0),Jn(oe,pe,1,Re,1,0);break;case Oi:mo(ve,Oe,Re,oe,pe);break;case zc:mo(ve,Oe,Re,oe,pe),Wt(oe,pe,Re,1,0);break;case bo:Ra(ve,Oe,Re,oe,pe);break;default:e(0)}K+=Q,fe+=xe}d.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=E.height)}}d.C=v,e(d.C<=d.i)}function In(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var E=d.Ya[v].G,N=d.Ya[v].H;if(0<E[1][N[1]+0].g||0<E[2][N[2]+0].g||0<E[3][N[3]+0].g)return 0}return 1}function wn(d,v,E,N,M,B){if(d.Z!=0){var q=d.qd,K=d.rd;for(e(ms[d.Z]!=null);v<E;++v)ms[d.Z](q,K,N,M,N,M,B),q=N,K=M,M+=B;d.qd=q,d.rd=K}}function br(d,v){var E=d.l.ma,N=E.Z==0||E.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,e(v<=d.l.o),v>N){var M=d.l.width,B=E.ca,q=E.tb+M*N,K=d.V,Q=d.Ba+d.c*N,ee=d.gc;e(d.ab==1),e(ee[0].hc==3),fo(ee[0],N,v,K,Q,B,q),wn(E,N,v,B,q,M)}d.C=d.Ma=v}function Mr(d,v,E,N,M,B,q){var K=d.$/N,Q=d.$%N,ee=d.m,fe=d.s,xe=E+d.$,Ce=xe;M=E+N*M;var ve=E+N*B,Oe=280+fe.ua,Re=d.Pb?K:16777216,oe=0<fe.ua?fe.Wa:null,pe=fe.wc,Be=xe<ve?qn(fe,Q,K):null;e(d.C<B),e(ve<=M);var Ge=!1;e:for(;;){for(;Ge||xe<ve;){var ze=0;if(K>=Re){var ut=xe-E;e((Re=d).Pb),Re.wd=Re.m,Re.xd=ut,0<Re.s.ua&&je(Re.s.Wa,Re.s.vb),Re=K+lf}if(Q&pe||(Be=qn(fe,Q,K)),e(Be!=null),Be.Qb&&(v[xe]=Be.qb,Ge=!0),!Ge)if(ae(ee),Be.jc){ze=ee,ut=v;var rt=xe,St=Be.pd[Y(ze)&wr-1];e(Be.jc),256>St.g?(ie(ze,ze.u+St.g),ut[rt]=St.value,ze=0):(ie(ze,ze.u+St.g-256),e(256<=St.value),ze=St.value),ze==0&&(Ge=!0)}else ze=rr(Be.G[0],Be.H[0],ee);if(ee.h)break;if(Ge||256>ze){if(!Ge)if(Be.nd)v[xe]=(Be.qb|ze<<8)>>>0;else{if(ae(ee),Ge=rr(Be.G[1],Be.H[1],ee),ae(ee),ut=rr(Be.G[2],Be.H[2],ee),rt=rr(Be.G[3],Be.H[3],ee),ee.h)break;v[xe]=(rt<<24|Ge<<16|ze<<8|ut)>>>0}if(Ge=!1,++xe,++Q>=N&&(Q=0,++K,q!=null&&K<=B&&!(K%16)&&q(d,K),oe!=null))for(;Ce<xe;)ze=v[Ce++],oe.X[(506832829*ze&4294967295)>>>oe.Mb]=ze}else if(280>ze){if(ze=Si(ze-256,ee),ut=rr(Be.G[4],Be.H[4],ee),ae(ee),ut=Dr(N,ut=Si(ut,ee)),ee.h)break;if(xe-E<ut||M-xe<ze)break e;for(rt=0;rt<ze;++rt)v[xe+rt]=v[xe+rt-ut];for(xe+=ze,Q+=ze;Q>=N;)Q-=N,++K,q!=null&&K<=B&&!(K%16)&&q(d,K);if(e(xe<=M),Q&pe&&(Be=qn(fe,Q,K)),oe!=null)for(;Ce<xe;)ze=v[Ce++],oe.X[(506832829*ze&4294967295)>>>oe.Mb]=ze}else{if(!(ze<Oe))break e;for(Ge=ze-280,e(oe!=null);Ce<xe;)ze=v[Ce++],oe.X[(506832829*ze&4294967295)>>>oe.Mb]=ze;ze=xe,e(!(Ge>>>(ut=oe).Xa)),v[ze]=ut.X[Ge],Ge=!0}Ge||e(ee.h==J(ee))}if(d.Pb&&ee.h&&xe<M)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&je(d.s.vb,d.s.Wa);else{if(ee.h)break e;q!=null&&q(d,K>B?B:K),d.a=0,d.$=xe-E}return 1}return d.a=3,0}function hi(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,e(d!=null)}function ir(){var d=new jl;return d==null?null:(d.a=0,d.xb=al,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),qc=Nt,po=xt,mi=lt,Vr=Yn,mo=zt,Ra=Cn,Pi=mn,C.VP8LMapColor32b=Ir,C.VP8LMapColor8b=Ku,d)}function Ti(d,v,E,N,M){var B=1,q=[d],K=[v],Q=N.m,ee=N.s,fe=null,xe=0;e:for(;;){if(E)for(;B&&X(Q,1);){var Ce=q,ve=K,Oe=N,Re=1,oe=Oe.m,pe=Oe.gc[Oe.ab],Be=X(oe,2);if(Oe.Oc&1<<Be)B=0;else{switch(Oe.Oc|=1<<Be,pe.hc=Be,pe.Ea=Ce[0],pe.nc=ve[0],pe.K=[null],++Oe.ab,e(4>=Oe.ab),Be){case 0:case 1:pe.b=X(oe,3)+2,Re=Ti(ft(pe.Ea,pe.b),ft(pe.nc,pe.b),0,Oe,pe.K),pe.K=pe.K[0];break;case 3:var Ge,ze=X(oe,8)+1,ut=16<ze?0:4<ze?1:2<ze?2:3;if(Ce[0]=ft(pe.Ea,ut),pe.b=ut,Ge=Re=Ti(ze,1,0,Oe,pe.K)){var rt,St=ze,et=pe,on=1<<(8>>et.b),vn=o(on);if(vn==null)Ge=0;else{var nn=et.K[0],$t=et.w;for(vn[0]=et.K[0][0],rt=1;rt<1*St;++rt)vn[rt]=Ze(nn[$t+rt],vn[rt-1]);for(;rt<4*on;++rt)vn[rt]=0;et.K[0]=null,et.K[0]=vn,Ge=1}}Re=Ge;break;case 2:break;default:e(0)}B=Re}}if(q=q[0],K=K[0],B&&X(Q,1)&&!(B=1<=(xe=X(Q,4))&&11>=xe)){N.a=3;break e}var Nn;if(Nn=B)t:{var _n,Ut,er,xn=N,Ht=q,qr=K,ln=xe,ni=E,yi=xn.m,Pn=xn.s,mr=[null],zr=1,Di=0,Ms=oa[ln];n:for(;;){if(ni&&X(yi,1)){var Sr=X(yi,3)+2,la=ft(Ht,Sr),So=ft(qr,Sr),ul=la*So;if(!Ti(la,So,0,xn,mr))break n;for(mr=mr[0],Pn.xc=Sr,_n=0;_n<ul;++_n){var Ma=mr[_n]>>8&65535;mr[_n]=Ma,Ma>=zr&&(zr=Ma+1)}}if(yi.h)break n;for(Ut=0;5>Ut;++Ut){var Vn=ti[Ut];!Ut&&0<ln&&(Vn+=1<<ln),Di<Vn&&(Di=Vn)}var Yc=u(zr*Ms,L),Bd=zr,df=u(Bd,se);if(df==null)var nc=null;else e(65536>=Bd),nc=df;var $l=o(Di);if(nc==null||$l==null||Yc==null){xn.a=1;break n}var Yl=Yc;for(_n=er=0;_n<zr;++_n){var vs=nc[_n],cl=vs.G,hl=vs.H,pf=0,rc=1,qd=0;for(Ut=0;5>Ut;++Ut){Vn=ti[Ut],cl[Ut]=Yl,hl[Ut]=er,!Ut&&0<ln&&(Vn+=1<<ln);i:{var ic,To=Vn,sc=xn,No=$l,Qc=Yl,zd=er,ac=0,Ua=sc.m,Hd=X(Ua,1);if(a(No,0,0,To),Hd){var Gd=X(Ua,1)+1,Kd=X(Ua,1),Xc=X(Ua,Kd==0?1:8);No[Xc]=1,Gd==2&&(No[Xc=X(Ua,8)]=1);var oc=1}else{var mf=o(19),Jc=X(Ua,4)+4;if(19<Jc){sc.a=3;var lc=0;break i}for(ic=0;ic<Jc;++ic)mf[fn[ic]]=X(Ua,3);var Zc=void 0,uc=void 0,eh=sc,Wd=mf,cc=To,th=No,nh=0,ja=eh.m,$d=8,Yd=u(128,L);r:for(;R(Yd,0,7,Wd,19);){if(X(ja,1)){var Qd=2+2*X(ja,3);if((Zc=2+X(ja,Qd))>cc)break r}else Zc=cc;for(uc=0;uc<cc&&Zc--;){ae(ja);var Ql=Yd[0+(127&Y(ja))];ie(ja,ja.u+Ql.g);var xo=Ql.value;if(16>xo)th[uc++]=xo,xo!=0&&($d=xo);else{var rh=xo==16,gf=xo-16,Xd=of[gf],Us=X(ja,af[gf])+Xd;if(uc+Us>cc)break r;for(var fl=rh?$d:0;0<Us--;)th[uc++]=fl}}nh=1;break r}nh||(eh.a=3),oc=nh}(oc=oc&&!Ua.h)&&(ac=R(Qc,zd,8,No,To)),oc&&ac!=0?lc=ac:(sc.a=3,lc=0)}if(lc==0)break n;if(rc&&Br[Ut]==1&&(rc=Yl[er].g==0),pf+=Yl[er].g,er+=lc,3>=Ut){var ys,Va=$l[0];for(ys=1;ys<Vn;++ys)$l[ys]>Va&&(Va=$l[ys]);qd+=Va}}if(vs.nd=rc,vs.Qb=0,rc&&(vs.qb=(cl[3][hl[3]+0].value<<24|cl[1][hl[1]+0].value<<16|cl[2][hl[2]+0].value)>>>0,pf==0&&256>cl[0][hl[0]+0].value&&(vs.Qb=1,vs.qb+=cl[0][hl[0]+0].value<<8)),vs.jc=!vs.Qb&&6>qd,vs.jc){var Xl,js=vs;for(Xl=0;Xl<wr;++Xl){var Fa=Xl,Ba=js.pd[Fa],ua=js.G[0][js.H[0]+Fa];256<=ua.value?(Ba.g=ua.g+256,Ba.value=ua.value):(Ba.g=0,Ba.value=0,Fa>>=Qn(ua,8,Ba),Fa>>=Qn(js.G[1][js.H[1]+Fa],16,Ba),Fa>>=Qn(js.G[2][js.H[2]+Fa],0,Ba),Qn(js.G[3][js.H[3]+Fa],24,Ba))}}}Pn.vc=mr,Pn.Wb=zr,Pn.Ya=nc,Pn.yc=Yc,Nn=1;break t}Nn=0}if(!(B=Nn)){N.a=3;break e}if(0<xe){if(ee.ua=1<<xe,!_t(ee.Wa,xe)){N.a=1,B=0;break e}}else ee.ua=0;var Jl=N,vf=q,Jd=K,ih=Jl.s,Zl=ih.xc;if(Jl.c=vf,Jl.i=Jd,ih.md=ft(vf,Zl),ih.wc=Zl==0?-1:(1<<Zl)-1,E){N.xb=jd;break e}if((fe=o(q*K))==null){N.a=1,B=0;break e}B=(B=Mr(N,fe,0,q,K,K,null))&&!Q.h;break e}return B?(M!=null?M[0]=fe:(e(fe==null),e(E)),N.$=0,E||hi(ee)):hi(ee),B}function Ni(d,v){var E=d.c*d.i,N=E+v+16*v;return e(d.c<=v),d.V=o(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+v,1)}function as(d,v){var E=d.C,N=v-E,M=d.V,B=d.Ba+d.c*E;for(e(v<=d.l.o);0<N;){var q=16<N?16:N,K=d.l.ma,Q=d.l.width,ee=Q*q,fe=K.ca,xe=K.tb+Q*E,Ce=d.Ta,ve=d.Ua;fr(d,q,M,B),Hn(Ce,ve,fe,xe,ee),wn(K,E,E+q,fe,xe,Q),N-=q,M+=q*d.c,E+=q}e(E==v),d.C=d.Ma=v}function $r(){this.ub=this.yd=this.td=this.Rb=0}function xi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function As(){this.Yb=function(){var d=[];return function v(E,N,M){for(var B=M[N],q=0;q<B&&(E.push(M.length>N+1?[]:0),!(M.length<N+1));q++)v(E[q],N+1,M)}(d,0,[3,11]),d}()}function Dn(){this.jb=o(3),this.Wc=h([4,8],As),this.Xc=h([4,17],As)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Es(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function Qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ur(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Es),this.Y=0,this.ya=Array(new Ur),this.aa=0,this.l=new ga}function no(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Go(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new $r,this.Kc=new xi,this.ed=new Ho,this.Qa=new Wi,this.Ic=this.$c=this.Aa=0,this.D=new zu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,Te),this.ia=0,this.pb=u(4,Qr),this.Pa=new Dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new no),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Es),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ur),this.L=this.aa=0,this.gd=h([4,2],Es),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $s(){var d=new Go;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Gl||(Gl=Ko)),d}function An(d,v,E){return d.a==0&&(d.a=v,d.sc=E,d.cb=0),0}function fi(d,v,E){return 3<=E&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function Cr(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return An(d,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,N=v.w,M=v.ha;if(4>M)return An(d,7,"Truncated header.");var B=E[N+0]|E[N+1]<<8|E[N+2]<<16,q=d.Od;if(q.Rb=!(1&B),q.td=B>>1&7,q.yd=B>>4&1,q.ub=B>>5,3<q.td)return An(d,3,"Incorrect keyframe parameters.");if(!q.yd)return An(d,4,"Frame not displayable.");N+=3,M-=3;var K=d.Kc;if(q.Rb){if(7>M)return An(d,7,"cannot parse picture header");if(!fi(E,N,M))return An(d,3,"Bad code word");K.c=16383&(E[N+4]<<8|E[N+3]),K.Td=E[N+4]>>6,K.i=16383&(E[N+6]<<8|E[N+5]),K.Ud=E[N+6]>>6,N+=7,M-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((B=d.Pa).jb,0,255,B.jb.length),e((B=d.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(q.ub>M)return An(d,7,"bad partition length");ke(B=d.m,E,N,q.ub),N+=q.ub,M-=q.ub,q.Rb&&(K.Ld=we(B),K.Kd=we(B)),K=d.Qa;var Q,ee=d.Pa;if(e(B!=null),e(K!=null),K.Cb=we(B),K.Cb){if(K.Bb=we(B),we(B)){for(K.Fb=we(B),Q=0;4>Q;++Q)K.Zb[Q]=we(B)?Ae(B,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=we(B)?Ae(B,6):0}if(K.Bb)for(Q=0;3>Q;++Q)ee.jb[Q]=we(B)?le(B,8):255}else K.Bb=0;if(B.Ka)return An(d,3,"cannot parse segment header");if((K=d.ed).zd=we(B),K.Tb=le(B,6),K.wb=le(B,3),K.Pc=we(B),K.Pc&&we(B)){for(ee=0;4>ee;++ee)we(B)&&(K.vd[ee]=Ae(B,6));for(ee=0;4>ee;++ee)we(B)&&(K.od[ee]=Ae(B,6))}if(d.L=K.Tb==0?0:K.zd?1:2,B.Ka)return An(d,3,"cannot parse filter header");var fe=M;if(M=Q=N,N=Q+fe,K=fe,d.Xb=(1<<le(d.m,2))-1,fe<3*(ee=d.Xb))E=7;else{for(Q+=3*ee,K-=3*ee,fe=0;fe<ee;++fe){var xe=E[M+0]|E[M+1]<<8|E[M+2]<<16;xe>K&&(xe=K),ke(d.Jc[+fe],E,Q,xe),Q+=xe,K-=xe,M+=3}ke(d.Jc[+ee],E,Q,K),E=Q<N?0:5}if(E!=0)return An(d,E,"cannot parse partitions");for(E=le(Q=d.m,7),M=we(Q)?Ae(Q,4):0,N=we(Q)?Ae(Q,4):0,K=we(Q)?Ae(Q,4):0,ee=we(Q)?Ae(Q,4):0,Q=we(Q)?Ae(Q,4):0,fe=d.Qa,xe=0;4>xe;++xe){if(fe.Cb){var Ce=fe.Zb[xe];fe.Fb||(Ce+=E)}else{if(0<xe){d.pb[xe]=d.pb[0];continue}Ce=E}var ve=d.pb[xe];ve.Sc[0]=Oa[yn(Ce+M,127)],ve.Sc[1]=Hc[yn(Ce+0,127)],ve.Eb[0]=2*Oa[yn(Ce+N,127)],ve.Eb[1]=101581*Hc[yn(Ce+K,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Oa[yn(Ce+ee,117)],ve.Qc[1]=Hc[yn(Ce+Q,127)],ve.lc=Ce+Q}if(!q.Rb)return An(d,4,"Not a key frame.");for(we(B),q=d.Pa,E=0;4>E;++E){for(M=0;8>M;++M)for(N=0;3>N;++N)for(K=0;11>K;++K)ee=Ne(B,uf[E][M][N][K])?le(B,8):Ju[E][M][N][K],q.Wc[E][M].Yb[N][K]=ee;for(M=0;17>M;++M)q.Xc[E][M]=q.Wc[E][Ud[M]]}return d.kc=we(B),d.kc&&(d.Bd=le(B,8)),d.cb=1}function Ko(d,v,E,N,M,B,q){var K=v[M].Yb[E];for(E=0;16>M;++M){if(!Ne(d,K[E+0]))return M;for(;!Ne(d,K[E+1]);)if(K=v[++M].Yb[0],E=0,M==16)return 16;var Q=v[M+1].Yb;if(Ne(d,K[E+2])){var ee=d,fe=0;if(Ne(ee,(Ce=K)[(xe=E)+3]))if(Ne(ee,Ce[xe+6])){for(K=0,xe=2*(fe=Ne(ee,Ce[xe+8]))+(Ce=Ne(ee,Ce[xe+9+fe])),fe=0,Ce=Qu[xe];Ce[K];++K)fe+=fe+Ne(ee,Ce[K]);fe+=3+(8<<xe)}else Ne(ee,Ce[xe+7])?(fe=7+2*Ne(ee,165),fe+=Ne(ee,145)):fe=5+Ne(ee,159);else fe=Ne(ee,Ce[xe+4])?3+Ne(ee,Ce[xe+5]):2;K=Q[2]}else fe=1,K=Q[1];Q=q+Xu[M],0>(ee=d).b&&Ee(ee);var xe,Ce=ee.b,ve=(xe=ee.Ca>>1)-(ee.I>>Ce)>>31;--ee.b,ee.Ca+=ve,ee.Ca|=1,ee.I-=(xe+1&ve)<<Ce,B[Q]=((fe^ve)-ve)*N[(0<M)+0]}return 16}function Wo(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function va(d,v){if(d==null)return 0;if(v==null)return An(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Cr(d,v))return 0;if(e(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var E=Wc[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-E>>4,d.zb=v.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+E>>4,d.Hb=v.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var N=d.ed;for(E=0;4>E;++E){var M;if(d.Qa.Cb){var B=d.Qa.Lb[E];d.Qa.Fb||(B+=N.Tb)}else B=N.Tb;for(M=0;1>=M;++M){var q=d.gd[E][M],K=B;if(N.Pc&&(K+=N.vd[0],M&&(K+=N.od[0])),0<(K=0>K?0:63<K?63:K)){var Q=K;0<N.wb&&(Q=4<N.wb?Q>>2:Q>>1)>9-N.wb&&(Q=9-N.wb),1>Q&&(Q=1),q.dd=Q,q.tc=2*K+Q,q.ld=40<=K?2:15<=K?1:0}else q.tc=0;q.La=M}}}E=0}else An(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=Er);e:{E=d.Ic,N=4*(Q=d.za);var ee=32*Q,fe=Q+1,xe=0<d.L?Q*(0<d.Aa?2:1):0,Ce=(d.Aa==2?2:1)*Q;if((q=N+832+(M=3*(16*E+Wc[d.L])/2*ee)+(B=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=q)E=0;else{if(q>d.Vb){if(d.Vb=0,d.Ec=o(q),d.Fc=0,d.Ec==null){E=An(d,1,"no memory during frame initialization.");break e}d.Vb=q}q=d.Ec,K=d.Fc,d.Ac=q,d.Bc=K,K+=N,d.Gd=u(ee,no),d.Hd=0,d.rb=u(fe+1,Yr),d.sb=1,d.wa=xe?u(xe,Es):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Q),e(!0),d.oc=q,d.pc=K,K+=832,d.ya=u(Ce,Ur),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Q),d.R=16*Q,d.B=8*Q,Q=(ee=Wc[d.L])*d.R,ee=ee/2*d.B,d.sa=q,d.ta=K+Q,d.qa=d.sa,d.ra=d.ta+16*E*d.R+ee,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+ee,d.$c=0,K+=M,d.mb=B?q:null,d.nb=B?K:null,e(K+B<=d.Fc+d.Vb),Wo(d),a(d.Ac,d.Bc,0,N),E=1}}if(E){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!$u){for(E=-255;255>=E;++E)Zn[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)ds[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)il[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)es[255+E]=0>E?0:255<E?255:E;$u=1}go=Qs,Ji=ya,Bl=_a,ar=tn,Fr=Ys,zn=Ts,vo=ta,Wu=Rs,Is=oo,yo=Jo,_o=ao,Ca=Aa,nl=Ea,ql=na,rl=Xi,Ia=Zr,zl=pr,Zi=Ul,ps[0]=Qi,ps[1]=Hu,ps[2]=Ns,ps[3]=Yo,ps[4]=Xs,ps[5]=ls,ps[6]=pi,ps[7]=Ri,ps[8]=xs,ps[9]=Js,Os[0]=Yi,Os[1]=Ml,Os[2]=$i,Os[3]=ro,Os[4]=Tn,Os[5]=so,Os[6]=os,ts[0]=us,ts[1]=$o,ts[2]=Qo,ts[3]=Ci,ts[4]=Qt,ts[5]=dr,ts[6]=Zs,E=1}else E=0}E&&(E=function(ve,Oe){for(ve.M=0;ve.M<ve.Va;++ve.M){var Re,oe=ve.Jc[ve.M&ve.Xb],pe=ve.m,Be=ve;for(Re=0;Re<Be.za;++Re){var Ge=pe,ze=Be,ut=ze.Ac,rt=ze.Bc+4*Re,St=ze.zc,et=ze.ya[ze.aa+Re];if(ze.Qa.Bb?et.$b=Ne(Ge,ze.Pa.jb[0])?2+Ne(Ge,ze.Pa.jb[2]):Ne(Ge,ze.Pa.jb[1]):et.$b=0,ze.kc&&(et.Ad=Ne(Ge,ze.Bd)),et.Za=!Ne(Ge,145)+0,et.Za){var on=et.Ob,vn=0;for(ze=0;4>ze;++ze){var nn,$t=St[0+ze];for(nn=0;4>nn;++nn){$t=Md[ut[rt+nn]][$t];for(var Nn=Kl[Ne(Ge,$t[0])];0<Nn;)Nn=Kl[2*Nn+Ne(Ge,$t[Nn])];$t=-Nn,ut[rt+nn]=$t}r(on,vn,ut,rt,4),vn+=4,St[0+ze]=$t}}else $t=Ne(Ge,156)?Ne(Ge,128)?1:3:Ne(Ge,163)?2:0,et.Ob[0]=$t,a(ut,rt,$t,4),a(St,0,$t,4);et.Dd=Ne(Ge,142)?Ne(Ge,114)?Ne(Ge,183)?1:3:2:0}if(Be.m.Ka)return An(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Be=oe,Ge=(pe=ve).rb[pe.sb-1],ut=pe.rb[pe.sb+pe.ja],Re=pe.ya[pe.aa+pe.ja],rt=pe.kc?Re.Ad:0)Ge.la=ut.la=0,Re.Za||(Ge.Na=ut.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var _n,Ut;if(Ge=ut,ut=Be,rt=pe.Pa.Xc,St=pe.ya[pe.aa+pe.ja],et=pe.pb[St.$b],ze=St.ad,on=0,vn=pe.rb[pe.sb-1],$t=nn=0,a(ze,on,0,384),St.Za)var er=0,xn=rt[3];else{Nn=o(16);var Ht=Ge.Na+vn.Na;if(Ht=Gl(ut,rt[1],Ht,et.Eb,0,Nn,0),Ge.Na=vn.Na=(0<Ht)+0,1<Ht)go(Nn,0,ze,on);else{var qr=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)ze[on+Nn]=qr}er=1,xn=rt[0]}var ln=15&Ge.la,ni=15&vn.la;for(Nn=0;4>Nn;++Nn){var yi=1&ni;for(qr=Ut=0;4>qr;++qr)ln=ln>>1|(yi=(Ht=Gl(ut,xn,Ht=yi+(1&ln),et.Sc,er,ze,on))>er)<<7,Ut=Ut<<2|(3<Ht?3:1<Ht?2:ze[on+0]!=0),on+=16;ln>>=4,ni=ni>>1|yi<<7,nn=(nn<<8|Ut)>>>0}for(xn=ln,er=ni>>4,_n=0;4>_n;_n+=2){for(Ut=0,ln=Ge.la>>4+_n,ni=vn.la>>4+_n,Nn=0;2>Nn;++Nn){for(yi=1&ni,qr=0;2>qr;++qr)Ht=yi+(1&ln),ln=ln>>1|(yi=0<(Ht=Gl(ut,rt[2],Ht,et.Qc,0,ze,on)))<<3,Ut=Ut<<2|(3<Ht?3:1<Ht?2:ze[on+0]!=0),on+=16;ln>>=2,ni=ni>>1|yi<<5}$t|=Ut<<4*_n,xn|=ln<<4<<_n,er|=(240&ni)<<_n}Ge.la=xn,vn.la=er,St.Hc=nn,St.Gc=$t,St.ia=43690&$t?0:et.ia,rt=!(nn|$t)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Re.$b][Re.Za],pe.wa[pe.Y+pe.ja].La|=!rt),Be.Ka)return An(ve,7,"Premature end-of-file encountered.")}if(Wo(ve),pe=Oe,Be=1,Re=(oe=ve).D,Ge=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Re.M=oe.M,Re.uc=Ge,Ii(oe,Re),Be=1,Re=(Ut=oe.D).Nb,Ge=($t=Wc[oe.L])*oe.R,ut=$t/2*oe.B,Nn=16*Re*oe.R,qr=8*Re*oe.B,rt=oe.sa,St=oe.ta-Ge+Nn,et=oe.qa,ze=oe.ra-ut+qr,on=oe.Ha,vn=oe.Ia-ut+qr,ni=(ln=Ut.M)==0,nn=ln>=oe.Va-1,oe.Aa==2&&Ii(oe,Ut),Ut.uc)for(yi=(Ht=oe).D.M,e(Ht.D.uc),Ut=Ht.yb;Ut<Ht.Hb;++Ut){er=Ut,xn=yi;var Pn=(mr=(Vn=Ht).D).Nb;_n=Vn.R;var mr=mr.wa[mr.Y+er],zr=Vn.sa,Di=Vn.ta+16*Pn*_n+16*er,Ms=mr.dd,Sr=mr.tc;if(Sr!=0)if(e(3<=Sr),Vn.L==1)0<er&&Ia(zr,Di,_n,Sr+4),mr.La&&Zi(zr,Di,_n,Sr),0<xn&&rl(zr,Di,_n,Sr+4),mr.La&&zl(zr,Di,_n,Sr);else{var la=Vn.B,So=Vn.qa,ul=Vn.ra+8*Pn*la+8*er,Ma=Vn.Ha,Vn=Vn.Ia+8*Pn*la+8*er;Pn=mr.ld,0<er&&(Wu(zr,Di,_n,Sr+4,Ms,Pn),yo(So,ul,Ma,Vn,la,Sr+4,Ms,Pn)),mr.La&&(Ca(zr,Di,_n,Sr,Ms,Pn),ql(So,ul,Ma,Vn,la,Sr,Ms,Pn)),0<xn&&(vo(zr,Di,_n,Sr+4,Ms,Pn),Is(So,ul,Ma,Vn,la,Sr+4,Ms,Pn)),mr.La&&(_o(zr,Di,_n,Sr,Ms,Pn),nl(So,ul,Ma,Vn,la,Sr,Ms,Pn))}}if(oe.ia&&alert("todo:DitherRow"),pe.put!=null){if(Ut=16*ln,ln=16*(ln+1),ni?(pe.y=oe.sa,pe.O=oe.ta+Nn,pe.f=oe.qa,pe.N=oe.ra+qr,pe.ea=oe.Ha,pe.W=oe.Ia+qr):(Ut-=$t,pe.y=rt,pe.O=St,pe.f=et,pe.N=ze,pe.ea=on,pe.W=vn),nn||(ln-=$t),ln>pe.o&&(ln=pe.o),pe.F=null,pe.J=null,oe.Fa!=null&&0<oe.Fa.length&&Ut<ln&&(pe.J=uo(oe,pe,Ut,ln-Ut),pe.F=oe.mb,pe.F==null&&pe.F.length==0)){Be=An(oe,3,"Could not decode alpha data.");break e}Ut<pe.j&&($t=pe.j-Ut,Ut=pe.j,e(!(1&$t)),pe.O+=oe.R*$t,pe.N+=oe.B*($t>>1),pe.W+=oe.B*($t>>1),pe.F!=null&&(pe.J+=pe.width*$t)),Ut<ln&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=Ut-pe.j,pe.U=pe.va-pe.v,pe.T=ln-Ut,Be=pe.put(pe))}Re+1!=oe.Ic||nn||(r(oe.sa,oe.ta-Ge,rt,St+16*oe.R,Ge),r(oe.qa,oe.ra-ut,et,ze+8*oe.B,ut),r(oe.Ha,oe.Ia-ut,on,vn+8*oe.B,ut))}if(!Be)return An(ve,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),E&=1}return E?(d.cb=0,E):0}function di(d,v,E,N,M){M=d[v+E+32*N]+(M>>3),d[v+E+32*N]=-256&M?0>M?0:255:M}function Ss(d,v,E,N,M,B){di(d,v,0,E,N+M),di(d,v,1,E,N+B),di(d,v,2,E,N-B),di(d,v,3,E,N-M)}function Xn(d){return(20091*d>>16)+d}function Ln(d,v,E,N){var M,B=0,q=o(16);for(M=0;4>M;++M){var K=d[v+0]+d[v+8],Q=d[v+0]-d[v+8],ee=(35468*d[v+4]>>16)-Xn(d[v+12]),fe=Xn(d[v+4])+(35468*d[v+12]>>16);q[B+0]=K+fe,q[B+1]=Q+ee,q[B+2]=Q-ee,q[B+3]=K-fe,B+=4,v++}for(M=B=0;4>M;++M)K=(d=q[B+0]+4)+q[B+8],Q=d-q[B+8],ee=(35468*q[B+4]>>16)-Xn(q[B+12]),di(E,N,0,0,K+(fe=Xn(q[B+4])+(35468*q[B+12]>>16))),di(E,N,1,0,Q+ee),di(E,N,2,0,Q-ee),di(E,N,3,0,K-fe),B++,N+=32}function Ts(d,v,E,N){var M=d[v+0]+4,B=35468*d[v+4]>>16,q=Xn(d[v+4]),K=35468*d[v+1]>>16;Ss(E,N,0,M+q,d=Xn(d[v+1]),K),Ss(E,N,1,M+B,d,K),Ss(E,N,2,M-B,d,K),Ss(E,N,3,M-q,d,K)}function ya(d,v,E,N,M){Ln(d,v,E,N),M&&Ln(d,v+16,E,N+4)}function _a(d,v,E,N){Ji(d,v+0,E,N,1),Ji(d,v+32,E,N+128,1)}function tn(d,v,E,N){var M;for(d=d[v+0]+4,M=0;4>M;++M)for(v=0;4>v;++v)di(E,N,v,M,d)}function Ys(d,v,E,N){d[v+0]&&ar(d,v+0,E,N),d[v+16]&&ar(d,v+16,E,N+4),d[v+32]&&ar(d,v+32,E,N+128),d[v+48]&&ar(d,v+48,E,N+128+4)}function Qs(d,v,E,N){var M,B=o(16);for(M=0;4>M;++M){var q=d[v+0+M]+d[v+12+M],K=d[v+4+M]+d[v+8+M],Q=d[v+4+M]-d[v+8+M],ee=d[v+0+M]-d[v+12+M];B[0+M]=q+K,B[8+M]=q-K,B[4+M]=ee+Q,B[12+M]=ee-Q}for(M=0;4>M;++M)q=(d=B[0+4*M]+3)+B[3+4*M],K=B[1+4*M]+B[2+4*M],Q=B[1+4*M]-B[2+4*M],ee=d-B[3+4*M],E[N+0]=q+K>>3,E[N+16]=ee+Q>>3,E[N+32]=q-K>>3,E[N+48]=ee-Q>>3,N+=64}function Xr(d,v,E){var N,M=v-32,B=ki,q=255-d[M-1];for(N=0;N<E;++N){var K,Q=B,ee=q+d[v-1];for(K=0;K<E;++K)d[v+K]=Q[ee+d[M+K]];v+=32}}function Hu(d,v){Xr(d,v,4)}function $o(d,v){Xr(d,v,8)}function Ml(d,v){Xr(d,v,16)}function $i(d,v){var E;for(E=0;16>E;++E)r(d,v+32*E,d,v-32,16)}function ro(d,v){var E;for(E=16;0<E;--E)a(d,v,d[v-1],16),v+=32}function io(d,v,E){var N;for(N=0;16>N;++N)a(v,E+32*N,d,16)}function Yi(d,v){var E,N=16;for(E=0;16>E;++E)N+=d[v-1+32*E]+d[v+E-32];io(N>>5,d,v)}function Tn(d,v){var E,N=8;for(E=0;16>E;++E)N+=d[v-1+32*E];io(N>>4,d,v)}function so(d,v){var E,N=8;for(E=0;16>E;++E)N+=d[v+E-32];io(N>>4,d,v)}function os(d,v){io(128,d,v)}function Et(d,v,E){return d+2*v+E+2>>2}function Ns(d,v){var E,N=v-32;for(N=new Uint8Array([Et(d[N-1],d[N+0],d[N+1]),Et(d[N+0],d[N+1],d[N+2]),Et(d[N+1],d[N+2],d[N+3]),Et(d[N+2],d[N+3],d[N+4])]),E=0;4>E;++E)r(d,v+32*E,N,0,N.length)}function Yo(d,v){var E=d[v-1],N=d[v-1+32],M=d[v-1+64],B=d[v-1+96];He(d,v+0,16843009*Et(d[v-1-32],E,N)),He(d,v+32,16843009*Et(E,N,M)),He(d,v+64,16843009*Et(N,M,B)),He(d,v+96,16843009*Et(M,B,B))}function Qi(d,v){var E,N=4;for(E=0;4>E;++E)N+=d[v+E-32]+d[v-1+32*E];for(N>>=3,E=0;4>E;++E)a(d,v+32*E,N,4)}function Xs(d,v){var E=d[v-1+0],N=d[v-1+32],M=d[v-1+64],B=d[v-1-32],q=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],ee=d[v+3-32];d[v+0+96]=Et(N,M,d[v-1+96]),d[v+1+96]=d[v+0+64]=Et(E,N,M),d[v+2+96]=d[v+1+64]=d[v+0+32]=Et(B,E,N),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=Et(q,B,E),d[v+3+64]=d[v+2+32]=d[v+1+0]=Et(K,q,B),d[v+3+32]=d[v+2+0]=Et(Q,K,q),d[v+3+0]=Et(ee,Q,K)}function pi(d,v){var E=d[v+1-32],N=d[v+2-32],M=d[v+3-32],B=d[v+4-32],q=d[v+5-32],K=d[v+6-32],Q=d[v+7-32];d[v+0+0]=Et(d[v+0-32],E,N),d[v+1+0]=d[v+0+32]=Et(E,N,M),d[v+2+0]=d[v+1+32]=d[v+0+64]=Et(N,M,B),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=Et(M,B,q),d[v+3+32]=d[v+2+64]=d[v+1+96]=Et(B,q,K),d[v+3+64]=d[v+2+96]=Et(q,K,Q),d[v+3+96]=Et(K,Q,Q)}function ls(d,v){var E=d[v-1+0],N=d[v-1+32],M=d[v-1+64],B=d[v-1-32],q=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],ee=d[v+3-32];d[v+0+0]=d[v+1+64]=B+q+1>>1,d[v+1+0]=d[v+2+64]=q+K+1>>1,d[v+2+0]=d[v+3+64]=K+Q+1>>1,d[v+3+0]=Q+ee+1>>1,d[v+0+96]=Et(M,N,E),d[v+0+64]=Et(N,E,B),d[v+0+32]=d[v+1+96]=Et(E,B,q),d[v+1+32]=d[v+2+96]=Et(B,q,K),d[v+2+32]=d[v+3+96]=Et(q,K,Q),d[v+3+32]=Et(K,Q,ee)}function Ri(d,v){var E=d[v+0-32],N=d[v+1-32],M=d[v+2-32],B=d[v+3-32],q=d[v+4-32],K=d[v+5-32],Q=d[v+6-32],ee=d[v+7-32];d[v+0+0]=E+N+1>>1,d[v+1+0]=d[v+0+64]=N+M+1>>1,d[v+2+0]=d[v+1+64]=M+B+1>>1,d[v+3+0]=d[v+2+64]=B+q+1>>1,d[v+0+32]=Et(E,N,M),d[v+1+32]=d[v+0+96]=Et(N,M,B),d[v+2+32]=d[v+1+96]=Et(M,B,q),d[v+3+32]=d[v+2+96]=Et(B,q,K),d[v+3+64]=Et(q,K,Q),d[v+3+96]=Et(K,Q,ee)}function Js(d,v){var E=d[v-1+0],N=d[v-1+32],M=d[v-1+64],B=d[v-1+96];d[v+0+0]=E+N+1>>1,d[v+2+0]=d[v+0+32]=N+M+1>>1,d[v+2+32]=d[v+0+64]=M+B+1>>1,d[v+1+0]=Et(E,N,M),d[v+3+0]=d[v+1+32]=Et(N,M,B),d[v+3+32]=d[v+1+64]=Et(M,B,B),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=B}function xs(d,v){var E=d[v-1+0],N=d[v-1+32],M=d[v-1+64],B=d[v-1+96],q=d[v-1-32],K=d[v+0-32],Q=d[v+1-32],ee=d[v+2-32];d[v+0+0]=d[v+2+32]=E+q+1>>1,d[v+0+32]=d[v+2+64]=N+E+1>>1,d[v+0+64]=d[v+2+96]=M+N+1>>1,d[v+0+96]=B+M+1>>1,d[v+3+0]=Et(K,Q,ee),d[v+2+0]=Et(q,K,Q),d[v+1+0]=d[v+3+32]=Et(E,q,K),d[v+1+32]=d[v+3+64]=Et(N,E,q),d[v+1+64]=d[v+3+96]=Et(M,N,E),d[v+1+96]=Et(B,M,N)}function Qo(d,v){var E;for(E=0;8>E;++E)r(d,v+32*E,d,v-32,8)}function Ci(d,v){var E;for(E=0;8>E;++E)a(d,v,d[v-1],8),v+=32}function Jr(d,v,E){var N;for(N=0;8>N;++N)a(v,E+32*N,d,8)}function us(d,v){var E,N=8;for(E=0;8>E;++E)N+=d[v+E-32]+d[v-1+32*E];Jr(N>>4,d,v)}function dr(d,v){var E,N=4;for(E=0;8>E;++E)N+=d[v+E-32];Jr(N>>3,d,v)}function Qt(d,v){var E,N=4;for(E=0;8>E;++E)N+=d[v-1+32*E];Jr(N>>3,d,v)}function Zs(d,v){Jr(128,d,v)}function cs(d,v,E){var N=d[v-E],M=d[v+0],B=3*(M-N)+Hl[1020+d[v-2*E]-d[v+E]],q=La[112+(B+4>>3)];d[v-E]=ki[255+N+La[112+(B+3>>3)]],d[v+0]=ki[255+M-q]}function Xo(d,v,E,N){var M=d[v+0],B=d[v+E];return Gn[255+d[v-2*E]-d[v-E]]>N||Gn[255+B-M]>N}function ba(d,v,E,N){return 4*Gn[255+d[v-E]-d[v+0]]+Gn[255+d[v-2*E]-d[v+E]]<=N}function wa(d,v,E,N,M){var B=d[v-3*E],q=d[v-2*E],K=d[v-E],Q=d[v+0],ee=d[v+E],fe=d[v+2*E],xe=d[v+3*E];return 4*Gn[255+K-Q]+Gn[255+q-ee]>N?0:Gn[255+d[v-4*E]-B]<=M&&Gn[255+B-q]<=M&&Gn[255+q-K]<=M&&Gn[255+xe-fe]<=M&&Gn[255+fe-ee]<=M&&Gn[255+ee-Q]<=M}function Xi(d,v,E,N){var M=2*N+1;for(N=0;16>N;++N)ba(d,v+N,E,M)&&cs(d,v+N,E)}function Zr(d,v,E,N){var M=2*N+1;for(N=0;16>N;++N)ba(d,v+N*E,1,M)&&cs(d,v+N*E,1)}function pr(d,v,E,N){var M;for(M=3;0<M;--M)Xi(d,v+=4*E,E,N)}function Ul(d,v,E,N){var M;for(M=3;0<M;--M)Zr(d,v+=4,E,N)}function ea(d,v,E,N,M,B,q,K){for(B=2*B+1;0<M--;){if(wa(d,v,E,B,q))if(Xo(d,v,E,K))cs(d,v,E);else{var Q=d,ee=v,fe=E,xe=Q[ee-2*fe],Ce=Q[ee-fe],ve=Q[ee+0],Oe=Q[ee+fe],Re=Q[ee+2*fe],oe=27*(Be=Hl[1020+3*(ve-Ce)+Hl[1020+xe-Oe]])+63>>7,pe=18*Be+63>>7,Be=9*Be+63>>7;Q[ee-3*fe]=ki[255+Q[ee-3*fe]+Be],Q[ee-2*fe]=ki[255+xe+pe],Q[ee-fe]=ki[255+Ce+oe],Q[ee+0]=ki[255+ve-oe],Q[ee+fe]=ki[255+Oe-pe],Q[ee+2*fe]=ki[255+Re-Be]}v+=N}}function jr(d,v,E,N,M,B,q,K){for(B=2*B+1;0<M--;){if(wa(d,v,E,B,q))if(Xo(d,v,E,K))cs(d,v,E);else{var Q=d,ee=v,fe=E,xe=Q[ee-fe],Ce=Q[ee+0],ve=Q[ee+fe],Oe=La[112+((Re=3*(Ce-xe))+4>>3)],Re=La[112+(Re+3>>3)],oe=Oe+1>>1;Q[ee-2*fe]=ki[255+Q[ee-2*fe]+oe],Q[ee-fe]=ki[255+xe+Re],Q[ee+0]=ki[255+Ce-Oe],Q[ee+fe]=ki[255+ve-oe]}v+=N}}function ta(d,v,E,N,M,B){ea(d,v,E,1,16,N,M,B)}function Rs(d,v,E,N,M,B){ea(d,v,1,E,16,N,M,B)}function ao(d,v,E,N,M,B){var q;for(q=3;0<q;--q)jr(d,v+=4*E,E,1,16,N,M,B)}function Aa(d,v,E,N,M,B){var q;for(q=3;0<q;--q)jr(d,v+=4,1,E,16,N,M,B)}function oo(d,v,E,N,M,B,q,K){ea(d,v,M,1,8,B,q,K),ea(E,N,M,1,8,B,q,K)}function Jo(d,v,E,N,M,B,q,K){ea(d,v,1,M,8,B,q,K),ea(E,N,1,M,8,B,q,K)}function Ea(d,v,E,N,M,B,q,K){jr(d,v+4*M,M,1,8,B,q,K),jr(E,N+4*M,M,1,8,B,q,K)}function na(d,v,E,N,M,B,q,K){jr(d,v+4,1,M,8,B,q,K),jr(E,N+4,1,M,8,B,q,K)}function Sa(){this.ba=new hr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ta(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ra(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new L}function jl(){this.xb=this.a=0,this.l=new ga,this.ca=new hr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ra,this.ab=0,this.gc=u(4,Ta),this.Oc=0}function Cs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ia(d,v,E,N,M,B,q){for(d=d==null?0:d[v+0],v=0;v<q;++v)M[B+v]=d+E[N+v]&255,d=M[B+v]}function Na(d,v,E,N,M,B,q){var K;if(d==null)ia(null,null,E,N,M,B,q);else for(K=0;K<q;++K)M[B+K]=d[v+K]+E[N+K]&255}function ei(d,v,E,N,M,B,q){if(d==null)ia(null,null,E,N,M,B,q);else{var K,Q=d[v+0],ee=Q,fe=Q;for(K=0;K<q;++K)ee=fe+(Q=d[v+K])-ee,fe=E[N+K]+(-256&ee?0>ee?0:255:ee)&255,ee=Q,M[B+K]=fe}}function uo(d,v,E,N){var M=v.width,B=v.o;if(e(d!=null&&v!=null),0>E||0>=N||E+N>B)return null;if(!d.Cc){if(d.ga==null){var q;if(d.ga=new Cs,(q=d.ga==null)||(q=v.width*v.o,e(d.Gb.length==0),d.Gb=o(q),d.Uc=0,d.Gb==null?q=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,q=1),q=!q),!q){q=d.ga;var K=d.Fa,Q=d.P,ee=d.qc,fe=d.mb,xe=d.nb,Ce=Q+1,ve=ee-1,Oe=q.l;if(e(K!=null&&fe!=null&&v!=null),ms[0]=null,ms[1]=ia,ms[2]=Na,ms[3]=ei,q.ca=fe,q.tb=xe,q.c=v.width,q.i=v.height,e(0<q.c&&0<q.i),1>=ee)v=0;else if(q.$a=K[Q+0]>>0&3,q.Z=K[Q+0]>>2&3,q.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Q)v=0;else if(Oe.put=Or,Oe.ac=nr,Oe.bc=ui,Oe.ma=q,Oe.width=v.width,Oe.height=v.height,Oe.Da=v.Da,Oe.v=v.v,Oe.va=v.va,Oe.j=v.j,Oe.o=v.o,q.$a)e:{e(q.$a==1),v=ir();t:for(;;){if(v==null){v=0;break e}if(e(q!=null),q.mc=v,v.c=q.c,v.i=q.i,v.l=q.l,v.l.ma=q,v.l.width=q.c,v.l.height=q.i,v.a=0,ce(v.m,K,Ce,ve),!Ti(q.c,q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&In(v.s)?(q.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(q.ic=0,v=Ni(v,q.c)),!v))break t;v=1;break e}q.mc=null,v=0}else v=ve>=q.c*q.i;q=!v}if(q)return null;d.ga.Lc!=1?d.Ga=0:N=B-E}e(d.ga!=null),e(E+N<=B);e:{if(v=(K=d.ga).c,B=K.l.o,K.$a==0){if(Ce=d.rc,ve=d.Vc,Oe=d.Fa,Q=d.P+1+E*v,ee=d.mb,fe=d.nb+E*v,e(Q<=d.P+d.qc),K.Z!=0)for(e(ms[K.Z]!=null),q=0;q<N;++q)ms[K.Z](Ce,ve,Oe,Q,ee,fe,v),Ce=ee,ve=fe,fe+=v,Q+=v;else for(q=0;q<N;++q)r(ee,fe,Oe,Q,v),Ce=ee,ve=fe,fe+=v,Q+=v;d.rc=Ce,d.Vc=ve}else{if(e(K.mc!=null),v=E+N,e((q=K.mc)!=null),e(v<=q.i),q.C>=v)v=1;else if(K.ic||be(),K.ic){K=q.V,Ce=q.Ba,ve=q.c;var Re=q.i,oe=(Oe=1,Q=q.$/ve,ee=q.$%ve,fe=q.m,xe=q.s,q.$),pe=ve*Re,Be=ve*v,Ge=xe.wc,ze=oe<Be?qn(xe,ee,Q):null;e(oe<=pe),e(v<=Re),e(In(xe));t:for(;;){for(;!fe.h&&oe<Be;){if(ee&Ge||(ze=qn(xe,ee,Q)),e(ze!=null),ae(fe),256>(Re=rr(ze.G[0],ze.H[0],fe)))K[Ce+oe]=Re,++oe,++ee>=ve&&(ee=0,++Q<=v&&!(Q%16)&&br(q,Q));else{if(!(280>Re)){Oe=0;break t}Re=Si(Re-256,fe);var ut,rt=rr(ze.G[4],ze.H[4],fe);if(ae(fe),!(oe>=(rt=Dr(ve,rt=Si(rt,fe)))&&pe-oe>=Re)){Oe=0;break t}for(ut=0;ut<Re;++ut)K[Ce+oe+ut]=K[Ce+oe+ut-rt];for(oe+=Re,ee+=Re;ee>=ve;)ee-=ve,++Q<=v&&!(Q%16)&&br(q,Q);oe<Be&&ee&Ge&&(ze=qn(xe,ee,Q))}e(fe.h==J(fe))}br(q,Q>v?v:Q);break t}!Oe||fe.h&&oe<pe?(Oe=0,q.a=fe.h?5:3):q.$=oe,v=Oe}else v=Mr(q,q.V,q.Ba,q.c,q.i,v,as);if(!v){N=0;break e}}E+N>=B&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*M}function _(d,v,E,N,M,B){for(;0<M--;){var q,K=d,Q=v+(E?1:0),ee=d,fe=v+(E?0:3);for(q=0;q<N;++q){var xe=ee[fe+4*q];xe!=255&&(xe*=32897,K[Q+4*q+0]=K[Q+4*q+0]*xe>>23,K[Q+4*q+1]=K[Q+4*q+1]*xe>>23,K[Q+4*q+2]=K[Q+4*q+2]*xe>>23)}v+=B}}function j(d,v,E,N,M){for(;0<N--;){var B;for(B=0;B<E;++B){var q=d[v+2*B+0],K=15&(ee=d[v+2*B+1]),Q=4369*K,ee=(240&ee|ee>>4)*Q>>16;d[v+2*B+0]=(240&q|q>>4)*Q>>16&240|(15&q|q<<4)*Q>>16>>4&15,d[v+2*B+1]=240&ee|K}v+=M}}function te(d,v,E,N,M,B,q,K){var Q,ee,fe=255;for(ee=0;ee<M;++ee){for(Q=0;Q<N;++Q){var xe=d[v+Q];B[q+4*Q]=xe,fe&=xe}v+=E,q+=K}return fe!=255}function ue(d,v,E,N,M){var B;for(B=0;B<M;++B)E[N+B]=d[v+B]>>8}function be(){Jn=_,Wt=j,gn=te,Hn=ue}function Ve(d,v,E){C[d]=function(N,M,B,q,K,Q,ee,fe,xe,Ce,ve,Oe,Re,oe,pe,Be,Ge){var ze,ut=Ge-1>>1,rt=K[Q+0]|ee[fe+0]<<16,St=xe[Ce+0]|ve[Oe+0]<<16;e(N!=null);var et=3*rt+St+131074>>2;for(v(N[M+0],255&et,et>>16,Re,oe),B!=null&&(et=3*St+rt+131074>>2,v(B[q+0],255&et,et>>16,pe,Be)),ze=1;ze<=ut;++ze){var on=K[Q+ze]|ee[fe+ze]<<16,vn=xe[Ce+ze]|ve[Oe+ze]<<16,nn=rt+on+St+vn+524296,$t=nn+2*(on+St)>>3;et=$t+rt>>1,rt=(nn=nn+2*(rt+vn)>>3)+on>>1,v(N[M+2*ze-1],255&et,et>>16,Re,oe+(2*ze-1)*E),v(N[M+2*ze-0],255&rt,rt>>16,Re,oe+(2*ze-0)*E),B!=null&&(et=nn+St>>1,rt=$t+vn>>1,v(B[q+2*ze-1],255&et,et>>16,pe,Be+(2*ze-1)*E),v(B[q+2*ze+0],255&rt,rt>>16,pe,Be+(2*ze+0)*E)),rt=on,St=vn}1&Ge||(et=3*rt+St+131074>>2,v(N[M+Ge-1],255&et,et>>16,Re,oe+(Ge-1)*E),B!=null&&(et=3*St+rt+131074>>2,v(B[q+Ge-1],255&et,et>>16,pe,Be+(Ge-1)*E)))}}function Qe(){vi[Pa]=Zu,vi[ka]=cf,vi[Yu]=Gc,vi[sl]=hf,vi[gi]=wo,vi[Oi]=ff,vi[bo]=Wl,vi[Ls]=cf,vi[Ps]=hf,vi[aa]=wo,vi[zc]=ff}function st(d){return d&-16384?0>d?0:255:d>>gs}function p(d,v){return st((19077*d>>8)+(26149*v>>8)-14234)}function S(d,v,E){return st((19077*d>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function x(d,v){return st((19077*d>>8)+(33050*v>>8)-17685)}function G(d,v,E,N,M){N[M+0]=p(d,E),N[M+1]=S(d,v,E),N[M+2]=x(d,v)}function ge(d,v,E,N,M){N[M+0]=x(d,v),N[M+1]=S(d,v,E),N[M+2]=p(d,E)}function Ie(d,v,E,N,M){var B=S(d,v,E);v=B<<3&224|x(d,v)>>3,N[M+0]=248&p(d,E)|B>>5,N[M+1]=v}function Xe(d,v,E,N,M){var B=240&x(d,v)|15;N[M+0]=240&p(d,E)|S(d,v,E)>>4,N[M+1]=B}function Rt(d,v,E,N,M){N[M+0]=255,G(d,v,E,N,M+1)}function Xt(d,v,E,N,M){ge(d,v,E,N,M),N[M+3]=255}function Mt(d,v,E,N,M){G(d,v,E,N,M),N[M+3]=255}function yn(d,v){return 0>d?0:d>v?v:d}function En(d,v,E){C[d]=function(N,M,B,q,K,Q,ee,fe,xe){for(var Ce=fe+(-2&xe)*E;fe!=Ce;)v(N[M+0],B[q+0],K[Q+0],ee,fe),v(N[M+1],B[q+0],K[Q+0],ee,fe+E),M+=2,++q,++Q,fe+=2*E;1&xe&&v(N[M+0],B[q+0],K[Q+0],ee,fe)}}function hs(d,v,E){return E==0?d==0?v==0?6:5:v==0?4:0:E}function sr(d,v,E,N,M){switch(d>>>30){case 3:Ji(v,E,N,M,0);break;case 2:zn(v,E,N,M);break;case 1:ar(v,E,N,M)}}function Ii(d,v){var E,N,M=v.M,B=v.Nb,q=d.oc,K=d.pc+40,Q=d.oc,ee=d.pc+584,fe=d.oc,xe=d.pc+600;for(E=0;16>E;++E)q[K+32*E-1]=129;for(E=0;8>E;++E)Q[ee+32*E-1]=129,fe[xe+32*E-1]=129;for(0<M?q[K-1-32]=Q[ee-1-32]=fe[xe-1-32]=129:(a(q,K-32-1,127,21),a(Q,ee-32-1,127,9),a(fe,xe-32-1,127,9)),N=0;N<d.za;++N){var Ce=v.ya[v.aa+N];if(0<N){for(E=-1;16>E;++E)r(q,K+32*E-4,q,K+32*E+12,4);for(E=-1;8>E;++E)r(Q,ee+32*E-4,Q,ee+32*E+4,4),r(fe,xe+32*E-4,fe,xe+32*E+4,4)}var ve=d.Gd,Oe=d.Hd+N,Re=Ce.ad,oe=Ce.Hc;if(0<M&&(r(q,K-32,ve[Oe].y,0,16),r(Q,ee-32,ve[Oe].f,0,8),r(fe,xe-32,ve[Oe].ea,0,8)),Ce.Za){var pe=q,Be=K-32+16;for(0<M&&(N>=d.za-1?a(pe,Be,ve[Oe].y[15],4):r(pe,Be,ve[Oe+1].y,0,4)),E=0;4>E;E++)pe[Be+128+E]=pe[Be+256+E]=pe[Be+384+E]=pe[Be+0+E];for(E=0;16>E;++E,oe<<=2)pe=q,Be=K+Fd[E],ps[Ce.Ob[E]](pe,Be),sr(oe,Re,16*+E,pe,Be)}else if(pe=hs(N,M,Ce.Ob[0]),Os[pe](q,K),oe!=0)for(E=0;16>E;++E,oe<<=2)sr(oe,Re,16*+E,q,K+Fd[E]);for(E=Ce.Gc,pe=hs(N,M,Ce.Dd),ts[pe](Q,ee),ts[pe](fe,xe),oe=Re,pe=Q,Be=ee,255&(Ce=E>>0)&&(170&Ce?Bl(oe,256,pe,Be):Fr(oe,256,pe,Be)),Ce=fe,oe=xe,255&(E>>=8)&&(170&E?Bl(Re,320,Ce,oe):Fr(Re,320,Ce,oe)),M<d.Ub-1&&(r(ve[Oe].y,0,q,K+480,16),r(ve[Oe].f,0,Q,ee+224,8),r(ve[Oe].ea,0,fe,xe+224,8)),E=8*B*d.B,ve=d.sa,Oe=d.ta+16*N+16*B*d.R,Re=d.qa,Ce=d.ra+8*N+E,oe=d.Ha,pe=d.Ia+8*N+E,E=0;16>E;++E)r(ve,Oe+E*d.R,q,K+32*E,16);for(E=0;8>E;++E)r(Re,Ce+E*d.B,Q,ee+32*E,8),r(oe,pe+E*d.B,fe,xe+32*E,8)}}function sa(d,v,E,N,M,B,q,K,Q){var ee=[0],fe=[0],xe=0,Ce=Q!=null?Q.kd:0,ve=Q??new lo;if(d==null||12>E)return 7;ve.data=d,ve.w=v,ve.ha=E,v=[v],E=[E],ve.gb=[ve.gb];e:{var Oe=v,Re=E,oe=ve.gb;if(e(d!=null),e(Re!=null),e(oe!=null),oe[0]=0,12<=Re[0]&&!t(d,Oe[0],"RIFF")){if(t(d,Oe[0]+8,"WEBP")){oe=3;break e}var pe=tt(d,Oe[0]+4);if(12>pe||4294967286<pe){oe=3;break e}if(Ce&&pe>Re[0]-8){oe=7;break e}oe[0]=pe,Oe[0]+=12,Re[0]-=12}oe=0}if(oe!=0)return oe;for(pe=0<ve.gb[0],E=E[0];;){e:{var Be=d;Re=v,oe=E;var Ge=ee,ze=fe,ut=Oe=[0];if((et=xe=[xe])[0]=0,8>oe[0])oe=7;else{if(!t(Be,Re[0],"VP8X")){if(tt(Be,Re[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var rt=tt(Be,Re[0]+8),St=1+it(Be,Re[0]+12);if(2147483648<=St*(Be=1+it(Be,Re[0]+15))){oe=3;break e}ut!=null&&(ut[0]=rt),Ge!=null&&(Ge[0]=St),ze!=null&&(ze[0]=Be),Re[0]+=18,oe[0]-=18,et[0]=1}oe=0}}if(xe=xe[0],Oe=Oe[0],oe!=0)return oe;if(Re=!!(2&Oe),!pe&&xe)return 3;if(B!=null&&(B[0]=!!(16&Oe)),q!=null&&(q[0]=Re),K!=null&&(K[0]=0),q=ee[0],Oe=fe[0],xe&&Re&&Q==null){oe=0;break}if(4>E){oe=7;break}if(pe&&xe||!pe&&!xe&&!t(d,v[0],"ALPH")){E=[E],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{rt=d,oe=v,pe=E;var et=ve.gb;Ge=ve.na,ze=ve.P,ut=ve.Sa,St=22,e(rt!=null),e(pe!=null),Be=oe[0];var on=pe[0];for(e(Ge!=null),e(ut!=null),Ge[0]=null,ze[0]=null,ut[0]=0;;){if(oe[0]=Be,pe[0]=on,8>on){oe=7;break e}var vn=tt(rt,Be+4);if(4294967286<vn){oe=3;break e}var nn=8+vn+1&-2;if(St+=nn,0<et&&St>et){oe=3;break e}if(!t(rt,Be,"VP8 ")||!t(rt,Be,"VP8L")){oe=0;break e}if(on[0]<nn){oe=7;break e}t(rt,Be,"ALPH")||(Ge[0]=rt,ze[0]=Be+8,ut[0]=vn),Be+=nn,on-=nn}}if(E=E[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],oe!=0)break}E=[E],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(et=d,oe=v,pe=E,Ge=ve.gb[0],ze=ve.Ja,ut=ve.xa,rt=oe[0],Be=!t(et,rt,"VP8 "),St=!t(et,rt,"VP8L"),e(et!=null),e(pe!=null),e(ze!=null),e(ut!=null),8>pe[0])oe=7;else{if(Be||St){if(et=tt(et,rt+4),12<=Ge&&et>Ge-12){oe=3;break e}if(Ce&&et>pe[0]-8){oe=7;break e}ze[0]=et,oe[0]+=8,pe[0]-=8,ut[0]=St}else ut[0]=5<=pe[0]&&et[rt+0]==47&&!(et[rt+4]>>5),ze[0]=pe[0];oe=0}if(E=E[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],v=v[0],oe!=0)break;if(4294967286<ve.Ja)return 3;if(K==null||Re||(K[0]=ve.xa?2:1),q=[q],Oe=[Oe],ve.xa){if(5>E){oe=7;break}K=q,Ce=Oe,Re=B,d==null||5>E?d=0:5<=E&&d[v+0]==47&&!(d[v+4]>>5)?(pe=[0],et=[0],Ge=[0],ce(ze=new F,d,v,E),ct(ze,pe,et,Ge)?(K!=null&&(K[0]=pe[0]),Ce!=null&&(Ce[0]=et[0]),Re!=null&&(Re[0]=Ge[0]),d=1):d=0):d=0}else{if(10>E){oe=7;break}K=Oe,d==null||10>E||!fi(d,v+3,E-3)?d=0:(Ce=d[v+0]|d[v+1]<<8|d[v+2]<<16,Re=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=ve.Ja||!Re||!d?d=0:(q&&(q[0]=Re),K&&(K[0]=d),d=1))}if(!d||(q=q[0],Oe=Oe[0],xe&&(ee[0]!=q||fe[0]!=Oe)))return 3;Q!=null&&(Q[0]=ve,Q.offset=v-Q.w,e(4294967286>v-Q.w),e(Q.offset==Q.ha-E));break}return oe==0||oe==7&&xe&&Q==null?(B!=null&&(B[0]|=ve.na!=null&&0<ve.na.length),N!=null&&(N[0]=q),M!=null&&(M[0]=Oe),0):oe}function co(d,v,E){var N=v.width,M=v.height,B=0,q=0,K=N,Q=M;if(v.Da=d!=null&&0<d.Da,v.Da&&(K=d.cd,Q=d.bd,B=d.v,q=d.j,11>E||(B&=-2,q&=-2),0>B||0>q||0>=K||0>=Q||B+K>N||q+Q>M))return 0;if(v.v=B,v.j=q,v.va=B+K,v.o=q+Q,v.U=K,v.T=Q,v.da=d!=null&&0<d.da,v.da){if(!Lt(K,Q,E=[d.ib],B=[d.hb]))return 0;v.ib=E[0],v.hb=B[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*N/4&&v.hb<3*M/4,v.Kb=0),1}function Vl(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function Zo(d,v,E,N){if(N==null||0>=d||0>=v)return 2;if(E!=null){if(E.Da){var M=E.cd,B=E.bd,q=-2&E.v,K=-2&E.j;if(0>q||0>K||0>=M||0>=B||q+M>d||K+B>v)return 2;d=M,v=B}if(E.da){if(!Lt(d,v,M=[E.ib],B=[E.hb]))return 2;d=M[0],v=B[0]}}N.width=d,N.height=v;e:{var Q=N.width,ee=N.height;if(d=N.S,0>=Q||0>=ee||!(d>=Pa&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){q=B=M=v=0;var fe=(K=Q*$c[d])*ee;if(11>d||(B=(ee+1)/2*(v=(Q+1)/2),d==12&&(q=(M=Q)*ee)),(ee=o(fe+2*B+q))==null){d=1;break e}N.sd=ee,11>d?((Q=N.f.RGBA).eb=ee,Q.fb=0,Q.A=K,Q.size=fe):((Q=N.f.kb).y=ee,Q.O=0,Q.fa=K,Q.Fd=fe,Q.f=ee,Q.N=0+fe,Q.Ab=v,Q.Cd=B,Q.ea=ee,Q.W=0+fe+B,Q.Db=v,Q.Ed=B,d==12&&(Q.F=ee,Q.J=0+fe+2*B),Q.Tc=q,Q.lb=M)}if(v=1,M=N.S,B=N.width,q=N.height,M>=Pa&&13>M)if(11>M)d=N.f.RGBA,v&=(K=Math.abs(d.A))*(q-1)+B<=d.size,v&=K>=B*$c[M],v&=d.eb!=null;else{d=N.f.kb,K=(B+1)/2,fe=(q+1)/2,Q=Math.abs(d.fa),ee=Math.abs(d.Ab);var xe=Math.abs(d.Db),Ce=Math.abs(d.lb),ve=Ce*(q-1)+B;v&=Q*(q-1)+B<=d.Fd,v&=ee*(fe-1)+K<=d.Cd,v=(v&=xe*(fe-1)+K<=d.Ed)&Q>=B&ee>=K&xe>=K,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,M==12&&(v&=Ce>=B,v&=ve<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||E!=null&&E.fd&&(d=Vl(N)),d}var wr=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],el=24,tl=32,Fl=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(d){return d},C.Predictor2=function(d,v,E){return v[E+0]},C.Predictor3=function(d,v,E){return v[E+1]},C.Predictor4=function(d,v,E){return v[E-1]},C.Predictor5=function(d,v,E){return ot(ot(d,v[E+1]),v[E+0])},C.Predictor6=function(d,v,E){return ot(d,v[E-1])},C.Predictor7=function(d,v,E){return ot(d,v[E+0])},C.Predictor8=function(d,v,E){return ot(v[E-1],v[E+0])},C.Predictor9=function(d,v,E){return ot(v[E+0],v[E+1])},C.Predictor10=function(d,v,E){return ot(ot(d,v[E-1]),ot(v[E+0],v[E+1]))},C.Predictor11=function(d,v,E){var N=v[E+0];return 0>=Dt(N>>24&255,d>>24&255,(v=v[E-1])>>24&255)+Dt(N>>16&255,d>>16&255,v>>16&255)+Dt(N>>8&255,d>>8&255,v>>8&255)+Dt(255&N,255&d,255&v)?N:d},C.Predictor12=function(d,v,E){var N=v[E+0];return(gt((d>>24&255)+(N>>24&255)-((v=v[E-1])>>24&255))<<24|gt((d>>16&255)+(N>>16&255)-(v>>16&255))<<16|gt((d>>8&255)+(N>>8&255)-(v>>8&255))<<8|gt((255&d)+(255&N)-(255&v)))>>>0},C.Predictor13=function(d,v,E){var N=v[E-1];return(vt((d=ot(d,v[E+0]))>>24&255,N>>24&255)<<24|vt(d>>16&255,N>>16&255)<<16|vt(d>>8&255,N>>8&255)<<8|vt(d>>0&255,N>>0&255))>>>0};var sf=C.PredictorAdd0;C.PredictorAdd1=bt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Gu=C.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var qc,fs=C.ColorIndexInverseTransform,Ir=C.MapARGB,fo=C.VP8LColorIndexInverseTransformAlpha,Ku=C.MapAlpha,xa=C.VP8LPredictorsAdd=[];xa.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var po,mi,Vr,mo,Ra,Pi,go,Ji,zn,Bl,ar,Fr,vo,Wu,Is,yo,_o,Ca,nl,ql,rl,Ia,zl,Zi,Jn,Wt,gn,Hn,Zn=o(511),ds=o(2041),il=o(225),es=o(767),$u=0,Hl=ds,La=il,ki=es,Gn=Zn,Pa=0,ka=1,Yu=2,sl=3,gi=4,Oi=5,bo=6,Ls=7,Ps=8,aa=9,zc=10,af=[2,3,7],of=[3,3,11],ti=[280,256,256,256,40],Br=[0,1,1,1,0],fn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ks=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lf=8,Oa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gl=null,Qu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ju=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Md=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ud=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Os=[],ps=[],ts=[],jd=1,al=2,ms=[],vi=[];Ve("UpsampleRgbLinePair",G,3),Ve("UpsampleBgrLinePair",ge,3),Ve("UpsampleRgbaLinePair",Mt,4),Ve("UpsampleBgraLinePair",Xt,4),Ve("UpsampleArgbLinePair",Rt,4),Ve("UpsampleRgba4444LinePair",Xe,2),Ve("UpsampleRgb565LinePair",Ie,2);var Zu=C.UpsampleRgbLinePair,Gc=C.UpsampleBgrLinePair,cf=C.UpsampleRgbaLinePair,hf=C.UpsampleBgraLinePair,wo=C.UpsampleArgbLinePair,ff=C.UpsampleRgba4444LinePair,Wl=C.UpsampleRgb565LinePair,ol=16,ec=1<<ol-1,ll=-227,tc=482,gs=6,Ds=0,Ao=o(256),Vd=o(256),Eo=o(256),Da=o(256),Ar=o(tc-ll),Kc=o(tc-ll);En("YuvToRgbRow",G,3),En("YuvToBgrRow",ge,3),En("YuvToRgbaRow",Mt,4),En("YuvToBgraRow",Xt,4),En("YuvToArgbRow",Rt,4),En("YuvToRgba4444Row",Xe,2),En("YuvToRgb565Row",Ie,2);var Fd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wc=[0,2,8],n2=[8,7,6,4,4,2,2,2,1,1,1,1],Er=1;this.WebPDecodeRGBA=function(d,v,E,N,M){var B=ka,q=new Sa,K=new hr;q.ba=K,K.S=B,K.width=[K.width],K.height=[K.height];var Q=K.width,ee=K.height,fe=new Wr;if(fe==null||d==null)var xe=2;else e(fe!=null),xe=sa(d,v,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(xe!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],N!=null&&(N[0]=K.width),M!=null&&(M[0]=K.height);e:{if(N=new ga,(M=new lo).data=d,M.w=v,M.ha=E,M.kd=1,v=[0],e(M!=null),((d=sa(M.data,M.w,M.ha,null,null,null,v,null,M))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(e(q!=null),N.data=M.data,N.w=M.w+M.offset,N.ha=M.ha-M.offset,N.put=Or,N.ac=nr,N.bc=ui,N.ma=q,M.xa){if((d=ir())==null){q=1;break e}if(function(Ce,ve){var Oe=[0],Re=[0],oe=[0];t:for(;;){if(Ce==null)return 0;if(ve==null)return Ce.a=2,0;if(Ce.l=ve,Ce.a=0,ce(Ce.m,ve.data,ve.w,ve.ha),!ct(Ce.m,Oe,Re,oe)){Ce.a=3;break t}if(Ce.xb=al,ve.width=Oe[0],ve.height=Re[0],!Ti(Oe[0],Re[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0}(d,N)){if(N=(v=Zo(N.width,N.height,q.Oa,q.ba))==0){t:{N=d;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((E=N.l)!=null),e((M=E.ma)!=null),N.xb!=0){if(N.ca=M.ba,N.tb=M.tb,e(N.ca!=null),!co(M.Oa,E,sl)){N.a=2;break n}if(!Ni(N,E.width)||E.da)break n;if((E.da||en(N.ca.S))&&be(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&be()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!_t(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Mr(N,N.V,N.Ba,N.c,N.i,E.o,ci))break n;M.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(v=d.a)}else v=d.a}else{if((d=new $s)==null){q=1;break e}if(d.Fa=M.na,d.P=M.P,d.qc=M.Sa,Cr(d,N)){if((v=Zo(N.width,N.height,q.Oa,q.ba))==0){if(d.Aa=0,E=q.Oa,e((M=d)!=null),E!=null){if(0<(Q=0>(Q=E.Md)?0:100<Q?255:255*Q/100)){for(ee=fe=0;4>ee;++ee)12>(xe=M.pb[ee]).lc&&(xe.ia=Q*n2[0>xe.lc?0:xe.lc]>>3),fe|=xe.ia;fe&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=E.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}va(d,N)||(v=d.a)}}else v=d.a}v==0&&q.Oa!=null&&q.Oa.fd&&(v=Vl(q.ba))}q=v}B=q!=0?null:11>B?K.f.RGBA.eb:K.f.kb.y}else B=null;return B};var $c=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(C,O){for(var W="",R=0;R<4;R++)W+=String.fromCharCode(C[O++]);return W}function b(C,O){return(C[O+0]<<0|C[O+1]<<8|C[O+2]<<16)>>>0}function A(C,O){return(C[O+0]<<0|C[O+1]<<8|C[O+2]<<16|C[O+3]<<24)>>>0}new f;var T=[0],w=[0],P=[],D=new f,V=n,k=function(C,O){var W={},R=0,L=!1,U=0,se=0;if(W.frames=[],!function(Y,J,ie,ae){for(var Ee=0;Ee<ae;Ee++)if(Y[J+Ee]!=ie.charCodeAt(Ee))return!0;return!1}(C,O,"RIFF",4)){for(A(C,O+=4),O+=8;O<C.length;){var ke=m(C,O),le=A(C,O+=4);O+=4;var Ae=le+(1&le);switch(ke){case"VP8 ":case"VP8L":W.frames[R]===void 0&&(W.frames[R]={}),(X=W.frames[R]).src_off=L?se:O-8,X.src_size=U+le+8,R++,L&&(L=!1,U=0,se=0);break;case"VP8X":(X=W.header={}).feature_flags=C[O];var ce=O+4;X.canvas_width=1+b(C,ce),ce+=3,X.canvas_height=1+b(C,ce),ce+=3;break;case"ALPH":L=!0,U=Ae+8,se=O-8;break;case"ANIM":(X=W.header).bgcolor=A(C,O),ce=O+4,X.loop_count=(Te=C)[(F=ce)+0]<<0|Te[F+1]<<8,ce+=2;break;case"ANMF":var Le,X;(X=W.frames[R]={}).offset_x=2*b(C,O),O+=3,X.offset_y=2*b(C,O),O+=3,X.width=1+b(C,O),O+=3,X.height=1+b(C,O),O+=3,X.duration=b(C,O),O+=3,Le=C[O++],X.dispose=1&Le,X.blend=Le>>1&1}ke!="ANMF"&&(O+=Ae)}var Te,F;return W}}(V,0);k.response=V,k.rgbaoutput=!0,k.dataurl=!1;var z=k.header?k.header:null,Z=k.frames?k.frames:null;if(z){z.loop_counter=z.loop_count,T=[z.canvas_height],w=[z.canvas_width];for(var he=0;he<Z.length&&Z[he].blend!=0;he++);}var de=Z[0],De=D.WebPDecodeRGBA(V,de.src_off,de.src_size,w,T);de.rgba=De,de.imgwidth=w[0],de.imgheight=T[0];for(var H=0;H<w[0]*T[0]*4;H++)P[H]=De[H];return this.width=w,this.height=T,this.data=P,this}(function(n){var e=function(){return typeof N1=="function"},t=function(T,w,P,D){var V=4,k=u;switch(D){case n.image_compression.FAST:V=1,k=o;break;case n.image_compression.MEDIUM:V=6,k=h;break;case n.image_compression.SLOW:V=9,k=f}T=r(T,w,P,k);var z=N1(T,{level:V});return n.__addimage__.arrayBufferToBinaryString(z)},r=function(T,w,P,D){for(var V,k,z,Z=T.length/w,he=new Uint8Array(T.length+Z),de=b(),De=0;De<Z;De+=1){if(z=De*w,V=T.subarray(z,z+w),D)he.set(D(V,P,k),z+De);else{for(var H,C=de.length,O=[];H<C;H+=1)O[H]=de[H](V,P,k);var W=A(O.concat());he.set(O[W],z+De)}k=V}return he},a=function(T){var w=Array.apply([],T);return w.unshift(0),w},o=function(T,w){var P,D=[],V=T.length;D[0]=1;for(var k=0;k<V;k+=1)P=T[k-w]||0,D[k+1]=T[k]-P+256&255;return D},u=function(T,w,P){var D,V=[],k=T.length;V[0]=2;for(var z=0;z<k;z+=1)D=P&&P[z]||0,V[z+1]=T[z]-D+256&255;return V},h=function(T,w,P){var D,V,k=[],z=T.length;k[0]=3;for(var Z=0;Z<z;Z+=1)D=T[Z-w]||0,V=P&&P[Z]||0,k[Z+1]=T[Z]+256-(D+V>>>1)&255;return k},f=function(T,w,P){var D,V,k,z,Z=[],he=T.length;Z[0]=4;for(var de=0;de<he;de+=1)D=T[de-w]||0,V=P&&P[de]||0,k=P&&P[de-w]||0,z=m(D,V,k),Z[de+1]=T[de]-z+256&255;return Z},m=function(T,w,P){if(T===w&&w===P)return T;var D=Math.abs(w-P),V=Math.abs(T-P),k=Math.abs(T+w-P-P);return D<=V&&D<=k?T:V<=k?w:P},b=function(){return[a,o,u,h,f]},A=function(T){var w=T.map(function(P){return P.reduce(function(D,V){return D+Math.abs(V)},0)});return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(T,w,P,D){var V,k,z,Z,he,de,De,H,C,O,W,R,L,U,se,ke=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(T)&&(T=new Uint8Array(T)),this.__addimage__.isArrayBufferView(T)){if(T=(z=new jI(T)).imgData,k=z.bits,V=z.colorSpace,he=z.colors,[4,6].indexOf(z.colorType)!==-1){if(z.bits===8){C=(H=z.pixelBitlength==32?new Uint32Array(z.decodePixels().buffer):z.pixelBitlength==16?new Uint16Array(z.decodePixels().buffer):new Uint8Array(z.decodePixels().buffer)).length,W=new Uint8Array(C*z.colors),O=new Uint8Array(C);var Ae,ce=z.pixelBitlength-z.bits;for(U=0,se=0;U<C;U++){for(L=H[U],Ae=0;Ae<ce;)W[se++]=L>>>Ae&255,Ae+=z.bits;O[U]=L>>>Ae&255}}if(z.bits===16){C=(H=new Uint32Array(z.decodePixels().buffer)).length,W=new Uint8Array(C*(32/z.pixelBitlength)*z.colors),O=new Uint8Array(C*(32/z.pixelBitlength)),R=z.colors>1,U=0,se=0;for(var Le=0;U<C;)L=H[U++],W[se++]=L>>>0&255,R&&(W[se++]=L>>>16&255,L=H[U++],W[se++]=L>>>0&255),O[Le++]=L>>>16&255;k=8}D!==n.image_compression.NONE&&e()?(T=t(W,z.width*z.colors,z.colors,D),De=t(O,z.width,1,D)):(T=W,De=O,ke=void 0)}if(z.colorType===3&&(V=this.color_spaces.INDEXED,de=z.palette,z.transparency.indexed)){var X=z.transparency.indexed,Te=0;for(U=0,C=X.length;U<C;++U)Te+=X[U];if((Te/=255)===C-1&&X.indexOf(0)!==-1)Z=[X.indexOf(0)];else if(Te!==C){for(H=z.decodePixels(),O=new Uint8Array(H.length),U=0,C=H.length;U<C;U++)O[U]=X[H[U]];De=t(O,z.width,1)}}var F=function(Y){var J;switch(Y){case n.image_compression.FAST:J=11;break;case n.image_compression.MEDIUM:J=13;break;case n.image_compression.SLOW:J=14;break;default:J=12}return J}(D);return ke===this.decode.FLATE_DECODE&&(le="/Predictor "+F+" "),le+="/Colors "+he+" /BitsPerComponent "+k+" /Columns "+z.width,(this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),(De&&this.__addimage__.isArrayBuffer(De)||this.__addimage__.isArrayBufferView(De))&&(De=this.__addimage__.arrayBufferToBinaryString(De)),{alias:P,data:T,index:w,filter:ke,decodeParameters:le,transparency:Z,palette:de,sMask:De,predictor:F,width:z.width,height:z.height,bitsPerComponent:k,colorSpace:V}}}})(It.API),function(n){n.processGIF89A=function(e,t,r,a){var o=new VI(e),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:u,height:h},b=new Gm(100).encode(m,100);return n.processJPEG.call(this,b,t,r,a)},n.processGIF87A=n.processGIF89A}(It.API),Ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ga.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Un.log("bit decode error:"+t)}},Ga.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}t!==0&&(this.pos+=4-t)}},Ga.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,h=o>>4,f=15&o,m=this.palette[h];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*a+1>=this.width)break;m=this.palette[f],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Ga.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ga.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,m=o>>15?255:0,b=r*this.width*4+4*a;this.data[b]=f,this.data[b+1]=h,this.data[b+2]=u,this.data[b+3]=m}this.pos+=n}},Ga.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,m=(u>>11)/e*255|0,b=a*this.width*4+4*o;this.data[b]=m,this.data[b+1]=f,this.data[b+2]=h,this.data[b+3]=255}this.pos+=n}},Ga.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},Ga.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=u}},Ga.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,a){var o=new Ga(e,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},m=new Gm(100).encode(f,100);return n.processJPEG.call(this,m,t,r,a)}}(It.API),W_.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,a){var o=new W_(e),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},m=new Gm(100).encode(f,100);return n.processJPEG.call(this,m,t,r,a)}}(It.API),It.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),h=0,f=0,m=0;m<a;m+=4){var b=r[m],A=r[m+1],T=r[m+2],w=r[m+3];o[h++]=b,o[h++]=A,o[h++]=T,u[f++]=w}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:P,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},It.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bh=It.API,Fp=bh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,m=e.kerning?e.kerning:a.metadata.Unicode.kerning,b=m.fof?m.fof:1,A=e.doKerning!==!1,T=0,w=n.length,P=0,D=h[0]||f,V=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?V.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(T=A&&Rn(m[r])==="object"&&!isNaN(parseInt(m[r][P],10))?m[r][P]/b:0,V.push((h[r]||D)/f+T)),P=r;return V},z_=bh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return bh.processArabic&&(n=bh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:Fp.apply(this,arguments).reduce(function(o,u){return o+u},0)},H_=function(n,e,t,r){for(var a=[],o=0,u=n.length,h=0;o!==u&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+e[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},G_=function(n,e,t){t||(t={});var r,a,o,u,h,f,m,b=[],A=[b],T=t.textIndent||0,w=0,P=0,D=n.split(" "),V=Fp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?D[0].length+2:t.lineIndent||0){var k=Array(f).join(" "),z=[];D.map(function(he){(he=he.split(/\s*\n/)).length>1?z=z.concat(he.map(function(de,De){return(De&&de.length?`
`:"")+de})):z.push(he[0])}),D=z,f=z_.apply(this,[k,t])}for(o=0,u=D.length;o<u;o++){var Z=0;if(r=D[o],f&&r[0]==`
`&&(r=r.substr(1),Z=1),T+w+(P=(a=Fp.apply(this,[r,t])).reduce(function(he,de){return he+de},0))>e||Z){if(P>e){for(h=H_.apply(this,[r,a,e-(T+w),e]),b.push(h.shift()),b=[h.pop()];h.length;)A.push([h.shift()]);P=a.slice(r.length-(b[0]?b[0].length:0)).reduce(function(he,de){return he+de},0)}else b=[r];A.push(b),T=P+f,w=V}else b.push(r),T+=w+P,w=V}return m=f?function(he,de){return(de?k:"")+he.join(" ")}:function(he){return he.join(" ")},A.map(m)},bh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var A=this.internal.getFont(b.fontName,b.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,f,m=[];for(h=0,f=r.length;h<f;h++)m=m.concat(G_.apply(this,[r[h],u,o]));return m},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=e[a];var o=function(A){return"0x"+parseInt(A,10).toString(16)},u=n.__fontmetrics__.compress=function(A){var T,w,P,D,V=["{"];for(var k in A){if(T=A[k],isNaN(parseInt(k,10))?w="'"+k+"'":(k=parseInt(k,10),w=(w=o(k).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof T=="number")T<0?(P=o(T).slice(3),D="-"):(P=o(T).slice(2),D=""),P=D+P.slice(0,-1)+r[P.slice(-1)];else{if(Rn(T)!=="object")throw new Error("Don't know what to do with value type "+Rn(T)+".");P=u(T)}V.push(w+P)}return V.push("}"),V.join("")},h=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var T,w,P,D,V={},k=1,z=V,Z=[],he="",de="",De=A.length-1,H=1;H<De;H+=1)(D=A[H])=="'"?T?(P=T.join(""),T=void 0):T=[]:T?T.push(D):D=="{"?(Z.push([z,P]),z={},P=void 0):D=="}"?((w=Z.pop())[0][w[1]]=z,P=void 0,z=w[0]):D=="-"?k=-1:P===void 0?t.hasOwnProperty(D)?(he+=t[D],P=parseInt(he,16)*k,k=1,he=""):he+=D:t.hasOwnProperty(D)?(de+=t[D],z[P]=parseInt(de,16)*k,k=1,P=void 0,de=""):de+=D;return V},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var T=A.font,w=b.Unicode[T.postScriptName];w&&(T.metadata.Unicode={},T.metadata.Unicode.widths=w.widths,T.metadata.Unicode.kerning=w.kerning);var P=m.Unicode[T.postScriptName];P&&(T.metadata.Unicode.encoding=P,T.encoding=P.codePages[0])}])}(It.API),function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(od(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])}(It),function(n){function e(){return(Pt.canvg?Promise.resolve(Pt.canvg):w1(()=>import("./index.es-Drs9W_CR.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}It.API.addSvgAsImage=function(t,r,a,o,u,h,f,m){if(isNaN(r)||isNaN(a))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(u))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=o,b.height=u;var A=b.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,b.width,b.height);var T={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(P){return P.fromString(A,t,T)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(T)}).then(function(){w.addImage(b.toDataURL("image/jpeg",1),r,a,o,u,f,m)})}}(),It.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},It.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],m=0,b=0,A=0;function T(P,D){var V,k=!1;for(V=0;V<P.length;V+=1)P[V]===D&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=h.length;for(A=0;A<w;A+=1)t[h[A]].value=t[h[A]].defaultValue,t[h[A]].explicitSet=!1}if(Rn(n)==="object"){for(a in n)if(o=n[a],T(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&T(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(b=0;b<o[m].length;b+=1)typeof o[m][b]!="number"&&(r=!1);r===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,D=[];for(P in t)t[P].explicitSet===!0&&(t[P].type==="name"?D.push("/"+P+" /"+t[P].value):D.push("/"+P+" "+t[P].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+u.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(It.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],A=0,T=o.length;A<T;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(m[4-h.length],h)}return b.join("")},r=function(o){var u,h,f,m,b,A,T;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,T=(h=Object.keys(o).sort(function(w,P){return w-P})).length;A<T;A++)u=h[A],f.length>=100&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(m=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+m+">"));return f.length&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,m=u.newObject,b=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,T=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",P=0;P<T.length;P++)w+=String.fromCharCode(T[P]);var D=m();b({data:w,addLength1:!0,objectId:D}),f("endobj");var V=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:V}),f("endobj");var k=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xh(h.fontName)),f("/FontFile2 "+D+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var z=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+xh(h.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+V+" 0 R"),f("/BaseFont /"+xh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+z+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,m=u.newObject,b=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,T="",w=0;w<A.length;w++)T+=String.fromCharCode(A[w]);var P=m();b({data:T,addLength1:!0,objectId:P}),f("endobj");var D=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:D}),f("endobj");var V=m();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+P+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+xh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=m();for(var k=0;k<h.metadata.hmtx.widths.length;k++)h.metadata.hmtx.widths[k]=parseInt(h.metadata.hmtx.widths[k]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+xh(h.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,h=o.text||"",f=o.x,m=o.y,b=o.options||{},A=o.mutex||{},T=A.pdfEscape,w=A.activeFontKey,P=A.fonts,D=w,V="",k=0,z="",Z=P[D].encoding;if(P[D].encoding!=="Identity-H")return{text:h,x:f,y:m,options:b,mutex:A};for(z=h,D=w,Array.isArray(h)&&(z=h[0]),k=0;k<z.length;k+=1)P[D].metadata.hasOwnProperty("cmap")&&(u=P[D].metadata.cmap.unicode.codeMap[z[k].charCodeAt(0)]),u||z[k].charCodeAt(0)<256&&P[D].metadata.hasOwnProperty("Unicode")?V+=z[k]:V+="";var he="";return parseInt(D.slice(1))<14||Z==="WinAnsiEncoding"?he=T(V,D).split("").map(function(de){return de.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(he=t(V,P[D])),A.isHex=!0,{text:he,x:f,y:m,options:b,mutex:A}};e.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?h.push([a(Object.assign({},f,{text:u[m][0]})).text,u[m][1],u[m][2]]):h.push(a(Object.assign({},f,{text:u[m]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:u})).text}])}(It),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(It.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,h,f,m,b,A=e,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,Z=0;this.__bidiEngine__={};var he=function(R){var L=R.charCodeAt(),U=L>>8,se=D[U];return se!==void 0?A[256*se+(255&L)]:U===252||U===253?"AL":k.test(U)?"L":U===8?"R":"N"},de=function(R){for(var L,U=0;U<R.length;U++){if((L=he(R.charAt(U)))==="L")return!1;if(L==="R")return!0}return!1},De=function(R,L,U,se){var ke,le,Ae,ce,Le=L[se];switch(Le){case"L":case"R":z=!1;break;case"N":case"AN":break;case"EN":z&&(Le="AN");break;case"AL":z=!0,Le="R";break;case"WS":Le="N";break;case"CS":se<1||se+1>=L.length||(ke=U[se-1])!=="EN"&&ke!=="AN"||(le=L[se+1])!=="EN"&&le!=="AN"?Le="N":z&&(le="AN"),Le=le===ke?le:"N";break;case"ES":Le=(ke=se>0?U[se-1]:"B")==="EN"&&se+1<L.length&&L[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&U[se-1]==="EN"){Le="EN";break}if(z){Le="N";break}for(Ae=se+1,ce=L.length;Ae<ce&&L[Ae]==="ET";)Ae++;Le=Ae<ce&&L[Ae]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ce=L.length,Ae=se+1;Ae<ce&&L[Ae]==="NSM";)Ae++;if(Ae<ce){var X=R[se],Te=X>=1425&&X<=2303||X===64286;if(ke=L[Ae],Te&&(ke==="R"||ke==="AL")){Le="R";break}}}Le=se<1||(ke=L[se-1])==="B"?"N":U[se-1];break;case"B":z=!1,a=!0,Le=Z;break;case"S":o=!0,Le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"BN":Le="N"}return Le},H=function(R,L,U){var se=R.split("");return U&&C(se,U,{hiLevel:Z}),se.reverse(),L&&L.reverse(),se.join("")},C=function(R,L,U){var se,ke,le,Ae,ce,Le=-1,X=R.length,Te=0,F=[],Y=Z?w:T,J=[];for(z=!1,a=!1,o=!1,ke=0;ke<X;ke++)J[ke]=he(R[ke]);for(le=0;le<X;le++){if(ce=Te,F[le]=De(R,J,F,le),se=240&(Te=Y[ce][P[F[le]]]),Te&=15,L[le]=Ae=Y[Te][5],se>0)if(se===16){for(ke=Le;ke<le;ke++)L[ke]=1;Le=-1}else Le=-1;if(Y[Te][6])Le===-1&&(Le=le);else if(Le>-1){for(ke=Le;ke<le;ke++)L[ke]=Ae;Le=-1}J[le]==="B"&&(L[le]=0),U.hiLevel|=Ae}o&&function(ie,ae,Ee){for(var we=0;we<Ee;we++)if(ie[we]==="S"){ae[we]=Z;for(var Ne=we-1;Ne>=0&&ie[Ne]==="WS";Ne--)ae[Ne]=Z}}(J,L,X)},O=function(R,L,U,se,ke){if(!(ke.hiLevel<R)){if(R===1&&Z===1&&!a)return L.reverse(),void(U&&U.reverse());for(var le,Ae,ce,Le,X=L.length,Te=0;Te<X;){if(se[Te]>=R){for(ce=Te+1;ce<X&&se[ce]>=R;)ce++;for(Le=Te,Ae=ce-1;Le<Ae;Le++,Ae--)le=L[Le],L[Le]=L[Ae],L[Ae]=le,U&&(le=U[Le],U[Le]=U[Ae],U[Ae]=le);Te=ce}Te++}}},W=function(R,L,U){var se=R.split(""),ke={hiLevel:Z};return U||(U=[]),C(se,U,ke),function(le,Ae,ce){if(ce.hiLevel!==0&&b)for(var Le,X=0;X<le.length;X++)Ae[X]===1&&(Le=V.indexOf(le[X]))>=0&&(le[X]=V[Le+1])}(se,U,ke),O(2,se,L,U,ke),O(1,se,L,U,ke),se.join("")};return this.__bidiEngine__.doBidiReorder=function(R,L,U){if(function(ke,le){if(le)for(var Ae=0;Ae<ke.length;Ae++)le[Ae]=Ae;h===void 0&&(h=de(ke)),m===void 0&&(m=de(ke))}(R,L),u||!f||m)if(u&&f&&h^m)Z=h?1:0,R=H(R,L,U);else if(!u&&f&&m)Z=h?1:0,R=W(R,L,U),R=H(R,L);else if(!u||h||f||m){if(u&&!f&&h^m)R=H(R,L),h?(Z=0,R=W(R,L,U)):(Z=1,R=W(R,L,U),R=H(R,L));else if(u&&h&&!f&&m)Z=1,R=W(R,L,U),R=H(R,L);else if(!u&&!f&&h^m){var se=b;h?(Z=1,R=W(R,L,U),Z=0,b=!1,R=W(R,L,U),b=se):(Z=0,R=W(R,L,U),R=H(R,L),Z=1,b=!1,R=W(R,L,U),b=se,R=H(R,L))}}else Z=0,R=W(R,L,U);else Z=h?1:0,R=W(R,L,U);return R},this.__bidiEngine__.setOptions=function(R){R&&(u=R.isInputVisual,f=R.isOutputVisual,h=R.isInputRtl,m=R.isOutputRtl,b=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(u=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?u.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):u.push([t.doBidiReorder(a[h])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(It),It.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Vu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new FI(this.contents),this.head=new qI(this),this.name=new WI(this),this.cmap=new O3(this),this.toUnicode={},this.hhea=new zI(this),this.maxp=new $I(this),this.hmtx=new YI(this),this.post=new GI(this),this.os2=new HI(this),this.loca=new ZI(this),this.glyf=new QI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,m;for(m=[],u=0,h=(f=this.bbox).length;u<h;u++)e=f[u],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,h;for(u=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var to,Vu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),FI=function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,h,f,m,b,A,T,w,P,D;for(D in w=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(w)/f),u=Math.floor(A/f),b=16*w-A,(a=new Vu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(A),a.writeShort(u),a.writeShort(b),o=16*w,m=a.pos+o,h=null,P=[],t)for(T=t[D],a.writeString(D),a.writeInt(n(T)),a.writeInt(m),a.writeInt(T.length),P=P.concat(T),D==="head"&&(h=m),m+=T.length;m%4;)P.push(0),m++;return a.write(P),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=D3.call(t);t.length%4;)t.push(0);for(o=new Vu(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e}(),BI={}.hasOwnProperty,zo=function(n,e){for(var t in e)BI.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};to=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var qI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Vu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),$_=function(){function n(e,t){var r,a,o,u,h,f,m,b,A,T,w,P,D,V,k,z,Z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),T=w/2,e.pos+=6,o=function(){var he,de;for(de=[],f=he=0;0<=T?he<T:he>T;f=0<=T?++he:--he)de.push(e.readUInt16());return de}(),e.pos+=2,D=function(){var he,de;for(de=[],f=he=0;0<=T?he<T:he>T;f=0<=T?++he:--he)de.push(e.readUInt16());return de}(),m=function(){var he,de;for(de=[],f=he=0;0<=T?he<T:he>T;f=0<=T?++he:--he)de.push(e.readUInt16());return de}(),b=function(){var he,de;for(de=[],f=he=0;0<=T?he<T:he>T;f=0<=T?++he:--he)de.push(e.readUInt16());return de}(),a=(this.length-e.pos+this.offset)/2,h=function(){var he,de;for(de=[],f=he=0;0<=a?he<a:he>a;f=0<=a?++he:--he)de.push(e.readUInt16());return de}(),f=k=0,Z=o.length;k<Z;f=++k)for(V=o[f],r=z=P=D[f];P<=V?z<=V:z>=V;r=P<=V?++z:--z)b[f]===0?u=r+m[f]:(u=h[b[f]/2+(r-P)-(T-f)]||0)!==0&&(u+=m[f]),this.codeMap[r]=65535&u}e.pos=A}return n.encode=function(e,t){var r,a,o,u,h,f,m,b,A,T,w,P,D,V,k,z,Z,he,de,De,H,C,O,W,R,L,U,se,ke,le,Ae,ce,Le,X,Te,F,Y,J,ie,ae,Ee,we,Ne,He,Ye,it;switch(se=new Vu,u=Object.keys(e).sort(function(tt,_t){return tt-_t}),t){case"macroman":for(D=0,V=function(){var tt=[];for(P=0;P<256;++P)tt.push(0);return tt}(),z={0:0},o={},ke=0,Le=u.length;ke<Le;ke++)z[Ne=e[a=u[ke]]]==null&&(z[Ne]=++D),o[a]={old:e[a],new:z[e[a]]},V[a]=z[e[a]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(V),{charMap:o,subtable:se.data,maxGlyphID:D+1};case"unicode":for(L=[],A=[],Z=0,z={},r={},k=m=null,le=0,X=u.length;le<X;le++)z[de=e[a=u[le]]]==null&&(z[de]=++Z),r[a]={old:de,new:z[de]},h=z[de]-a,k!=null&&h===m||(k&&A.push(k),L.push(a),m=h),k=a;for(k&&A.push(k),A.push(65535),L.push(65535),W=2*(O=L.length),C=2*Math.pow(Math.log(O)/Math.LN2,2),T=Math.log(C/2)/Math.LN2,H=2*O-C,f=[],De=[],w=[],P=Ae=0,Te=L.length;Ae<Te;P=++Ae){if(R=L[P],b=A[P],R===65535){f.push(0),De.push(0);break}if(R-(U=r[R].new)>=32768)for(f.push(0),De.push(2*(w.length+O-P)),a=ce=R;R<=b?ce<=b:ce>=b;a=R<=b?++ce:--ce)w.push(r[a].new);else f.push(U-R),De.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*O+2*w.length),se.writeUInt16(0),se.writeUInt16(W),se.writeUInt16(C),se.writeUInt16(T),se.writeUInt16(H),Ee=0,F=A.length;Ee<F;Ee++)a=A[Ee],se.writeUInt16(a);for(se.writeUInt16(0),we=0,Y=L.length;we<Y;we++)a=L[we],se.writeUInt16(a);for(He=0,J=f.length;He<J;He++)h=f[He],se.writeUInt16(h);for(Ye=0,ie=De.length;Ye<ie;Ye++)he=De[Ye],se.writeUInt16(he);for(it=0,ae=w.length;it<ae;it++)D=w[it],se.writeUInt16(D);return{charMap:r,subtable:se.data,maxGlyphID:Z+1}}},n}(),O3=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)r=new $_(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,o;return r==null&&(r="macroman"),a=$_.encode(t,r),(o=new Vu).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},e}(),zI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),HI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),GI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var u;for(a=t.readUInt16(),this.glyphNameIndex=[],u=0;0<=a?u<a:u>a;u=0<=a?++u:--u)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var h,f,m;for(m=[],u=h=0,f=this.file.maxp.numGlyphs;0<=f?h<f:h>f;u=0<=f?++h:--h)m.push(t.readUInt32());return m}).call(this)}},e}(),KI=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,o,u,h,f,m,b,A,T,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),f=t.readShort(),a=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+f+t.readShort()});for(m={},u=A=0,T=a.length;A<T;u=++A)o=a[u],t.pos=o.offset,b=t.readString(o.length),h=new KI(b,o),m[w=o.nameID]==null&&(m[w]=[]),m[o.nameID].push(h);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},e}(),$I=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),YI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,o,u,h,f,m;for(t.pos=this.offset,this.metrics=[],r=0,f=this.file.hhea.numberOfMetrics;0<=f?r<f:r>f;r=0<=f?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,A;for(A=[],r=b=0;0<=o?b<o:b>o;r=0<=o?++b:--b)A.push(t.readInt16());return A}(),this.widths=(function(){var b,A,T,w;for(w=[],b=0,A=(T=this.metrics).length;b<A;b++)u=T[b],w.push(u.advance);return w}).call(this),a=this.widths[this.widths.length-1],m=[],r=h=0;0<=o?h<o:h>o;r=0<=o?++h:--h)m.push(this.widths.push(a));return m},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),D3=[].slice,QI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,o,u,h,f,m,b,A,T;return t in this.cache?this.cache[t]:(u=this.file.loca,r=this.file.contents,a=u.indexOf(t),(o=u.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,h=(f=new Vu(r.read(o))).readShort(),b=f.readShort(),T=f.readShort(),m=f.readShort(),A=f.readShort(),this.cache[t]=h===-1?new JI(f,b,T,m,A):new XI(f,h,b,T,m,A),this.cache[t]))},e.prototype.encode=function(t,r,a){var o,u,h,f,m;for(h=[],u=[],f=0,m=r.length;f<m;f++)o=t[r[f]],u.push(h.length),o&&(h=h.concat(o.encode(a)));return u.push(h.length),{table:h,offsets:u}},e}(),XI=function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),JI=function(){function n(e,t,r,a,o){var u,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Vu(D3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),ZI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return zo(e,to),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,u;for(u=[],a=0,o=this.length;a<o;a+=2)u.push(2*t.readUInt16());return u}).call(this):(function(){var o,u;for(u=[],a=0,o=this.length;a<o;a+=4)u.push(t.readUInt32());return u}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),o=0,u=0,h=0;h<a.length;++h)if(a[h]=o,u<r.length&&r[u]==h){++u,a[h]=o;var f=this.offsets[h],m=this.offsets[h+1]-f;m>0&&(o+=m)}for(var b=new Array(4*a.length),A=0;A<a.length;++A)b[4*A+3]=255&a[A],b[4*A+2]=(65280&a[A])>>8,b[4*A+1]=(16711680&a[A])>>16,b[4*A]=(4278190080&a[A])>>24;return b},e}(),eL=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,h,f;for(a={},u=0,h=e.length;u<h;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,h,f,m,b,A,T,w,P,D,V,k;for(a in r=O3.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},k=r.charMap)w[(f=k[a]).old]=f.new;for(P in T=r.maxGlyphID,u)P in w||(w[P]=T++);return b=function(z){var Z,he;for(Z in he={},z)he[z[Z]]=Z;return he}(w),A=Object.keys(b).sort(function(z,Z){return z-Z}),D=function(){var z,Z,he;for(he=[],z=0,Z=A.length;z<Z;z++)h=A[z],he.push(b[h]);return he}(),o=this.font.glyf.encode(u,D,w),m=this.font.loca.encode(o.offsets,D),V={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},n}();It.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+function(){var h,f,m;for(m=[],h=0,f=t.length;h<f;h++)r=t[h],m.push(e.convert(r));return m}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e}();function tL(){const[n,e]=Od(Ks),{id:t}=Y0(),{tags:r,taggedArtworks:a,isLoading:o}=J0(),[u,h]=Me.useState(!1);if(e||o)return ye.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:ye.jsx(Dd,{})});const f=r.find(A=>A.id===t);if(!f)return ye.jsx("div",{className:"text-center text-red-500 mt-10",children:"Tag not found"});const m=async()=>{const A=new It;A.setFontSize(20),A.text(f.name,20,20);let T=30;if(a[f.id]&&a[f.id].length>0){for(const w of a[f.id])if(w){A.setFontSize(12),A.text(w.title,20,T);try{const P=await b(w.image);A.addImage(P,"JPEG",20,T+5,50,50)}catch(P){console.error("Error loading image:",P),A.text("Image could not be loaded",20,T+10)}A.addImage(imageUrl,"JPEG",xPos,yPos,imgWidth,imgHeight),T+=20}}else A.setFontSize(12),A.text("No artworks available for this tag.",20,T);A.save(`${f.name}_artworks.pdf`)},b=async A=>{const w=await(await fetch(A)).blob();return new Promise((P,D)=>{const V=new FileReader;V.onloadend=()=>P(V.result),V.onerror=D,V.readAsDataURL(w)})};return ye.jsxs("div",{className:"flex flex-col min-h-screen w-full p-0",children:[ye.jsx(X0,{}),ye.jsxs("div",{className:"flex flex-col gap-8 p-20",children:[ye.jsx(Ll,{to:"/tags",className:"text-blue-500 text-left",children:"All tags"}),ye.jsx("h1",{className:"text-3xl text-left",children:f.name}),ye.jsx("div",{className:"grid grid-rows-auto gap-4 w-full items-center px-12 pt-4",children:ye.jsx("div",{className:"grid gap-4 xs:grid-cols-1  sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 w-full",children:a[f.id]&&a[f.id].length>0?a[f.id].map(A=>A?ye.jsxs("div",{className:"relative group",children:[ye.jsx("img",{src:A.image,alt:A.title,className:"w-full h-48 object-cover rounded-md shadow"}),ye.jsx("p",{className:"text-center mt-2",children:A.title})]},A.id):null):ye.jsx("p",{className:"text-gray-500",children:"No artworks available for this tag."})})}),ye.jsx("button",{onClick:m,className:"mt-6 p-2 bg-blue-500 text-white rounded-md",children:"Download PDF"})]})]})}function Rh({children:n}){const[e]=Od(Ks);return e?n:ye.jsx(rC,{to:"/"})}Rh.propTypes={children:li.node.isRequired};function nL(){const[n,e]=Od(Ks);return e?ye.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:ye.jsx(Dd,{})}):ye.jsx(ye.Fragment,{children:ye.jsx(u3,{children:ye.jsx(CC,{children:ye.jsxs(sC,{children:[ye.jsx(_c,{path:"/",element:n?ye.jsx(QC,{}):ye.jsx(eI,{})}),ye.jsx(_c,{path:"/tags",element:ye.jsx(Rh,{children:ye.jsx(tI,{})})}),ye.jsx(_c,{path:"/tag/:id",element:ye.jsx(Rh,{children:ye.jsx(tL,{})})}),ye.jsx(_c,{path:"/artwork/:id",element:ye.jsx(Rh,{children:ye.jsx(XC,{})})}),ye.jsx(_c,{path:"/new",element:ye.jsx(Rh,{children:ye.jsx(Bg,{})})}),ye.jsx(_c,{path:"/edit/:id",element:ye.jsx(Rh,{children:ye.jsx(JC,{})})})]})})})})}WA.createRoot(document.getElementById("root")).render(ye.jsx(Me.StrictMode,{children:ye.jsx(nL,{})}));export{Rn as _,rL as c,Y_ as g};
